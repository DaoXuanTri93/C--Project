2024-09-20 09:29:37.985 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 09:29:38.179 +07:00 [DBG] Hosting starting
2024-09-20 09:29:38.627 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 09:29:38.678 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 09:29:38.679 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 09:29:38.679 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 09:29:38.679 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 09:29:38.679 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 09:29:38.680 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 09:29:38.681 +07:00 [INF] Hosting environment: Development
2024-09-20 09:29:38.681 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 09:29:38.681 +07:00 [DBG] Hosting started
2024-09-20 09:29:38.983 +07:00 [DBG] Connection id "0HN6P3G9OHI8I" accepted.
2024-09-20 09:29:38.983 +07:00 [DBG] Connection id "0HN6P3G9OHI8J" accepted.
2024-09-20 09:29:38.985 +07:00 [DBG] Connection id "0HN6P3G9OHI8J" started.
2024-09-20 09:29:38.985 +07:00 [DBG] Connection id "0HN6P3G9OHI8I" started.
2024-09-20 09:29:38.999 +07:00 [DBG] Connection id "0HN6P3G9OHI8I" received FIN.
2024-09-20 09:29:38.999 +07:00 [DBG] Connection id "0HN6P3G9OHI8J" received FIN.
2024-09-20 09:29:39.030 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 09:29:39.030 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 09:29:39.122 +07:00 [DBG] Connection id "0HN6P3G9OHI8J" stopped.
2024-09-20 09:29:39.122 +07:00 [DBG] Connection id "0HN6P3G9OHI8I" stopped.
2024-09-20 09:29:39.127 +07:00 [DBG] Connection id "0HN6P3G9OHI8I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 09:29:39.127 +07:00 [DBG] Connection id "0HN6P3G9OHI8J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 09:29:39.360 +07:00 [DBG] Connection id "0HN6P3G9OHI8K" accepted.
2024-09-20 09:29:39.361 +07:00 [DBG] Connection id "0HN6P3G9OHI8K" started.
2024-09-20 09:29:39.458 +07:00 [DBG] Connection 0HN6P3G9OHI8K established using the following protocol: "Tls12"
2024-09-20 09:29:39.545 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 09:29:39.589 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 09:29:39.805 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 09:29:40.027 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 09:29:40.033 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 495.7887ms
2024-09-20 09:29:40.034 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 09:29:40.036 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 09:29:40.045 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 10.7991ms
2024-09-20 09:29:40.112 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 75.9031ms
2024-09-20 09:29:40.155 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 09:29:40.330 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 175.8726ms
2024-09-20 09:29:56.000 +07:00 [DBG] Connection id "0HN6P3G9OHI8L" accepted.
2024-09-20 09:29:56.000 +07:00 [DBG] Connection id "0HN6P3G9OHI8L" started.
2024-09-20 09:29:56.011 +07:00 [DBG] Connection id "0HN6P3G9OHI8L" received FIN.
2024-09-20 09:29:56.011 +07:00 [DBG] Connection id "0HN6P3G9OHI8M" accepted.
2024-09-20 09:29:56.012 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 09:29:56.012 +07:00 [DBG] Connection id "0HN6P3G9OHI8M" started.
2024-09-20 09:29:56.014 +07:00 [DBG] Connection id "0HN6P3G9OHI8L" stopped.
2024-09-20 09:29:56.014 +07:00 [DBG] Connection id "0HN6P3G9OHI8L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 09:29:56.018 +07:00 [DBG] Connection 0HN6P3G9OHI8M established using the following protocol: "Tls12"
2024-09-20 09:29:56.027 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities - -
2024-09-20 09:29:56.028 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 09:29:56.046 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-20 09:29:56.051 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-20 09:29:56.052 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 09:29:56.055 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 09:29:56.079 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 09:29:56.081 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 09:29:56.081 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 09:29:56.082 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 09:29:56.083 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 09:29:56.083 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 09:29:56.084 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 09:29:56.316 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 09:29:56.336 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 09:30:07.878 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 09:30:07.916 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-09-20 09:30:08.137 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 09:30:08.171 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 09:30:08.304 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (130ms).
2024-09-20 09:30:08.314 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 09:30:08.355 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 09:30:08.367 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-20 09:30:08.385 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-20 09:30:08.404 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 09:30:08.431 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 09:30:08.432 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 09:30:08.437 +07:00 [DBG] A data reader was disposed.
2024-09-20 09:30:08.451 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 09:30:08.455 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 09:30:30.445 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 09:30:30.448 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 09:30:30.448 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 09:30:30.449 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 09:30:30.449 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 09:30:30.450 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 09:30:30.580 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 34492.2042ms
2024-09-20 09:30:30.581 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 09:30:30.582 +07:00 [DBG] Connection id "0HN6P3G9OHI8M" completed keep alive response.
2024-09-20 09:30:30.585 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 09:30:30.588 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities - - - 200 230 application/json;+charset=utf-8 34560.4677ms
2024-09-20 09:43:54.051 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 09:43:54.135 +07:00 [DBG] Hosting starting
2024-09-20 09:43:54.287 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 09:43:54.314 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 09:43:54.314 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 09:43:54.315 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 09:43:54.315 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 09:43:54.316 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 09:43:54.316 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 09:43:54.317 +07:00 [INF] Hosting environment: Development
2024-09-20 09:43:54.317 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 09:43:54.318 +07:00 [DBG] Hosting started
2024-09-20 09:43:54.729 +07:00 [DBG] Connection id "0HN6P3O8PJ7T2" received FIN.
2024-09-20 09:43:54.729 +07:00 [DBG] Connection id "0HN6P3O8PJ7T1" received FIN.
2024-09-20 09:43:54.738 +07:00 [DBG] Connection id "0HN6P3O8PJ7T1" accepted.
2024-09-20 09:43:54.738 +07:00 [DBG] Connection id "0HN6P3O8PJ7T2" accepted.
2024-09-20 09:43:54.739 +07:00 [DBG] Connection id "0HN6P3O8PJ7T2" started.
2024-09-20 09:43:54.739 +07:00 [DBG] Connection id "0HN6P3O8PJ7T1" started.
2024-09-20 09:43:54.751 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 09:43:54.751 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 09:43:54.799 +07:00 [DBG] Connection id "0HN6P3O8PJ7T2" stopped.
2024-09-20 09:43:54.799 +07:00 [DBG] Connection id "0HN6P3O8PJ7T1" stopped.
2024-09-20 09:43:54.802 +07:00 [DBG] Connection id "0HN6P3O8PJ7T1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 09:43:54.802 +07:00 [DBG] Connection id "0HN6P3O8PJ7T2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 09:43:54.911 +07:00 [DBG] Connection id "0HN6P3O8PJ7T3" accepted.
2024-09-20 09:43:54.912 +07:00 [DBG] Connection id "0HN6P3O8PJ7T3" started.
2024-09-20 09:43:54.957 +07:00 [DBG] Connection 0HN6P3O8PJ7T3 established using the following protocol: "Tls12"
2024-09-20 09:43:55.033 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 09:43:55.067 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 09:43:55.259 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 09:43:55.452 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 09:43:55.462 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 431.8667ms
2024-09-20 09:43:55.489 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 09:43:55.489 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 09:43:55.532 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 46.1206ms
2024-09-20 09:43:55.565 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 76.5295ms
2024-09-20 09:43:55.594 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 09:43:55.738 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 144.1938ms
2024-09-20 09:43:59.562 +07:00 [DBG] Connection id "0HN6P3O8PJ7T4" accepted.
2024-09-20 09:43:59.562 +07:00 [DBG] Connection id "0HN6P3O8PJ7T4" received FIN.
2024-09-20 09:43:59.562 +07:00 [DBG] Connection id "0HN6P3O8PJ7T4" started.
2024-09-20 09:43:59.563 +07:00 [DBG] Connection id "0HN6P3O8PJ7T5" accepted.
2024-09-20 09:43:59.565 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 09:43:59.565 +07:00 [DBG] Connection id "0HN6P3O8PJ7T5" started.
2024-09-20 09:43:59.566 +07:00 [DBG] Connection id "0HN6P3O8PJ7T4" stopped.
2024-09-20 09:43:59.566 +07:00 [DBG] Connection id "0HN6P3O8PJ7T4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 09:43:59.569 +07:00 [DBG] Connection 0HN6P3O8PJ7T5 established using the following protocol: "Tls12"
2024-09-20 09:43:59.578 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1 - -
2024-09-20 09:43:59.580 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 09:43:59.596 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-20 09:43:59.601 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-20 09:43:59.602 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 09:43:59.604 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 09:43:59.635 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] GetCity(Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 09:43:59.636 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 09:43:59.637 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 09:43:59.637 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 09:43:59.638 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 09:43:59.639 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 09:43:59.640 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 09:43:59.744 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 09:43:59.764 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 09:43:59.772 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-20 09:43:59.775 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-20 09:43:59.777 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 09:43:59.778 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 09:43:59.778 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-20 09:43:59.780 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-20 09:44:00.397 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 09:44:00.439 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(c => c.Id == __cityId_0)'
2024-09-20 09:44:00.674 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.Id == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 09:44:00.715 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 09:44:00.756 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (38ms).
2024-09-20 09:44:00.769 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 09:44:00.782 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 09:44:00.796 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 09:44:00.855 +07:00 [INF] Executed DbCommand (65ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 09:44:00.869 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 09:44:00.894 +07:00 [DBG] A data reader was disposed.
2024-09-20 09:44:00.900 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 09:44:00.904 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 09:44:00.905 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 09:44:00.909 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 09:44:00.909 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 09:44:00.909 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 09:44:00.910 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 09:44:00.911 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 09:44:01.017 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1374.14ms
2024-09-20 09:44:01.018 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 09:44:01.019 +07:00 [DBG] Connection id "0HN6P3O8PJ7T5" completed keep alive response.
2024-09-20 09:44:01.022 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 09:44:01.025 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1 - - - 200 106 application/json;+charset=utf-8 1446.8298ms
2024-09-20 10:31:48.611 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 10:31:48.748 +07:00 [DBG] Hosting starting
2024-09-20 10:31:48.910 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 10:31:48.979 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 10:31:48.980 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 10:31:48.981 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 10:31:48.982 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 10:31:48.983 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 10:31:48.983 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 10:31:48.984 +07:00 [INF] Hosting environment: Development
2024-09-20 10:31:48.985 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 10:31:48.985 +07:00 [DBG] Hosting started
2024-09-20 10:31:49.355 +07:00 [DBG] Connection id "0HN6P4J1G4PA8" accepted.
2024-09-20 10:31:49.356 +07:00 [DBG] Connection id "0HN6P4J1G4PA8" started.
2024-09-20 10:31:49.362 +07:00 [DBG] Connection id "0HN6P4J1G4PA9" accepted.
2024-09-20 10:31:49.362 +07:00 [DBG] Connection id "0HN6P4J1G4PA9" started.
2024-09-20 10:31:49.376 +07:00 [DBG] Connection id "0HN6P4J1G4PA9" received FIN.
2024-09-20 10:31:49.376 +07:00 [DBG] Connection id "0HN6P4J1G4PA8" received FIN.
2024-09-20 10:31:49.393 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 10:31:49.393 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 10:31:49.419 +07:00 [DBG] Connection id "0HN6P4J1G4PA9" stopped.
2024-09-20 10:31:49.419 +07:00 [DBG] Connection id "0HN6P4J1G4PA8" stopped.
2024-09-20 10:31:49.420 +07:00 [DBG] Connection id "0HN6P4J1G4PA8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 10:31:49.420 +07:00 [DBG] Connection id "0HN6P4J1G4PA9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 10:31:49.527 +07:00 [DBG] Connection id "0HN6P4J1G4PAA" accepted.
2024-09-20 10:31:49.531 +07:00 [DBG] Connection id "0HN6P4J1G4PAA" started.
2024-09-20 10:31:49.602 +07:00 [DBG] Connection 0HN6P4J1G4PAA established using the following protocol: "Tls12"
2024-09-20 10:31:49.665 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 10:31:49.701 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 10:31:49.892 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 10:31:50.002 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 10:31:50.012 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 355.1792ms
2024-09-20 10:31:50.014 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 10:31:50.014 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 10:31:50.037 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 22.7854ms
2024-09-20 10:31:50.054 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 40.2785ms
2024-09-20 10:31:50.082 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 10:31:50.219 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 136.1290ms
2024-09-20 10:31:54.254 +07:00 [DBG] Connection id "0HN6P4J1G4PAB" accepted.
2024-09-20 10:31:54.254 +07:00 [DBG] Connection id "0HN6P4J1G4PAB" received FIN.
2024-09-20 10:31:54.254 +07:00 [DBG] Connection id "0HN6P4J1G4PAB" started.
2024-09-20 10:31:54.254 +07:00 [DBG] Connection id "0HN6P4J1G4PAC" accepted.
2024-09-20 10:31:54.257 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 10:31:54.257 +07:00 [DBG] Connection id "0HN6P4J1G4PAC" started.
2024-09-20 10:31:54.260 +07:00 [DBG] Connection id "0HN6P4J1G4PAB" stopped.
2024-09-20 10:31:54.261 +07:00 [DBG] Connection id "0HN6P4J1G4PAB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 10:31:54.263 +07:00 [DBG] Connection 0HN6P4J1G4PAC established using the following protocol: "Tls12"
2024-09-20 10:31:54.271 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities - -
2024-09-20 10:31:54.273 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 10:31:54.292 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-20 10:31:54.297 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-20 10:31:54.298 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 10:31:54.300 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 10:31:54.351 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 10:31:54.352 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 10:31:54.353 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 10:31:54.353 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 10:31:54.354 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 10:31:54.354 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 10:31:54.355 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 10:31:54.612 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 10:31:54.644 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 281.9399ms
2024-09-20 10:31:54.649 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 10:31:54.650 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AutoMapper.IMapper' while attempting to activate 'CityInfo.API.Controllers.CitiesController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 10:31:54.691 +07:00 [DBG] Connection id "0HN6P4J1G4PAC" completed keep alive response.
2024-09-20 10:31:54.697 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities - - - 500 - text/plain;+charset=utf-8 425.5723ms
2024-09-20 10:49:53.155 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 10:49:53.319 +07:00 [DBG] Hosting starting
2024-09-20 10:49:53.486 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 10:49:53.515 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 10:49:53.516 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 10:49:53.516 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 10:49:53.516 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 10:49:53.517 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 10:49:53.517 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 10:49:53.518 +07:00 [INF] Hosting environment: Development
2024-09-20 10:49:53.519 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 10:49:53.519 +07:00 [DBG] Hosting started
2024-09-20 10:49:53.902 +07:00 [DBG] Connection id "0HN6P4T4N622S" accepted.
2024-09-20 10:49:53.902 +07:00 [DBG] Connection id "0HN6P4T4N622R" accepted.
2024-09-20 10:49:53.903 +07:00 [DBG] Connection id "0HN6P4T4N622S" started.
2024-09-20 10:49:53.903 +07:00 [DBG] Connection id "0HN6P4T4N622R" started.
2024-09-20 10:49:53.905 +07:00 [DBG] Connection id "0HN6P4T4N622S" received FIN.
2024-09-20 10:49:53.905 +07:00 [DBG] Connection id "0HN6P4T4N622R" received FIN.
2024-09-20 10:49:53.923 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 10:49:53.923 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 10:49:53.956 +07:00 [DBG] Connection id "0HN6P4T4N622R" stopped.
2024-09-20 10:49:53.956 +07:00 [DBG] Connection id "0HN6P4T4N622S" stopped.
2024-09-20 10:49:53.958 +07:00 [DBG] Connection id "0HN6P4T4N622R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 10:49:53.958 +07:00 [DBG] Connection id "0HN6P4T4N622S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 10:49:54.176 +07:00 [DBG] Connection id "0HN6P4T4N622T" accepted.
2024-09-20 10:49:54.177 +07:00 [DBG] Connection id "0HN6P4T4N622T" started.
2024-09-20 10:49:54.221 +07:00 [DBG] Connection 0HN6P4T4N622T established using the following protocol: "Tls12"
2024-09-20 10:49:54.291 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 10:49:54.341 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 10:49:54.577 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 10:49:54.685 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 10:49:54.690 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 402.4183ms
2024-09-20 10:49:54.707 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 10:49:54.707 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 10:49:54.720 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 12.3090ms
2024-09-20 10:49:54.734 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.7593ms
2024-09-20 10:49:54.770 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 10:49:54.915 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 144.9788ms
2024-09-20 10:49:56.887 +07:00 [DBG] Connection id "0HN6P4T4N622U" accepted.
2024-09-20 10:49:56.887 +07:00 [DBG] Connection id "0HN6P4T4N622U" received FIN.
2024-09-20 10:49:56.888 +07:00 [DBG] Connection id "0HN6P4T4N622U" started.
2024-09-20 10:49:56.889 +07:00 [DBG] Connection id "0HN6P4T4N622V" accepted.
2024-09-20 10:49:56.891 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 10:49:56.891 +07:00 [DBG] Connection id "0HN6P4T4N622V" started.
2024-09-20 10:49:56.892 +07:00 [DBG] Connection id "0HN6P4T4N622U" stopped.
2024-09-20 10:49:56.893 +07:00 [DBG] Connection id "0HN6P4T4N622U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 10:49:56.895 +07:00 [DBG] Connection 0HN6P4T4N622V established using the following protocol: "Tls12"
2024-09-20 10:49:56.905 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities - -
2024-09-20 10:49:56.907 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 10:49:56.929 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-20 10:49:56.934 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-20 10:49:56.935 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 10:49:56.938 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 10:49:56.991 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 10:49:56.992 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 10:49:56.993 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 10:49:56.993 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 10:49:56.994 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 10:49:56.994 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 10:49:56.996 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 10:49:57.249 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 10:49:57.283 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 281.9137ms
2024-09-20 10:49:57.286 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 10:49:57.287 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AutoMapper.IMapper' while attempting to activate 'CityInfo.API.Controllers.CitiesController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 10:49:57.307 +07:00 [DBG] Connection id "0HN6P4T4N622V" completed keep alive response.
2024-09-20 10:49:57.310 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities - - - 500 - text/plain;+charset=utf-8 404.4427ms
2024-09-20 10:53:47.995 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 10:53:48.114 +07:00 [DBG] Hosting starting
2024-09-20 10:53:48.255 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 10:53:48.280 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 10:53:48.280 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 10:53:48.281 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 10:53:48.281 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 10:53:48.282 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 10:53:48.282 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 10:53:48.284 +07:00 [INF] Hosting environment: Development
2024-09-20 10:53:48.284 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 10:53:48.285 +07:00 [DBG] Hosting started
2024-09-20 10:53:48.716 +07:00 [DBG] Connection id "0HN6P4VAMH02J" received FIN.
2024-09-20 10:53:48.726 +07:00 [DBG] Connection id "0HN6P4VAMH02I" received FIN.
2024-09-20 10:53:48.727 +07:00 [DBG] Connection id "0HN6P4VAMH02I" accepted.
2024-09-20 10:53:48.727 +07:00 [DBG] Connection id "0HN6P4VAMH02J" accepted.
2024-09-20 10:53:48.756 +07:00 [DBG] Connection id "0HN6P4VAMH02I" started.
2024-09-20 10:53:48.764 +07:00 [DBG] Connection id "0HN6P4VAMH02J" started.
2024-09-20 10:53:48.793 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 10:53:48.793 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 10:53:48.870 +07:00 [DBG] Connection id "0HN6P4VAMH02J" stopped.
2024-09-20 10:53:48.870 +07:00 [DBG] Connection id "0HN6P4VAMH02I" stopped.
2024-09-20 10:53:48.873 +07:00 [DBG] Connection id "0HN6P4VAMH02J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 10:53:48.873 +07:00 [DBG] Connection id "0HN6P4VAMH02I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 10:53:48.894 +07:00 [DBG] Connection id "0HN6P4VAMH02K" accepted.
2024-09-20 10:53:48.895 +07:00 [DBG] Connection id "0HN6P4VAMH02K" started.
2024-09-20 10:53:48.955 +07:00 [DBG] Connection 0HN6P4VAMH02K established using the following protocol: "Tls12"
2024-09-20 10:53:49.044 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 10:53:49.091 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 10:53:49.344 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 10:53:49.461 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 10:53:49.466 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 427.7884ms
2024-09-20 10:53:49.469 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 10:53:49.469 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 10:53:49.489 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 19.8733ms
2024-09-20 10:53:49.520 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 50.9205ms
2024-09-20 10:53:49.542 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 10:53:49.691 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 149.5831ms
2024-09-20 10:53:51.174 +07:00 [DBG] Connection id "0HN6P4VAMH02L" accepted.
2024-09-20 10:53:51.174 +07:00 [DBG] Connection id "0HN6P4VAMH02L" received FIN.
2024-09-20 10:53:51.175 +07:00 [DBG] Connection id "0HN6P4VAMH02L" started.
2024-09-20 10:53:51.178 +07:00 [DBG] Connection id "0HN6P4VAMH02M" accepted.
2024-09-20 10:53:51.178 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 10:53:51.179 +07:00 [DBG] Connection id "0HN6P4VAMH02M" started.
2024-09-20 10:53:51.180 +07:00 [DBG] Connection id "0HN6P4VAMH02L" stopped.
2024-09-20 10:53:51.182 +07:00 [DBG] Connection id "0HN6P4VAMH02L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 10:53:51.187 +07:00 [DBG] Connection 0HN6P4VAMH02M established using the following protocol: "Tls12"
2024-09-20 10:53:51.195 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities - -
2024-09-20 10:53:51.197 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 10:53:51.218 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-20 10:53:51.224 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-20 10:53:51.226 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 10:53:51.228 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 10:53:51.250 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 10:53:51.253 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 10:53:51.253 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 10:53:51.254 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 10:53:51.255 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 10:53:51.256 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 10:53:51.257 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 10:53:51.360 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 10:53:51.471 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 10:53:52.180 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 10:53:52.225 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-09-20 10:53:52.463 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 10:53:52.503 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 10:53:52.659 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (155ms).
2024-09-20 10:53:52.670 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 10:53:52.728 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 10:53:52.742 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-20 10:53:52.762 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-20 10:53:52.781 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 10:53:52.811 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 10:53:52.812 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 10:53:52.825 +07:00 [DBG] A data reader was disposed.
2024-09-20 10:53:52.839 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 10:53:52.844 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 10:53:52.870 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 10:53:52.873 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 10:53:52.873 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 10:53:52.873 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 10:53:52.874 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 10:53:52.875 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 10:53:53.006 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1744.702ms
2024-09-20 10:53:53.008 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 10:53:53.009 +07:00 [DBG] Connection id "0HN6P4VAMH02M" completed keep alive response.
2024-09-20 10:53:53.013 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 10:53:53.017 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities - - - 200 230 application/json;+charset=utf-8 1821.6695ms
2024-09-20 11:20:57.662 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 11:20:57.754 +07:00 [DBG] Hosting starting
2024-09-20 11:20:57.926 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 11:20:57.946 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 11:20:57.946 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 11:20:57.947 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 11:20:57.947 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 11:20:57.947 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 11:20:57.948 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 11:20:57.948 +07:00 [INF] Hosting environment: Development
2024-09-20 11:20:57.949 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 11:20:57.949 +07:00 [DBG] Hosting started
2024-09-20 11:20:58.357 +07:00 [DBG] Connection id "0HN6P5EGC1C21" received FIN.
2024-09-20 11:20:58.357 +07:00 [DBG] Connection id "0HN6P5EGC1C20" received FIN.
2024-09-20 11:20:58.371 +07:00 [DBG] Connection id "0HN6P5EGC1C20" accepted.
2024-09-20 11:20:58.371 +07:00 [DBG] Connection id "0HN6P5EGC1C21" accepted.
2024-09-20 11:20:58.373 +07:00 [DBG] Connection id "0HN6P5EGC1C21" started.
2024-09-20 11:20:58.373 +07:00 [DBG] Connection id "0HN6P5EGC1C20" started.
2024-09-20 11:20:58.400 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 11:20:58.400 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 11:20:58.437 +07:00 [DBG] Connection id "0HN6P5EGC1C21" stopped.
2024-09-20 11:20:58.437 +07:00 [DBG] Connection id "0HN6P5EGC1C20" stopped.
2024-09-20 11:20:58.446 +07:00 [DBG] Connection id "0HN6P5EGC1C21" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 11:20:58.446 +07:00 [DBG] Connection id "0HN6P5EGC1C20" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 11:20:58.641 +07:00 [DBG] Connection id "0HN6P5EGC1C22" accepted.
2024-09-20 11:20:58.644 +07:00 [DBG] Connection id "0HN6P5EGC1C22" started.
2024-09-20 11:20:58.734 +07:00 [DBG] Connection 0HN6P5EGC1C22 established using the following protocol: "Tls12"
2024-09-20 11:20:58.789 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 11:20:58.824 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 11:20:59.017 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 11:20:59.118 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 11:20:59.123 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 336.5651ms
2024-09-20 11:20:59.127 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 11:20:59.127 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 11:20:59.144 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 16.4644ms
2024-09-20 11:20:59.156 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.4245ms
2024-09-20 11:20:59.185 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 11:20:59.332 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 147.1301ms
2024-09-20 11:21:01.484 +07:00 [DBG] Connection id "0HN6P5EGC1C23" accepted.
2024-09-20 11:21:01.484 +07:00 [DBG] Connection id "0HN6P5EGC1C23" received FIN.
2024-09-20 11:21:01.485 +07:00 [DBG] Connection id "0HN6P5EGC1C23" started.
2024-09-20 11:21:01.485 +07:00 [DBG] Connection id "0HN6P5EGC1C24" accepted.
2024-09-20 11:21:01.486 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 11:21:01.487 +07:00 [DBG] Connection id "0HN6P5EGC1C24" started.
2024-09-20 11:21:01.488 +07:00 [DBG] Connection id "0HN6P5EGC1C23" stopped.
2024-09-20 11:21:01.488 +07:00 [DBG] Connection id "0HN6P5EGC1C23" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 11:21:01.491 +07:00 [DBG] Connection 0HN6P5EGC1C24 established using the following protocol: "Tls12"
2024-09-20 11:21:01.500 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1 - -
2024-09-20 11:21:01.502 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 11:21:01.519 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-20 11:21:01.524 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-20 11:21:01.526 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:21:01.529 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:21:01.558 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 11:21:01.560 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 11:21:01.561 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 11:21:01.562 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 11:21:01.562 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 11:21:01.563 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 11:21:01.564 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 11:21:01.670 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 11:21:01.770 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 11:21:01.781 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-20 11:21:01.782 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-20 11:21:01.784 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 11:21:01.784 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 11:21:01.785 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-20 11:21:01.787 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-20 11:21:01.788 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 11:21:01.789 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name '' in request data ...
2024-09-20 11:21:01.790 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:21:01.790 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:21:01.791 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:21:01.791 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 11:21:01.792 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:21:02.398 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 11:21:02.440 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(c => c.Id == __cityId_0)'
2024-09-20 11:21:02.671 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.Id == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 11:21:02.710 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 11:21:02.753 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2024-09-20 11:21:02.766 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 11:21:02.778 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 11:21:02.791 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 11:21:02.812 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 11:21:02.827 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 11:21:02.853 +07:00 [DBG] A data reader was disposed.
2024-09-20 11:21:02.864 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 11:21:02.870 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 11:21:02.983 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1416.4427ms
2024-09-20 11:21:02.985 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:21:02.986 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Task`1 -> CityWithoutPointOfInterestDto
System.Threading.Tasks.Task`1[[System.Collections.Generic.IEnumerable`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]] -> CityInfo.API.Models.CityWithoutPointOfInterestDto
   at lambda_method57(Closure , Object , CityWithoutPointOfInterestDto , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 54
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 11:21:03.018 +07:00 [DBG] Connection id "0HN6P5EGC1C24" completed keep alive response.
2024-09-20 11:21:03.022 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 11:21:03.025 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1 - - - 500 - text/plain;+charset=utf-8 1524.6585ms
2024-09-20 11:22:33.886 +07:00 [DBG] Connection id "0HN6P5EGC1C25" accepted.
2024-09-20 11:22:33.888 +07:00 [DBG] Connection id "0HN6P5EGC1C25" received FIN.
2024-09-20 11:22:33.889 +07:00 [DBG] Connection id "0HN6P5EGC1C25" started.
2024-09-20 11:22:33.889 +07:00 [DBG] Connection id "0HN6P5EGC1C26" accepted.
2024-09-20 11:22:33.899 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 11:22:33.899 +07:00 [DBG] Connection id "0HN6P5EGC1C26" started.
2024-09-20 11:22:33.902 +07:00 [DBG] Connection id "0HN6P5EGC1C25" stopped.
2024-09-20 11:22:33.905 +07:00 [DBG] Connection id "0HN6P5EGC1C25" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 11:22:33.910 +07:00 [DBG] Connection 0HN6P5EGC1C26 established using the following protocol: "Tls12"
2024-09-20 11:22:33.911 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1 - -
2024-09-20 11:22:33.913 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 11:22:33.913 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-20 11:22:33.913 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-20 11:22:33.914 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:22:33.914 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:22:33.915 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 11:22:33.915 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 11:22:33.916 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 11:22:33.916 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 11:22:33.917 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 11:22:33.917 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 11:22:33.918 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 11:22:33.924 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 11:22:33.930 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-20 11:22:33.930 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-20 11:22:33.931 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 11:22:33.931 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 11:22:33.931 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-20 11:22:33.932 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-20 11:22:33.932 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 11:22:33.933 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name '' in request data ...
2024-09-20 11:22:33.933 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:22:33.934 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:22:33.934 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:22:33.935 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 11:22:33.935 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:22:33.947 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 11:22:33.950 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 11:22:33.950 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 11:22:33.951 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 11:22:33.951 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 11:22:33.952 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 11:22:33.952 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 11:22:33.953 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 11:22:33.954 +07:00 [DBG] A data reader was disposed.
2024-09-20 11:22:33.954 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 11:22:33.954 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 11:22:33.976 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 57.5411ms
2024-09-20 11:22:33.977 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:22:33.977 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Task`1 -> CityWithoutPointOfInterestDto
System.Threading.Tasks.Task`1[[System.Collections.Generic.IEnumerable`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]] -> CityInfo.API.Models.CityWithoutPointOfInterestDto
   at lambda_method57(Closure , Object , CityWithoutPointOfInterestDto , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 54
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 11:22:33.981 +07:00 [DBG] Connection id "0HN6P5EGC1C26" completed keep alive response.
2024-09-20 11:22:33.982 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 11:22:33.982 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1 - - - 500 - text/plain;+charset=utf-8 70.6514ms
2024-09-20 11:22:41.434 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 11:22:41.529 +07:00 [DBG] Hosting starting
2024-09-20 11:22:41.726 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 11:22:41.770 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 11:22:41.771 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 11:22:41.771 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 11:22:41.772 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 11:22:41.772 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 11:22:41.773 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 11:22:41.774 +07:00 [INF] Hosting environment: Development
2024-09-20 11:22:41.774 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 11:22:41.775 +07:00 [DBG] Hosting started
2024-09-20 11:22:42.106 +07:00 [DBG] Connection id "0HN6P5FF9F19E" received FIN.
2024-09-20 11:22:42.106 +07:00 [DBG] Connection id "0HN6P5FF9F19F" received FIN.
2024-09-20 11:22:42.113 +07:00 [DBG] Connection id "0HN6P5FF9F19E" accepted.
2024-09-20 11:22:42.113 +07:00 [DBG] Connection id "0HN6P5FF9F19F" accepted.
2024-09-20 11:22:42.114 +07:00 [DBG] Connection id "0HN6P5FF9F19F" started.
2024-09-20 11:22:42.114 +07:00 [DBG] Connection id "0HN6P5FF9F19E" started.
2024-09-20 11:22:42.127 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 11:22:42.127 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 11:22:42.156 +07:00 [DBG] Connection id "0HN6P5FF9F19E" stopped.
2024-09-20 11:22:42.156 +07:00 [DBG] Connection id "0HN6P5FF9F19F" stopped.
2024-09-20 11:22:42.164 +07:00 [DBG] Connection id "0HN6P5FF9F19F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 11:22:42.164 +07:00 [DBG] Connection id "0HN6P5FF9F19E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 11:22:42.186 +07:00 [DBG] Connection id "0HN6P5FF9F19G" accepted.
2024-09-20 11:22:42.187 +07:00 [DBG] Connection id "0HN6P5FF9F19G" started.
2024-09-20 11:22:42.234 +07:00 [DBG] Connection 0HN6P5FF9F19G established using the following protocol: "Tls12"
2024-09-20 11:22:42.301 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 11:22:42.335 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 11:22:42.526 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 11:22:42.638 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 11:22:42.645 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 345.9296ms
2024-09-20 11:22:42.648 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 11:22:42.648 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 11:22:42.665 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 16.9921ms
2024-09-20 11:22:42.680 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.1900ms
2024-09-20 11:22:42.705 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 11:22:42.974 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 269.1118ms
2024-09-20 11:22:44.256 +07:00 [DBG] Connection id "0HN6P5FF9F19H" accepted.
2024-09-20 11:22:44.257 +07:00 [DBG] Connection id "0HN6P5FF9F19H" received FIN.
2024-09-20 11:22:44.257 +07:00 [DBG] Connection id "0HN6P5FF9F19H" started.
2024-09-20 11:22:44.257 +07:00 [DBG] Connection id "0HN6P5FF9F19I" accepted.
2024-09-20 11:22:44.259 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 11:22:44.259 +07:00 [DBG] Connection id "0HN6P5FF9F19I" started.
2024-09-20 11:22:44.263 +07:00 [DBG] Connection id "0HN6P5FF9F19H" stopped.
2024-09-20 11:22:44.264 +07:00 [DBG] Connection id "0HN6P5FF9F19H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 11:22:44.267 +07:00 [DBG] Connection 0HN6P5FF9F19I established using the following protocol: "Tls12"
2024-09-20 11:22:44.274 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1 - -
2024-09-20 11:22:44.276 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 11:22:44.294 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-20 11:22:44.299 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-20 11:22:44.300 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:22:44.302 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:22:44.333 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 11:22:44.334 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 11:22:44.335 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 11:22:44.335 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 11:22:44.336 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 11:22:44.336 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 11:22:44.337 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 11:22:44.439 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 11:22:44.527 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 11:22:44.535 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-20 11:22:44.537 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-20 11:22:44.538 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 11:22:44.539 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 11:22:44.539 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-20 11:22:44.541 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-20 11:22:44.542 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 11:22:44.543 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name '' in request data ...
2024-09-20 11:22:44.544 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:22:44.545 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:22:44.545 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:22:44.545 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 11:22:44.546 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:22:45.129 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 11:22:45.171 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(c => c.Id == __cityId_0)'
2024-09-20 11:22:45.397 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.Id == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 11:22:45.440 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 11:22:45.483 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2024-09-20 11:22:45.494 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 11:22:45.506 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 11:22:45.520 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 11:22:45.540 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 11:22:45.555 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 11:22:45.579 +07:00 [DBG] A data reader was disposed.
2024-09-20 11:22:45.585 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 11:22:45.589 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 11:22:45.646 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1304.299ms
2024-09-20 11:22:45.648 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:22:45.649 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Task`1 -> CityWithoutPointOfInterestDto
System.Threading.Tasks.Task`1[[System.Collections.Generic.IEnumerable`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]] -> CityInfo.API.Models.CityWithoutPointOfInterestDto
   at lambda_method57(Closure , Object , CityWithoutPointOfInterestDto , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 54
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 11:22:45.664 +07:00 [DBG] Connection id "0HN6P5FF9F19I" completed keep alive response.
2024-09-20 11:22:45.668 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 11:22:45.670 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1 - - - 500 - text/plain;+charset=utf-8 1396.2145ms
2024-09-20 11:22:51.095 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1 - -
2024-09-20 11:22:51.097 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 11:22:51.099 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-20 11:22:51.099 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-20 11:22:51.100 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:22:51.101 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:22:51.101 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 11:22:51.102 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 11:22:51.103 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 11:22:51.104 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 11:22:51.104 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 11:22:51.105 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 11:22:51.105 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 11:22:51.112 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 11:22:51.113 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-20 11:22:51.114 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-20 11:22:51.114 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 11:22:51.114 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 11:22:51.115 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-20 11:22:51.115 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-20 11:22:51.116 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 11:22:51.116 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name '' in request data ...
2024-09-20 11:22:51.116 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:22:51.117 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:22:51.117 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:22:51.118 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 11:22:51.118 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:22:51.120 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 11:22:51.130 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 11:22:51.131 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 11:22:51.131 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 11:22:51.132 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 11:22:51.132 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 11:22:51.133 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 11:22:51.134 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 11:22:51.134 +07:00 [DBG] A data reader was disposed.
2024-09-20 11:22:51.134 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 11:22:51.135 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 11:22:51.154 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 48.8252ms
2024-09-20 11:22:51.155 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:22:51.156 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Task`1 -> CityWithoutPointOfInterestDto
System.Threading.Tasks.Task`1[[System.Collections.Generic.IEnumerable`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]] -> CityInfo.API.Models.CityWithoutPointOfInterestDto
   at lambda_method57(Closure , Object , CityWithoutPointOfInterestDto , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 54
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 11:22:51.160 +07:00 [DBG] Connection id "0HN6P5FF9F19I" completed keep alive response.
2024-09-20 11:22:51.161 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 11:22:51.162 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1 - - - 500 - text/plain;+charset=utf-8 67.2271ms
2024-09-20 11:23:08.174 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 11:23:08.288 +07:00 [DBG] Hosting starting
2024-09-20 11:23:08.448 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 11:23:08.508 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 11:23:08.509 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 11:23:08.510 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 11:23:08.511 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 11:23:08.512 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 11:23:08.512 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 11:23:08.513 +07:00 [INF] Hosting environment: Development
2024-09-20 11:23:08.514 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 11:23:08.514 +07:00 [DBG] Hosting started
2024-09-20 11:23:08.652 +07:00 [DBG] Connection id "0HN6P5FN6J47D" accepted.
2024-09-20 11:23:08.652 +07:00 [DBG] Connection id "0HN6P5FN6J47E" accepted.
2024-09-20 11:23:08.655 +07:00 [DBG] Connection id "0HN6P5FN6J47D" started.
2024-09-20 11:23:08.655 +07:00 [DBG] Connection id "0HN6P5FN6J47E" started.
2024-09-20 11:23:08.669 +07:00 [DBG] Connection id "0HN6P5FN6J47E" received FIN.
2024-09-20 11:23:08.671 +07:00 [DBG] Connection id "0HN6P5FN6J47D" received FIN.
2024-09-20 11:23:08.686 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 11:23:08.686 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 11:23:08.723 +07:00 [DBG] Connection id "0HN6P5FN6J47D" stopped.
2024-09-20 11:23:08.723 +07:00 [DBG] Connection id "0HN6P5FN6J47E" stopped.
2024-09-20 11:23:08.727 +07:00 [DBG] Connection id "0HN6P5FN6J47E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 11:23:08.728 +07:00 [DBG] Connection id "0HN6P5FN6J47D" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 11:23:08.792 +07:00 [DBG] Connection id "0HN6P5FN6J47F" accepted.
2024-09-20 11:23:08.793 +07:00 [DBG] Connection id "0HN6P5FN6J47F" started.
2024-09-20 11:23:08.867 +07:00 [DBG] Connection 0HN6P5FN6J47F established using the following protocol: "Tls12"
2024-09-20 11:23:08.974 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 11:23:09.017 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 11:23:09.249 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 11:23:09.373 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 11:23:09.382 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 411.0399ms
2024-09-20 11:23:09.382 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 11:23:09.382 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 11:23:09.396 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 13.6332ms
2024-09-20 11:23:09.413 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.9615ms
2024-09-20 11:23:09.444 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 11:23:09.580 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 135.5260ms
2024-09-20 11:23:11.085 +07:00 [DBG] Connection id "0HN6P5FN6J47G" accepted.
2024-09-20 11:23:11.085 +07:00 [DBG] Connection id "0HN6P5FN6J47G" received FIN.
2024-09-20 11:23:11.086 +07:00 [DBG] Connection id "0HN6P5FN6J47G" started.
2024-09-20 11:23:11.086 +07:00 [DBG] Connection id "0HN6P5FN6J47H" accepted.
2024-09-20 11:23:11.087 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 11:23:11.088 +07:00 [DBG] Connection id "0HN6P5FN6J47H" started.
2024-09-20 11:23:11.089 +07:00 [DBG] Connection id "0HN6P5FN6J47G" stopped.
2024-09-20 11:23:11.090 +07:00 [DBG] Connection id "0HN6P5FN6J47G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 11:23:11.095 +07:00 [DBG] Connection 0HN6P5FN6J47H established using the following protocol: "Tls12"
2024-09-20 11:23:11.104 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1 - -
2024-09-20 11:23:11.106 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 11:23:11.124 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-20 11:23:11.129 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-20 11:23:11.130 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:23:11.133 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:23:11.162 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 11:23:11.164 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 11:23:11.164 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 11:23:11.165 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 11:23:11.166 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 11:23:11.166 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 11:23:11.167 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 11:23:11.280 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 11:23:11.375 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 11:23:11.384 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-20 11:23:11.385 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-20 11:23:11.387 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 11:23:11.387 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 11:23:11.387 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-20 11:23:11.389 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-20 11:23:11.390 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 11:23:11.391 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name '' in request data ...
2024-09-20 11:23:11.391 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:23:11.392 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:23:11.392 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:23:11.393 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 11:23:11.393 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:23:15.176 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 11:23:15.217 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(c => c.Id == __cityId_0)'
2024-09-20 11:23:15.449 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.Id == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 11:23:15.490 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 11:23:15.532 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (38ms).
2024-09-20 11:23:15.542 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 11:23:15.554 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 11:23:15.566 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 11:23:15.585 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 11:23:15.600 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 11:23:15.635 +07:00 [DBG] A data reader was disposed.
2024-09-20 11:23:15.642 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 11:23:15.648 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 11:25:35.193 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 11:25:35.299 +07:00 [DBG] Hosting starting
2024-09-20 11:25:35.476 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 11:25:35.502 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 11:25:35.503 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 11:25:35.503 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 11:25:35.503 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 11:25:35.504 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 11:25:35.504 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 11:25:35.505 +07:00 [INF] Hosting environment: Development
2024-09-20 11:25:35.505 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 11:25:35.506 +07:00 [DBG] Hosting started
2024-09-20 11:25:35.978 +07:00 [DBG] Connection id "0HN6P5H33KEIC" received FIN.
2024-09-20 11:25:35.978 +07:00 [DBG] Connection id "0HN6P5H33KEIB" received FIN.
2024-09-20 11:25:35.995 +07:00 [DBG] Connection id "0HN6P5H33KEIC" accepted.
2024-09-20 11:25:35.995 +07:00 [DBG] Connection id "0HN6P5H33KEIB" accepted.
2024-09-20 11:25:35.997 +07:00 [DBG] Connection id "0HN6P5H33KEIB" started.
2024-09-20 11:25:35.997 +07:00 [DBG] Connection id "0HN6P5H33KEIC" started.
2024-09-20 11:25:36.011 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 11:25:36.011 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 11:25:36.036 +07:00 [DBG] Connection id "0HN6P5H33KEIC" stopped.
2024-09-20 11:25:36.036 +07:00 [DBG] Connection id "0HN6P5H33KEIB" stopped.
2024-09-20 11:25:36.039 +07:00 [DBG] Connection id "0HN6P5H33KEIB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 11:25:36.039 +07:00 [DBG] Connection id "0HN6P5H33KEIC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 11:25:36.054 +07:00 [DBG] Connection id "0HN6P5H33KEID" accepted.
2024-09-20 11:25:36.055 +07:00 [DBG] Connection id "0HN6P5H33KEID" started.
2024-09-20 11:25:36.090 +07:00 [DBG] Connection 0HN6P5H33KEID established using the following protocol: "Tls12"
2024-09-20 11:25:36.156 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 11:25:36.188 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 11:25:36.386 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 11:25:36.487 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 11:25:36.493 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 339.0365ms
2024-09-20 11:25:36.494 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 11:25:36.507 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 11:25:36.513 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 18.7751ms
2024-09-20 11:25:36.531 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.2847ms
2024-09-20 11:25:36.559 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 11:25:36.697 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 138.3151ms
2024-09-20 11:25:38.954 +07:00 [DBG] Connection id "0HN6P5H33KEIE" accepted.
2024-09-20 11:25:38.954 +07:00 [DBG] Connection id "0HN6P5H33KEIE" received FIN.
2024-09-20 11:25:38.954 +07:00 [DBG] Connection id "0HN6P5H33KEIE" started.
2024-09-20 11:25:38.955 +07:00 [DBG] Connection id "0HN6P5H33KEIF" accepted.
2024-09-20 11:25:38.957 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 11:25:38.957 +07:00 [DBG] Connection id "0HN6P5H33KEIF" started.
2024-09-20 11:25:38.958 +07:00 [DBG] Connection id "0HN6P5H33KEIE" stopped.
2024-09-20 11:25:38.958 +07:00 [DBG] Connection id "0HN6P5H33KEIE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 11:25:38.961 +07:00 [DBG] Connection 0HN6P5H33KEIF established using the following protocol: "Tls12"
2024-09-20 11:25:38.972 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1 - -
2024-09-20 11:25:38.974 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 11:25:38.999 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-20 11:25:39.004 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-20 11:25:39.005 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:25:39.007 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:25:39.038 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 11:25:39.040 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 11:25:39.040 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 11:25:39.041 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 11:25:39.041 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 11:25:39.042 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 11:25:39.043 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 11:25:39.142 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 11:25:39.235 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 11:25:39.243 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-20 11:25:39.244 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-20 11:25:39.246 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 11:25:39.246 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 11:25:39.247 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-20 11:25:39.248 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-20 11:25:39.250 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 11:25:39.250 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name '' in request data ...
2024-09-20 11:25:39.251 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:25:39.251 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:25:39.252 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:25:39.252 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 11:25:39.253 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:25:39.839 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 11:25:39.881 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(c => c.Id == __cityId_0)'
2024-09-20 11:25:40.107 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.Id == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 11:25:40.148 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 11:25:40.191 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (41ms).
2024-09-20 11:25:40.205 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 11:25:40.219 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 11:25:40.232 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 11:25:40.251 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 11:25:40.266 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 11:25:40.290 +07:00 [DBG] A data reader was disposed.
2024-09-20 11:25:40.297 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 11:25:40.302 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 11:25:40.357 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1310.8953ms
2024-09-20 11:25:40.359 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:25:40.360 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Task`1 -> CityWithoutPointOfInterestDto
System.Threading.Tasks.Task`1[[System.Collections.Generic.IEnumerable`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]] -> CityInfo.API.Models.CityWithoutPointOfInterestDto
   at lambda_method57(Closure , Object , CityWithoutPointOfInterestDto , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 54
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 11:25:40.375 +07:00 [DBG] Connection id "0HN6P5H33KEIF" completed keep alive response.
2024-09-20 11:25:40.379 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 11:25:40.383 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1 - - - 500 - text/plain;+charset=utf-8 1410.1349ms
2024-09-20 11:26:34.713 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 11:26:34.799 +07:00 [DBG] Hosting starting
2024-09-20 11:26:34.942 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 11:26:34.969 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 11:26:34.970 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 11:26:34.970 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 11:26:34.970 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 11:26:34.971 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 11:26:34.971 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 11:26:34.972 +07:00 [INF] Hosting environment: Development
2024-09-20 11:26:34.973 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 11:26:34.973 +07:00 [DBG] Hosting started
2024-09-20 11:26:35.361 +07:00 [DBG] Connection id "0HN6P5HKPU6SU" accepted.
2024-09-20 11:26:35.361 +07:00 [DBG] Connection id "0HN6P5HKPU6SV" accepted.
2024-09-20 11:26:35.362 +07:00 [DBG] Connection id "0HN6P5HKPU6SV" started.
2024-09-20 11:26:35.362 +07:00 [DBG] Connection id "0HN6P5HKPU6SU" started.
2024-09-20 11:26:35.374 +07:00 [DBG] Connection id "0HN6P5HKPU6SU" received FIN.
2024-09-20 11:26:35.374 +07:00 [DBG] Connection id "0HN6P5HKPU6SV" received FIN.
2024-09-20 11:26:35.389 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 11:26:35.389 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 11:26:35.420 +07:00 [DBG] Connection id "0HN6P5HKPU6SU" stopped.
2024-09-20 11:26:35.420 +07:00 [DBG] Connection id "0HN6P5HKPU6SV" stopped.
2024-09-20 11:26:35.422 +07:00 [DBG] Connection id "0HN6P5HKPU6SV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 11:26:35.422 +07:00 [DBG] Connection id "0HN6P5HKPU6SU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 11:26:35.440 +07:00 [DBG] Connection id "0HN6P5HKPU6T0" accepted.
2024-09-20 11:26:35.450 +07:00 [DBG] Connection id "0HN6P5HKPU6T0" started.
2024-09-20 11:26:35.493 +07:00 [DBG] Connection 0HN6P5HKPU6T0 established using the following protocol: "Tls12"
2024-09-20 11:26:35.557 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 11:26:35.589 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 11:26:35.793 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 11:26:35.904 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 11:26:35.905 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 11:26:35.905 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 11:26:35.917 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 10.5638ms
2024-09-20 11:26:35.917 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 356.2119ms
2024-09-20 11:26:35.936 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.8167ms
2024-09-20 11:26:35.962 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 11:26:36.123 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 161.6318ms
2024-09-20 11:26:43.167 +07:00 [DBG] Connection id "0HN6P5HKPU6T1" accepted.
2024-09-20 11:26:43.168 +07:00 [DBG] Connection id "0HN6P5HKPU6T1" received FIN.
2024-09-20 11:26:43.170 +07:00 [DBG] Connection id "0HN6P5HKPU6T1" started.
2024-09-20 11:26:43.171 +07:00 [DBG] Connection id "0HN6P5HKPU6T2" accepted.
2024-09-20 11:26:43.177 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 11:26:43.182 +07:00 [DBG] Connection id "0HN6P5HKPU6T2" started.
2024-09-20 11:26:43.196 +07:00 [DBG] Connection id "0HN6P5HKPU6T1" stopped.
2024-09-20 11:26:43.201 +07:00 [DBG] Connection id "0HN6P5HKPU6T1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 11:26:43.204 +07:00 [DBG] Connection 0HN6P5HKPU6T2 established using the following protocol: "Tls12"
2024-09-20 11:26:43.212 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1 - -
2024-09-20 11:26:43.215 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 11:26:43.231 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-20 11:26:43.237 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-20 11:26:43.237 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:26:43.240 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:26:43.270 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 11:26:43.271 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 11:26:43.272 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 11:26:43.272 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 11:26:43.273 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 11:26:43.273 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 11:26:43.274 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 11:26:43.372 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 11:26:43.466 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 11:26:43.473 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-20 11:26:43.475 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-20 11:26:43.476 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 11:26:43.476 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 11:26:43.477 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-20 11:26:43.478 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-20 11:26:43.479 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 11:26:43.480 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name '' in request data ...
2024-09-20 11:26:43.481 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:26:43.482 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:26:43.482 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:26:43.483 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 11:26:43.483 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:26:44.075 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 11:26:44.128 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-20 11:26:44.348 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 11:26:44.391 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 11:26:44.438 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (44ms).
2024-09-20 11:26:44.449 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 11:26:44.461 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 11:26:44.475 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-20 11:26:44.493 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-20 11:26:44.510 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 11:26:44.539 +07:00 [DBG] A data reader was disposed.
2024-09-20 11:26:44.545 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 11:26:44.551 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 11:26:44.608 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1329.9883ms
2024-09-20 11:26:44.611 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:26:44.613 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Task`1 -> CityWithoutPointOfInterestDto
System.Threading.Tasks.Task`1[[CityInfo.API.Entities.City, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> CityInfo.API.Models.CityWithoutPointOfInterestDto
   at lambda_method57(Closure , Object , CityWithoutPointOfInterestDto , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 54
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 11:26:44.633 +07:00 [DBG] Connection id "0HN6P5HKPU6T2" completed keep alive response.
2024-09-20 11:26:44.639 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 11:26:44.642 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1 - - - 500 - text/plain;+charset=utf-8 1430.0068ms
2024-09-20 11:28:24.200 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 11:28:24.300 +07:00 [DBG] Hosting starting
2024-09-20 11:28:24.435 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 11:28:24.455 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 11:28:24.455 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 11:28:24.456 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 11:28:24.456 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 11:28:24.456 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 11:28:24.457 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 11:28:24.458 +07:00 [INF] Hosting environment: Development
2024-09-20 11:28:24.458 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 11:28:24.459 +07:00 [DBG] Hosting started
2024-09-20 11:28:24.522 +07:00 [DBG] Connection id "0HN6P5ILAVUDF" received FIN.
2024-09-20 11:28:24.522 +07:00 [DBG] Connection id "0HN6P5ILAVUDE" received FIN.
2024-09-20 11:28:24.532 +07:00 [DBG] Connection id "0HN6P5ILAVUDE" accepted.
2024-09-20 11:28:24.532 +07:00 [DBG] Connection id "0HN6P5ILAVUDF" accepted.
2024-09-20 11:28:24.534 +07:00 [DBG] Connection id "0HN6P5ILAVUDE" started.
2024-09-20 11:28:24.534 +07:00 [DBG] Connection id "0HN6P5ILAVUDF" started.
2024-09-20 11:28:24.545 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 11:28:24.545 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 11:28:24.570 +07:00 [DBG] Connection id "0HN6P5ILAVUDF" stopped.
2024-09-20 11:28:24.570 +07:00 [DBG] Connection id "0HN6P5ILAVUDE" stopped.
2024-09-20 11:28:24.572 +07:00 [DBG] Connection id "0HN6P5ILAVUDF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 11:28:24.572 +07:00 [DBG] Connection id "0HN6P5ILAVUDE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 11:28:24.758 +07:00 [DBG] Connection id "0HN6P5ILAVUDG" accepted.
2024-09-20 11:28:24.768 +07:00 [DBG] Connection id "0HN6P5ILAVUDG" started.
2024-09-20 11:28:24.809 +07:00 [DBG] Connection 0HN6P5ILAVUDG established using the following protocol: "Tls12"
2024-09-20 11:28:24.888 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 11:28:24.934 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 11:28:25.160 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 11:28:25.266 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 11:28:25.266 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 11:28:25.274 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 11:28:25.275 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 393.8680ms
2024-09-20 11:28:25.275 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 9.5777ms
2024-09-20 11:28:25.300 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.2526ms
2024-09-20 11:28:25.327 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 11:28:25.459 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 132.3555ms
2024-09-20 11:28:27.905 +07:00 [DBG] Connection id "0HN6P5ILAVUDH" accepted.
2024-09-20 11:28:27.906 +07:00 [DBG] Connection id "0HN6P5ILAVUDH" received FIN.
2024-09-20 11:28:27.906 +07:00 [DBG] Connection id "0HN6P5ILAVUDH" started.
2024-09-20 11:28:27.906 +07:00 [DBG] Connection id "0HN6P5ILAVUDI" accepted.
2024-09-20 11:28:27.908 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 11:28:27.908 +07:00 [DBG] Connection id "0HN6P5ILAVUDI" started.
2024-09-20 11:28:27.909 +07:00 [DBG] Connection id "0HN6P5ILAVUDH" stopped.
2024-09-20 11:28:27.910 +07:00 [DBG] Connection id "0HN6P5ILAVUDH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 11:28:27.913 +07:00 [DBG] Connection 0HN6P5ILAVUDI established using the following protocol: "Tls12"
2024-09-20 11:28:27.923 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1 - -
2024-09-20 11:28:27.924 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 11:28:27.941 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-20 11:28:27.946 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-20 11:28:27.947 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:28:27.951 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:28:27.984 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 11:28:27.985 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 11:28:27.986 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 11:28:27.986 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 11:28:27.987 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 11:28:27.987 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 11:28:27.988 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 11:28:28.090 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 11:28:28.181 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 11:28:28.191 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-20 11:28:28.193 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-20 11:28:28.194 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 11:28:28.194 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 11:28:28.195 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-20 11:28:28.196 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-20 11:28:28.198 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 11:28:28.199 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name '' in request data ...
2024-09-20 11:28:28.200 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:28:28.200 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:28:28.201 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:28:28.201 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 11:28:28.202 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:28:28.815 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 11:28:28.881 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-20 11:28:29.123 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 11:28:29.167 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 11:28:29.210 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2024-09-20 11:28:29.221 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 11:28:29.233 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 11:28:29.244 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-20 11:28:29.262 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-20 11:28:29.278 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 11:28:29.301 +07:00 [DBG] A data reader was disposed.
2024-09-20 11:28:29.306 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 11:28:29.310 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 11:28:29.319 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 11:28:29.322 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 11:28:29.322 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 11:28:29.323 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 11:28:29.323 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 11:28:29.324 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2024-09-20 11:28:29.422 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1430.1467ms
2024-09-20 11:28:29.424 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:28:29.424 +07:00 [DBG] Connection id "0HN6P5ILAVUDI" completed keep alive response.
2024-09-20 11:28:29.428 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 11:28:29.431 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1 - - - 200 74 application/json;+charset=utf-8 1508.1895ms
2024-09-20 11:28:49.890 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1?includePointOfInterest=true - -
2024-09-20 11:28:49.891 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 11:28:49.892 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-20 11:28:49.893 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-20 11:28:49.894 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:28:49.894 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:28:49.895 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 11:28:49.895 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 11:28:49.896 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 11:28:49.897 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 11:28:49.897 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 11:28:49.898 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 11:28:49.898 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 11:28:49.910 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 11:28:49.924 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-20 11:28:49.925 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-20 11:28:49.925 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 11:28:49.925 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 11:28:49.926 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-20 11:28:49.926 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-20 11:28:49.927 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 11:28:49.927 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name 'includePointOfInterest' in request data ...
2024-09-20 11:28:49.928 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:28:49.929 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:28:49.929 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 11:28:49.930 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:28:49.940 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 11:28:49.953 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointOfInterests)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-20 11:28:49.968 +07:00 [DBG] Including navigation: 'City.PointOfInterests'.
2024-09-20 11:28:50.055 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required, 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 11:28:50.058 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 11:28:50.059 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 11:28:50.059 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 11:28:50.060 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 11:28:50.060 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2024-09-20 11:28:50.070 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2024-09-20 11:28:50.072 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 11:28:50.078 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 11:28:50.091 +07:00 [DBG] A data reader was disposed.
2024-09-20 11:28:50.091 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 11:28:50.092 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 11:28:50.142 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 243.2287ms
2024-09-20 11:28:50.143 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:28:50.144 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
City -> CityDto
CityInfo.API.Entities.City -> CityInfo.API.Models.CityDto
   at lambda_method96(Closure , Object , CityDto , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 11:28:50.158 +07:00 [DBG] Connection id "0HN6P5ILAVUDI" completed keep alive response.
2024-09-20 11:28:50.159 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 11:28:50.159 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1?includePointOfInterest=true - - - 500 - text/plain;+charset=utf-8 268.6344ms
2024-09-20 11:31:27.430 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 11:31:27.525 +07:00 [DBG] Hosting starting
2024-09-20 11:31:27.700 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 11:31:27.728 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 11:31:27.728 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 11:31:27.729 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 11:31:27.729 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 11:31:27.729 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 11:31:27.730 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 11:31:27.730 +07:00 [INF] Hosting environment: Development
2024-09-20 11:31:27.731 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 11:31:27.731 +07:00 [DBG] Hosting started
2024-09-20 11:31:28.037 +07:00 [DBG] Connection id "0HN6P5KC14CI3" received FIN.
2024-09-20 11:31:28.045 +07:00 [DBG] Connection id "0HN6P5KC14CI3" accepted.
2024-09-20 11:31:28.046 +07:00 [DBG] Connection id "0HN6P5KC14CI3" started.
2024-09-20 11:31:28.060 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 11:31:28.093 +07:00 [DBG] Connection id "0HN6P5KC14CI3" stopped.
2024-09-20 11:31:28.096 +07:00 [DBG] Connection id "0HN6P5KC14CI3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 11:31:28.141 +07:00 [DBG] Connection id "0HN6P5KC14CI4" accepted.
2024-09-20 11:31:28.143 +07:00 [DBG] Connection id "0HN6P5KC14CI4" started.
2024-09-20 11:31:28.189 +07:00 [DBG] Connection 0HN6P5KC14CI4 established using the following protocol: "Tls12"
2024-09-20 11:31:28.293 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 11:31:28.325 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 11:31:28.528 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 11:31:28.630 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 11:31:28.630 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 11:31:28.645 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 11:31:28.653 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 21.3530ms
2024-09-20 11:31:28.654 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 365.1106ms
2024-09-20 11:31:28.672 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.1178ms
2024-09-20 11:31:28.695 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 11:31:28.838 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 143.5723ms
2024-09-20 11:31:32.629 +07:00 [DBG] Connection id "0HN6P5KC14CI5" accepted.
2024-09-20 11:31:32.629 +07:00 [DBG] Connection id "0HN6P5KC14CI5" received FIN.
2024-09-20 11:31:32.631 +07:00 [DBG] Connection id "0HN6P5KC14CI5" started.
2024-09-20 11:31:32.631 +07:00 [DBG] Connection id "0HN6P5KC14CI6" accepted.
2024-09-20 11:31:32.633 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 11:31:32.633 +07:00 [DBG] Connection id "0HN6P5KC14CI6" started.
2024-09-20 11:31:32.637 +07:00 [DBG] Connection id "0HN6P5KC14CI5" stopped.
2024-09-20 11:31:32.639 +07:00 [DBG] Connection id "0HN6P5KC14CI5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 11:31:32.643 +07:00 [DBG] Connection 0HN6P5KC14CI6 established using the following protocol: "Tls12"
2024-09-20 11:31:32.655 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1?includePointOfInterest=true - -
2024-09-20 11:31:32.657 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 11:31:32.675 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-20 11:31:32.679 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-20 11:31:32.680 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:31:32.682 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:31:32.714 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 11:31:32.715 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 11:31:32.716 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 11:31:32.717 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 11:31:32.718 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 11:31:32.719 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 11:31:32.720 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 11:31:32.828 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 11:31:32.924 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 11:31:32.938 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-20 11:31:32.941 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-20 11:31:32.942 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 11:31:32.943 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 11:31:32.943 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-20 11:31:32.945 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-20 11:31:32.947 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 11:31:32.948 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name 'includePointOfInterest' in request data ...
2024-09-20 11:31:32.948 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:31:32.949 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:31:32.949 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 11:31:32.950 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 11:31:33.625 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 11:31:33.682 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointOfInterests)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-20 11:31:33.756 +07:00 [DBG] Including navigation: 'City.PointOfInterests'.
2024-09-20 11:31:33.993 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required, 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 11:31:34.041 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 11:31:34.086 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2024-09-20 11:31:34.096 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 11:31:34.109 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 11:31:34.120 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2024-09-20 11:31:34.139 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2024-09-20 11:31:34.155 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 11:31:34.177 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 11:31:34.195 +07:00 [DBG] A data reader was disposed.
2024-09-20 11:31:34.201 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 11:31:34.206 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 11:31:34.274 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1551.2635ms
2024-09-20 11:31:34.276 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 11:31:34.278 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
City -> CityDto
CityInfo.API.Entities.City -> CityInfo.API.Models.CityDto
   at lambda_method90(Closure , Object , CityDto , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 11:31:34.293 +07:00 [DBG] Connection id "0HN6P5KC14CI6" completed keep alive response.
2024-09-20 11:31:34.297 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 11:31:34.300 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1?includePointOfInterest=true - - - 500 - text/plain;+charset=utf-8 1644.7971ms
2024-09-20 12:48:15.392 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 12:48:15.570 +07:00 [DBG] Hosting starting
2024-09-20 12:48:15.831 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 12:48:15.871 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 12:48:15.872 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 12:48:15.872 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 12:48:15.873 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 12:48:15.873 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 12:48:15.874 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 12:48:15.875 +07:00 [INF] Hosting environment: Development
2024-09-20 12:48:15.875 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 12:48:15.876 +07:00 [DBG] Hosting started
2024-09-20 12:48:16.149 +07:00 [DBG] Connection id "0HN6P6V9BFVOQ" accepted.
2024-09-20 12:48:16.150 +07:00 [DBG] Connection id "0HN6P6V9BFVOR" accepted.
2024-09-20 12:48:16.151 +07:00 [DBG] Connection id "0HN6P6V9BFVOQ" started.
2024-09-20 12:48:16.151 +07:00 [DBG] Connection id "0HN6P6V9BFVOR" started.
2024-09-20 12:48:16.162 +07:00 [DBG] Connection id "0HN6P6V9BFVOR" received FIN.
2024-09-20 12:48:16.162 +07:00 [DBG] Connection id "0HN6P6V9BFVOQ" received FIN.
2024-09-20 12:48:16.190 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 12:48:16.190 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 12:48:16.267 +07:00 [DBG] Connection id "0HN6P6V9BFVOR" stopped.
2024-09-20 12:48:16.267 +07:00 [DBG] Connection id "0HN6P6V9BFVOQ" stopped.
2024-09-20 12:48:16.271 +07:00 [DBG] Connection id "0HN6P6V9BFVOQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 12:48:16.271 +07:00 [DBG] Connection id "0HN6P6V9BFVOR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 12:48:16.283 +07:00 [DBG] Connection id "0HN6P6V9BFVOS" accepted.
2024-09-20 12:48:16.289 +07:00 [DBG] Connection id "0HN6P6V9BFVOS" started.
2024-09-20 12:48:16.369 +07:00 [DBG] Connection 0HN6P6V9BFVOS established using the following protocol: "Tls12"
2024-09-20 12:48:16.431 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 12:48:16.475 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 12:48:16.661 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 12:48:16.818 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 12:48:16.824 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 396.4359ms
2024-09-20 12:48:16.828 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 12:48:16.841 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 13.1444ms
2024-09-20 12:48:16.873 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 12:48:16.900 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.8646ms
2024-09-20 12:48:16.929 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 12:48:17.079 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 150.1672ms
2024-09-20 12:48:19.382 +07:00 [DBG] Connection id "0HN6P6V9BFVOT" accepted.
2024-09-20 12:48:19.382 +07:00 [DBG] Connection id "0HN6P6V9BFVOT" received FIN.
2024-09-20 12:48:19.383 +07:00 [DBG] Connection id "0HN6P6V9BFVOT" started.
2024-09-20 12:48:19.383 +07:00 [DBG] Connection id "0HN6P6V9BFVOU" accepted.
2024-09-20 12:48:19.385 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 12:48:19.386 +07:00 [DBG] Connection id "0HN6P6V9BFVOU" started.
2024-09-20 12:48:19.391 +07:00 [DBG] Connection id "0HN6P6V9BFVOT" stopped.
2024-09-20 12:48:19.393 +07:00 [DBG] Connection id "0HN6P6V9BFVOT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 12:48:19.395 +07:00 [DBG] Connection 0HN6P6V9BFVOU established using the following protocol: "Tls12"
2024-09-20 12:48:19.403 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1?includePointOfInterest=true - -
2024-09-20 12:48:19.405 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 12:48:19.427 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-20 12:48:19.432 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-20 12:48:19.433 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 12:48:19.435 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 12:48:19.475 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 12:48:19.476 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 12:48:19.477 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 12:48:19.477 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 12:48:19.478 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 12:48:19.478 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 12:48:19.479 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 12:48:19.831 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 12:48:19.936 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 12:48:19.955 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-20 12:48:19.958 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-20 12:48:19.959 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 12:48:19.959 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 12:48:19.960 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-20 12:48:19.962 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-20 12:48:19.963 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 12:48:19.964 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name 'includePointOfInterest' in request data ...
2024-09-20 12:48:19.965 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 12:48:19.965 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 12:48:19.966 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 12:48:19.966 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 12:48:20.631 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 12:48:20.692 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointOfInterests)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-20 12:48:20.770 +07:00 [DBG] Including navigation: 'City.PointOfInterests'.
2024-09-20 12:48:21.016 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required, 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 12:48:21.058 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 12:48:21.192 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (130ms).
2024-09-20 12:48:21.204 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 12:48:21.260 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 12:48:21.274 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2024-09-20 12:48:21.316 +07:00 [INF] Executed DbCommand (44ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2024-09-20 12:48:21.333 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 12:48:21.373 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 12:48:21.391 +07:00 [DBG] A data reader was disposed.
2024-09-20 12:48:21.402 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 12:48:21.408 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 12:48:21.524 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 2037.2887ms
2024-09-20 12:48:21.528 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 12:48:21.529 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
City -> CityDto
CityInfo.API.Entities.City -> CityInfo.API.Models.CityDto
   at lambda_method90(Closure , Object , CityDto , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 51
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 12:48:21.568 +07:00 [DBG] Connection id "0HN6P6V9BFVOU" completed keep alive response.
2024-09-20 12:48:21.577 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 12:48:21.584 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1?includePointOfInterest=true - - - 500 - text/plain;+charset=utf-8 2181.3098ms
2024-09-20 12:51:18.114 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 12:51:18.254 +07:00 [DBG] Hosting starting
2024-09-20 12:51:18.397 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 12:51:18.421 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 12:51:18.421 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 12:51:18.422 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 12:51:18.422 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 12:51:18.422 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 12:51:18.423 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 12:51:18.424 +07:00 [INF] Hosting environment: Development
2024-09-20 12:51:18.424 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 12:51:18.425 +07:00 [DBG] Hosting started
2024-09-20 12:51:18.869 +07:00 [DBG] Connection id "0HN6P70VQ2E7I" received FIN.
2024-09-20 12:51:18.869 +07:00 [DBG] Connection id "0HN6P70VQ2E7J" received FIN.
2024-09-20 12:51:18.879 +07:00 [DBG] Connection id "0HN6P70VQ2E7J" accepted.
2024-09-20 12:51:18.879 +07:00 [DBG] Connection id "0HN6P70VQ2E7I" accepted.
2024-09-20 12:51:18.881 +07:00 [DBG] Connection id "0HN6P70VQ2E7J" started.
2024-09-20 12:51:18.881 +07:00 [DBG] Connection id "0HN6P70VQ2E7I" started.
2024-09-20 12:51:18.902 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 12:51:18.902 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 12:51:18.952 +07:00 [DBG] Connection id "0HN6P70VQ2E7I" stopped.
2024-09-20 12:51:18.952 +07:00 [DBG] Connection id "0HN6P70VQ2E7J" stopped.
2024-09-20 12:51:18.956 +07:00 [DBG] Connection id "0HN6P70VQ2E7J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 12:51:18.956 +07:00 [DBG] Connection id "0HN6P70VQ2E7I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 12:51:18.994 +07:00 [DBG] Connection id "0HN6P70VQ2E7K" accepted.
2024-09-20 12:51:18.997 +07:00 [DBG] Connection id "0HN6P70VQ2E7K" started.
2024-09-20 12:51:19.083 +07:00 [DBG] Connection 0HN6P70VQ2E7K established using the following protocol: "Tls12"
2024-09-20 12:51:19.148 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 12:51:19.194 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 12:51:19.397 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 12:51:19.501 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 12:51:19.505 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 12:51:19.505 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 12:51:19.506 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 361.6587ms
2024-09-20 12:51:19.517 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 12.8948ms
2024-09-20 12:51:19.532 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.8655ms
2024-09-20 12:51:19.563 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 12:51:19.704 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.0512ms
2024-09-20 12:51:22.831 +07:00 [DBG] Connection id "0HN6P70VQ2E7L" accepted.
2024-09-20 12:51:22.831 +07:00 [DBG] Connection id "0HN6P70VQ2E7L" received FIN.
2024-09-20 12:51:22.832 +07:00 [DBG] Connection id "0HN6P70VQ2E7L" started.
2024-09-20 12:51:22.833 +07:00 [DBG] Connection id "0HN6P70VQ2E7M" accepted.
2024-09-20 12:51:22.835 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 12:51:22.835 +07:00 [DBG] Connection id "0HN6P70VQ2E7M" started.
2024-09-20 12:51:22.836 +07:00 [DBG] Connection id "0HN6P70VQ2E7L" stopped.
2024-09-20 12:51:22.837 +07:00 [DBG] Connection id "0HN6P70VQ2E7L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 12:51:22.839 +07:00 [DBG] Connection 0HN6P70VQ2E7M established using the following protocol: "Tls12"
2024-09-20 12:51:22.849 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1?includePointOfInterest=true - -
2024-09-20 12:51:22.851 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 12:51:22.869 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-20 12:51:22.874 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-20 12:51:22.875 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 12:51:22.878 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 12:51:22.908 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 12:51:22.910 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 12:51:22.910 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 12:51:22.911 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 12:51:22.912 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 12:51:22.912 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 12:51:22.913 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 12:51:23.013 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 12:51:23.119 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 12:51:23.133 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-20 12:51:23.134 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-20 12:51:23.136 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 12:51:23.136 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 12:51:23.137 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-20 12:51:23.138 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-20 12:51:23.139 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 12:51:23.140 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name 'includePointOfInterest' in request data ...
2024-09-20 12:51:23.141 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 12:51:23.141 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 12:51:23.142 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 12:51:23.143 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 12:51:23.724 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 12:51:23.779 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointOfInterests)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-20 12:51:23.854 +07:00 [DBG] Including navigation: 'City.PointOfInterests'.
2024-09-20 12:51:24.084 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required, 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 12:51:24.127 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 12:51:24.168 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (38ms).
2024-09-20 12:51:24.178 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 12:51:24.191 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 12:51:24.203 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2024-09-20 12:51:24.222 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2024-09-20 12:51:24.238 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 12:51:24.263 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 12:51:24.279 +07:00 [DBG] A data reader was disposed.
2024-09-20 12:51:24.285 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 12:51:24.289 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 12:51:24.300 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 12:51:24.302 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 12:51:24.303 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 12:51:24.303 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 12:51:24.304 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 12:51:24.304 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2024-09-20 12:51:24.422 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1505.8427ms
2024-09-20 12:51:24.423 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 12:51:24.424 +07:00 [DBG] Connection id "0HN6P70VQ2E7M" completed keep alive response.
2024-09-20 12:51:24.428 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 12:51:24.431 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1?includePointOfInterest=true - - - 200 205 application/json;+charset=utf-8 1581.0360ms
2024-09-20 12:51:32.081 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1?includePointOfInterest=false - -
2024-09-20 12:51:32.082 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 12:51:32.083 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-20 12:51:32.083 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-20 12:51:32.084 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 12:51:32.085 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 12:51:32.085 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 12:51:32.086 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 12:51:32.087 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 12:51:32.087 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 12:51:32.088 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 12:51:32.088 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 12:51:32.089 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 12:51:32.098 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 12:51:32.098 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-20 12:51:32.099 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-20 12:51:32.099 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 12:51:32.100 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 12:51:32.100 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-20 12:51:32.100 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-20 12:51:32.101 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 12:51:32.101 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name 'includePointOfInterest' in request data ...
2024-09-20 12:51:32.102 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 12:51:32.102 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 12:51:32.103 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 12:51:32.103 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 12:51:32.104 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 12:51:32.108 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-20 12:51:32.111 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 12:51:32.113 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 12:51:32.113 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 12:51:32.113 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 12:51:32.114 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 12:51:32.114 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-20 12:51:32.115 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-20 12:51:32.116 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 12:51:32.116 +07:00 [DBG] A data reader was disposed.
2024-09-20 12:51:32.116 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 12:51:32.117 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 12:51:32.163 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 74.1706ms
2024-09-20 12:51:32.164 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 12:51:32.165 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
City -> CityWithoutPointOfInterestDto
CityInfo.API.Entities.City -> CityInfo.API.Models.CityWithoutPointOfInterestDto
   at lambda_method101(Closure , Object , CityWithoutPointOfInterestDto , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 54
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 12:51:32.181 +07:00 [DBG] Connection id "0HN6P70VQ2E7M" completed keep alive response.
2024-09-20 12:51:32.181 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 12:51:32.181 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1?includePointOfInterest=false - - - 500 - text/plain;+charset=utf-8 99.9393ms
2024-09-20 12:51:51.271 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 12:51:51.403 +07:00 [DBG] Hosting starting
2024-09-20 12:51:51.541 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 12:51:51.573 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 12:51:51.574 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 12:51:51.574 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 12:51:51.574 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 12:51:51.575 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 12:51:51.575 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 12:51:51.576 +07:00 [INF] Hosting environment: Development
2024-09-20 12:51:51.576 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 12:51:51.577 +07:00 [DBG] Hosting started
2024-09-20 12:51:52.008 +07:00 [DBG] Connection id "0HN6P719M3J61" received FIN.
2024-09-20 12:51:52.008 +07:00 [DBG] Connection id "0HN6P719M3J62" received FIN.
2024-09-20 12:51:52.011 +07:00 [DBG] Connection id "0HN6P719M3J62" accepted.
2024-09-20 12:51:52.011 +07:00 [DBG] Connection id "0HN6P719M3J61" accepted.
2024-09-20 12:51:52.015 +07:00 [DBG] Connection id "0HN6P719M3J61" started.
2024-09-20 12:51:52.015 +07:00 [DBG] Connection id "0HN6P719M3J62" started.
2024-09-20 12:51:52.031 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 12:51:52.031 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 12:51:52.072 +07:00 [DBG] Connection id "0HN6P719M3J61" stopped.
2024-09-20 12:51:52.072 +07:00 [DBG] Connection id "0HN6P719M3J62" stopped.
2024-09-20 12:51:52.075 +07:00 [DBG] Connection id "0HN6P719M3J61" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 12:51:52.075 +07:00 [DBG] Connection id "0HN6P719M3J62" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 12:51:52.193 +07:00 [DBG] Connection id "0HN6P719M3J63" accepted.
2024-09-20 12:51:52.193 +07:00 [DBG] Connection id "0HN6P719M3J63" started.
2024-09-20 12:51:52.242 +07:00 [DBG] Connection 0HN6P719M3J63 established using the following protocol: "Tls12"
2024-09-20 12:51:52.322 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 12:51:52.358 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 12:51:52.550 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 12:51:52.657 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 12:51:52.663 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 12:51:52.667 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 12:51:52.669 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 346.2374ms
2024-09-20 12:51:52.685 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 22.0070ms
2024-09-20 12:51:52.701 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.5920ms
2024-09-20 12:51:52.724 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 12:51:52.857 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 132.7480ms
2024-09-20 12:51:55.208 +07:00 [DBG] Connection id "0HN6P719M3J64" accepted.
2024-09-20 12:51:55.209 +07:00 [DBG] Connection id "0HN6P719M3J64" received FIN.
2024-09-20 12:51:55.210 +07:00 [DBG] Connection id "0HN6P719M3J64" started.
2024-09-20 12:51:55.211 +07:00 [DBG] Connection id "0HN6P719M3J65" accepted.
2024-09-20 12:51:55.215 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 12:51:55.216 +07:00 [DBG] Connection id "0HN6P719M3J65" started.
2024-09-20 12:51:55.218 +07:00 [DBG] Connection id "0HN6P719M3J64" stopped.
2024-09-20 12:51:55.218 +07:00 [DBG] Connection id "0HN6P719M3J64" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 12:51:55.221 +07:00 [DBG] Connection 0HN6P719M3J65 established using the following protocol: "Tls12"
2024-09-20 12:51:55.228 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1?includePointOfInterest=false - -
2024-09-20 12:51:55.231 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 12:51:55.248 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-20 12:51:55.253 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-20 12:51:55.254 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 12:51:55.255 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 12:51:55.287 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 12:51:55.288 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 12:51:55.289 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 12:51:55.289 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 12:51:55.290 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 12:51:55.291 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 12:51:55.292 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 12:51:55.394 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 12:51:55.496 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 12:51:55.507 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-20 12:51:55.509 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-20 12:51:55.510 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 12:51:55.510 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 12:51:55.511 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-20 12:51:55.512 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-20 12:51:55.514 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 12:51:55.515 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name 'includePointOfInterest' in request data ...
2024-09-20 12:51:55.517 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 12:51:55.518 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 12:51:55.518 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 12:51:55.519 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 12:51:56.104 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 12:51:56.156 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-20 12:51:56.373 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 12:51:56.416 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 12:51:56.461 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (41ms).
2024-09-20 12:51:56.472 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 12:51:56.485 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 12:51:56.496 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-20 12:51:56.515 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-20 12:51:56.530 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 12:51:56.552 +07:00 [DBG] A data reader was disposed.
2024-09-20 12:51:56.558 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 12:51:56.562 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 12:51:56.571 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 12:51:56.574 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 12:51:56.574 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 12:51:56.574 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 12:51:56.575 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 12:51:56.576 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2024-09-20 12:51:56.677 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1381.8605ms
2024-09-20 12:51:56.679 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 12:51:56.680 +07:00 [DBG] Connection id "0HN6P719M3J65" completed keep alive response.
2024-09-20 12:51:56.684 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 12:51:56.686 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1?includePointOfInterest=false - - - 200 74 application/json;+charset=utf-8 1457.7783ms
2024-09-20 12:52:00.457 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1?includePointOfInterest=true - -
2024-09-20 12:52:00.457 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 12:52:00.458 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-20 12:52:00.458 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-20 12:52:00.459 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 12:52:00.459 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 12:52:00.460 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 12:52:00.460 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 12:52:00.461 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 12:52:00.461 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 12:52:00.462 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 12:52:00.462 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 12:52:00.463 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 12:52:00.471 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 12:52:00.471 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-20 12:52:00.472 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-20 12:52:00.472 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 12:52:00.473 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 12:52:00.473 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-20 12:52:00.473 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-20 12:52:00.474 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 12:52:00.474 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name 'includePointOfInterest' in request data ...
2024-09-20 12:52:00.475 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 12:52:00.475 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 12:52:00.475 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 12:52:00.476 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 12:52:00.478 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 12:52:00.484 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointOfInterests)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-20 12:52:00.497 +07:00 [DBG] Including navigation: 'City.PointOfInterests'.
2024-09-20 12:52:00.575 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required, 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 12:52:00.577 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 12:52:00.578 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 12:52:00.578 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 12:52:00.579 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 12:52:00.580 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2024-09-20 12:52:00.581 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2024-09-20 12:52:00.583 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 12:52:00.588 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 12:52:00.600 +07:00 [DBG] A data reader was disposed.
2024-09-20 12:52:00.601 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 12:52:00.601 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 12:52:00.605 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 12:52:00.606 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 12:52:00.606 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 12:52:00.606 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 12:52:00.607 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 12:52:00.607 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2024-09-20 12:52:00.616 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 152.8648ms
2024-09-20 12:52:00.617 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 12:52:00.617 +07:00 [DBG] Connection id "0HN6P719M3J65" completed keep alive response.
2024-09-20 12:52:00.617 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 12:52:00.618 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1?includePointOfInterest=true - - - 200 205 application/json;+charset=utf-8 161.1500ms
2024-09-20 12:57:37.312 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 12:57:37.398 +07:00 [DBG] Hosting starting
2024-09-20 12:57:37.557 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 12:57:37.590 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 12:57:37.590 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 12:57:37.591 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 12:57:37.591 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 12:57:37.591 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 12:57:37.592 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 12:57:37.592 +07:00 [INF] Hosting environment: Development
2024-09-20 12:57:37.593 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 12:57:37.593 +07:00 [DBG] Hosting started
2024-09-20 12:57:37.968 +07:00 [DBG] Connection id "0HN6P74GPE77H" received FIN.
2024-09-20 12:57:37.968 +07:00 [DBG] Connection id "0HN6P74GPE77G" received FIN.
2024-09-20 12:57:37.980 +07:00 [DBG] Connection id "0HN6P74GPE77H" accepted.
2024-09-20 12:57:37.980 +07:00 [DBG] Connection id "0HN6P74GPE77G" accepted.
2024-09-20 12:57:37.981 +07:00 [DBG] Connection id "0HN6P74GPE77H" started.
2024-09-20 12:57:37.981 +07:00 [DBG] Connection id "0HN6P74GPE77G" started.
2024-09-20 12:57:37.995 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 12:57:37.995 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 12:57:38.027 +07:00 [DBG] Connection id "0HN6P74GPE77H" stopped.
2024-09-20 12:57:38.027 +07:00 [DBG] Connection id "0HN6P74GPE77G" stopped.
2024-09-20 12:57:38.029 +07:00 [DBG] Connection id "0HN6P74GPE77H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 12:57:38.029 +07:00 [DBG] Connection id "0HN6P74GPE77G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 12:57:38.325 +07:00 [DBG] Connection id "0HN6P74GPE77I" accepted.
2024-09-20 12:57:38.328 +07:00 [DBG] Connection id "0HN6P74GPE77I" started.
2024-09-20 12:57:38.417 +07:00 [DBG] Connection 0HN6P74GPE77I established using the following protocol: "Tls12"
2024-09-20 12:57:38.504 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 12:57:38.551 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 12:57:38.731 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 12:57:38.848 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 12:57:38.851 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 12:57:38.851 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 12:57:38.853 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 353.4929ms
2024-09-20 12:57:38.860 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 9.2165ms
2024-09-20 12:57:38.878 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.2635ms
2024-09-20 12:57:38.910 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 12:57:39.063 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 152.6354ms
2024-09-20 12:57:40.534 +07:00 [DBG] Connection id "0HN6P74GPE77J" accepted.
2024-09-20 12:57:40.534 +07:00 [DBG] Connection id "0HN6P74GPE77J" received FIN.
2024-09-20 12:57:40.535 +07:00 [DBG] Connection id "0HN6P74GPE77J" started.
2024-09-20 12:57:40.535 +07:00 [DBG] Connection id "0HN6P74GPE77K" accepted.
2024-09-20 12:57:40.536 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 12:57:40.537 +07:00 [DBG] Connection id "0HN6P74GPE77K" started.
2024-09-20 12:57:40.539 +07:00 [DBG] Connection id "0HN6P74GPE77J" stopped.
2024-09-20 12:57:40.539 +07:00 [DBG] Connection id "0HN6P74GPE77J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 12:57:40.544 +07:00 [DBG] Connection 0HN6P74GPE77K established using the following protocol: "Tls12"
2024-09-20 12:57:40.552 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1?includePointOfInterest=true - -
2024-09-20 12:57:40.553 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 12:57:40.570 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-20 12:57:40.575 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-20 12:57:40.576 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 12:57:40.578 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 12:57:40.609 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 12:57:40.611 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 12:57:40.611 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 12:57:40.612 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 12:57:40.613 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 12:57:40.613 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 12:57:40.614 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 12:57:40.713 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 12:57:40.814 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 12:57:40.829 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-20 12:57:40.831 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-20 12:57:40.832 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 12:57:40.832 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 12:57:40.833 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-20 12:57:40.834 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-20 12:57:40.836 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 12:57:40.837 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name 'includePointOfInterest' in request data ...
2024-09-20 12:57:40.840 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 12:57:40.841 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 12:57:40.841 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 12:57:40.842 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 12:57:41.457 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 12:57:41.513 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointOfInterests)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-20 12:57:41.588 +07:00 [DBG] Including navigation: 'City.PointOfInterests'.
2024-09-20 12:57:41.831 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required, 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 12:57:41.876 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 12:57:41.922 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (42ms).
2024-09-20 12:57:41.932 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 12:57:41.945 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 12:57:41.957 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2024-09-20 12:57:41.976 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2024-09-20 12:57:41.991 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 12:57:42.012 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 12:57:42.030 +07:00 [DBG] A data reader was disposed.
2024-09-20 12:57:42.035 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 12:57:42.041 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 12:57:42.051 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 12:57:42.054 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 12:57:42.054 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 12:57:42.055 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 12:57:42.056 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 12:57:42.057 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2024-09-20 12:57:42.164 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1546.3196ms
2024-09-20 12:57:42.166 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 12:57:42.166 +07:00 [DBG] Connection id "0HN6P74GPE77K" completed keep alive response.
2024-09-20 12:57:42.170 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 12:57:42.173 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1?includePointOfInterest=true - - - 200 205 application/json;+charset=utf-8 1621.2619ms
2024-09-20 12:57:47.519 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1?includePointOfInterest=false - -
2024-09-20 12:57:47.521 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 12:57:47.523 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-20 12:57:47.526 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-20 12:57:47.528 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 12:57:47.529 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 12:57:47.530 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 12:57:47.531 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 12:57:47.531 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 12:57:47.532 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 12:57:47.533 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 12:57:47.533 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 12:57:47.534 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 12:57:47.542 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 12:57:47.542 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-20 12:57:47.543 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-20 12:57:47.543 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 12:57:47.544 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 12:57:47.544 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-20 12:57:47.545 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-20 12:57:47.545 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 12:57:47.546 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name 'includePointOfInterest' in request data ...
2024-09-20 12:57:47.546 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 12:57:47.547 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 12:57:47.547 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 12:57:47.548 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 12:57:47.549 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 12:57:47.553 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-20 12:57:47.557 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 12:57:47.558 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 12:57:47.558 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 12:57:47.559 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 12:57:47.559 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 12:57:47.560 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-20 12:57:47.561 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-20 12:57:47.562 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 12:57:47.562 +07:00 [DBG] A data reader was disposed.
2024-09-20 12:57:47.562 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 12:57:47.563 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 12:57:47.564 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 12:57:47.565 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 12:57:47.565 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 12:57:47.566 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 12:57:47.566 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 12:57:47.567 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2024-09-20 12:57:47.568 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 33.9067ms
2024-09-20 12:57:47.568 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 12:57:47.569 +07:00 [DBG] Connection id "0HN6P74GPE77K" completed keep alive response.
2024-09-20 12:57:47.569 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 12:57:47.569 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1?includePointOfInterest=false - - - 200 74 application/json;+charset=utf-8 49.9989ms
2024-09-20 14:01:13.385 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 14:01:13.506 +07:00 [DBG] Hosting starting
2024-09-20 14:01:13.784 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 14:01:13.814 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 14:01:13.814 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 14:01:13.815 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 14:01:13.815 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 14:01:13.815 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 14:01:13.816 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 14:01:13.817 +07:00 [INF] Hosting environment: Development
2024-09-20 14:01:13.817 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 14:01:13.818 +07:00 [DBG] Hosting started
2024-09-20 14:01:14.173 +07:00 [DBG] Connection id "0HN6P8823JJ21" received FIN.
2024-09-20 14:01:14.173 +07:00 [DBG] Connection id "0HN6P8823JJ22" received FIN.
2024-09-20 14:01:14.187 +07:00 [DBG] Connection id "0HN6P8823JJ21" accepted.
2024-09-20 14:01:14.187 +07:00 [DBG] Connection id "0HN6P8823JJ22" accepted.
2024-09-20 14:01:14.189 +07:00 [DBG] Connection id "0HN6P8823JJ21" started.
2024-09-20 14:01:14.189 +07:00 [DBG] Connection id "0HN6P8823JJ22" started.
2024-09-20 14:01:14.217 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:01:14.217 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:01:14.311 +07:00 [DBG] Connection id "0HN6P8823JJ22" stopped.
2024-09-20 14:01:14.311 +07:00 [DBG] Connection id "0HN6P8823JJ21" stopped.
2024-09-20 14:01:14.314 +07:00 [DBG] Connection id "0HN6P8823JJ22" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:01:14.314 +07:00 [DBG] Connection id "0HN6P8823JJ21" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:01:14.359 +07:00 [DBG] Connection id "0HN6P8823JJ23" accepted.
2024-09-20 14:01:14.360 +07:00 [DBG] Connection id "0HN6P8823JJ23" started.
2024-09-20 14:01:14.435 +07:00 [DBG] Connection 0HN6P8823JJ23 established using the following protocol: "Tls12"
2024-09-20 14:01:14.501 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 14:01:14.551 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 14:01:14.743 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 14:01:14.896 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 14:01:14.902 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 402.8161ms
2024-09-20 14:01:14.907 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 14:01:14.907 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 14:01:14.929 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 21.4495ms
2024-09-20 14:01:14.942 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 34.6285ms
2024-09-20 14:01:14.974 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 14:01:15.147 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 172.6887ms
2024-09-20 14:01:23.478 +07:00 [DBG] Connection id "0HN6P8823JJ24" accepted.
2024-09-20 14:01:23.479 +07:00 [DBG] Connection id "0HN6P8823JJ24" received FIN.
2024-09-20 14:01:23.480 +07:00 [DBG] Connection id "0HN6P8823JJ24" started.
2024-09-20 14:01:23.481 +07:00 [DBG] Connection id "0HN6P8823JJ25" accepted.
2024-09-20 14:01:23.482 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:01:23.483 +07:00 [DBG] Connection id "0HN6P8823JJ25" started.
2024-09-20 14:01:23.484 +07:00 [DBG] Connection id "0HN6P8823JJ24" stopped.
2024-09-20 14:01:23.484 +07:00 [DBG] Connection id "0HN6P8823JJ24" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:01:23.489 +07:00 [DBG] Connection 0HN6P8823JJ25 established using the following protocol: "Tls12"
2024-09-20 14:01:23.505 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - -
2024-09-20 14:01:23.509 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:01:23.532 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:01:23.536 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:01:23.538 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:01:23.541 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:01:23.609 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 14:01:23.611 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:01:23.611 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:01:23.612 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:01:23.612 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:01:23.613 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:01:23.614 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:01:23.856 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 14:01:23.975 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:01:23.992 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:01:23.993 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 14:01:23.995 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:01:23.995 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:01:23.996 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:01:23.998 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:01:24.000 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:01:24.000 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 14:01:24.001 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:01:24.001 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:01:24.002 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:01:24.004 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:01:24.713 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:01:24.755 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .All(c => c.Id == __cityId_0)'
2024-09-20 14:01:24.959 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT NOT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE Not(c.Id == @__cityId_0))), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 14:01:25.008 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:01:25.135 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (121ms).
2024-09-20 14:01:25.148 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:01:25.193 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:01:25.207 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT NOT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" <> @__cityId_0)
2024-09-20 14:01:25.229 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT NOT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" <> @__cityId_0)
2024-09-20 14:01:25.240 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:01:25.257 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:01:25.263 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:01:25.264 +07:00 [INF] logger infomation GetPointOfInterest 1
2024-09-20 14:01:25.267 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 14:01:25.269 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 14:01:25.270 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-20 14:01:25.273 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-20 14:01:25.274 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-20 14:01:25.407 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 1789.2368ms
2024-09-20 14:01:25.409 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:01:25.409 +07:00 [DBG] Connection id "0HN6P8823JJ25" completed keep alive response.
2024-09-20 14:01:25.413 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:01:25.415 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - - - 404 161 application/problem+json;+charset=utf-8 1909.6946ms
2024-09-20 14:02:08.200 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 14:02:08.412 +07:00 [DBG] Hosting starting
2024-09-20 14:02:08.528 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 14:02:08.562 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 14:02:08.562 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 14:02:08.562 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 14:02:08.563 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 14:02:08.563 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 14:02:08.564 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 14:02:08.564 +07:00 [INF] Hosting environment: Development
2024-09-20 14:02:08.565 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 14:02:08.565 +07:00 [DBG] Hosting started
2024-09-20 14:02:09.069 +07:00 [DBG] Connection id "0HN6P88IF4CVE" received FIN.
2024-09-20 14:02:09.069 +07:00 [DBG] Connection id "0HN6P88IF4CVF" received FIN.
2024-09-20 14:02:09.078 +07:00 [DBG] Connection id "0HN6P88IF4CVE" accepted.
2024-09-20 14:02:09.078 +07:00 [DBG] Connection id "0HN6P88IF4CVF" accepted.
2024-09-20 14:02:09.079 +07:00 [DBG] Connection id "0HN6P88IF4CVE" started.
2024-09-20 14:02:09.079 +07:00 [DBG] Connection id "0HN6P88IF4CVF" started.
2024-09-20 14:02:09.095 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:02:09.095 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:02:09.131 +07:00 [DBG] Connection id "0HN6P88IF4CVE" stopped.
2024-09-20 14:02:09.131 +07:00 [DBG] Connection id "0HN6P88IF4CVF" stopped.
2024-09-20 14:02:09.133 +07:00 [DBG] Connection id "0HN6P88IF4CVE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:02:09.133 +07:00 [DBG] Connection id "0HN6P88IF4CVF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:02:09.369 +07:00 [DBG] Connection id "0HN6P88IF4CVG" accepted.
2024-09-20 14:02:09.370 +07:00 [DBG] Connection id "0HN6P88IF4CVG" started.
2024-09-20 14:02:09.435 +07:00 [DBG] Connection 0HN6P88IF4CVG established using the following protocol: "Tls12"
2024-09-20 14:02:09.519 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 14:02:09.566 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 14:02:09.764 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 14:02:09.880 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 14:02:09.887 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 370.6089ms
2024-09-20 14:02:09.892 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 14:02:09.892 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 14:02:09.918 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 25.4756ms
2024-09-20 14:02:09.938 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 46.3924ms
2024-09-20 14:02:09.963 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 14:02:10.105 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 142.2037ms
2024-09-20 14:02:15.249 +07:00 [DBG] Connection id "0HN6P88IF4CVH" accepted.
2024-09-20 14:02:15.249 +07:00 [DBG] Connection id "0HN6P88IF4CVH" received FIN.
2024-09-20 14:02:15.250 +07:00 [DBG] Connection id "0HN6P88IF4CVH" started.
2024-09-20 14:02:15.251 +07:00 [DBG] Connection id "0HN6P88IF4CVI" accepted.
2024-09-20 14:02:15.252 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:02:15.252 +07:00 [DBG] Connection id "0HN6P88IF4CVI" started.
2024-09-20 14:02:15.254 +07:00 [DBG] Connection id "0HN6P88IF4CVH" stopped.
2024-09-20 14:02:15.254 +07:00 [DBG] Connection id "0HN6P88IF4CVH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:02:15.263 +07:00 [DBG] Connection 0HN6P88IF4CVI established using the following protocol: "Tls12"
2024-09-20 14:02:15.270 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest - -
2024-09-20 14:02:15.272 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:02:15.291 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2024-09-20 14:02:15.297 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2024-09-20 14:02:15.298 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:02:15.300 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:02:15.334 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 14:02:15.336 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:02:15.337 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:02:15.337 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:02:15.338 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:02:15.338 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:02:15.339 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:02:15.438 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 14:02:15.546 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:02:15.554 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:02:15.558 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 14:02:15.560 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:02:15.560 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:02:15.561 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:02:15.562 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:02:16.171 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:02:16.211 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .All(c => c.Id == __cityId_0)'
2024-09-20 14:02:16.413 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT NOT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE Not(c.Id == @__cityId_0))), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 14:02:16.457 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:02:16.501 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (41ms).
2024-09-20 14:02:16.512 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:02:16.525 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:02:16.537 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT NOT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" <> @__cityId_0)
2024-09-20 14:02:16.556 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT NOT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" <> @__cityId_0)
2024-09-20 14:02:16.566 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:02:16.572 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:02:16.578 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:02:16.579 +07:00 [INF] logger infomation GetPointOfInterest 1
2024-09-20 14:02:16.582 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 14:02:16.585 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 14:02:16.585 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-20 14:02:16.587 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-20 14:02:16.587 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-20 14:02:16.695 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 1352.1083ms
2024-09-20 14:02:16.697 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:02:16.697 +07:00 [DBG] Connection id "0HN6P88IF4CVI" completed keep alive response.
2024-09-20 14:02:16.701 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:02:16.704 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest - - - 404 161 application/problem+json;+charset=utf-8 1433.9134ms
2024-09-20 14:02:45.885 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/3/pointsofinterest - -
2024-09-20 14:02:45.886 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:02:45.887 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-09-20 14:02:45.888 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-09-20 14:02:45.889 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:02:45.890 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:02:45.891 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 14:02:45.892 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:02:45.893 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:02:45.896 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:02:45.898 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:02:45.899 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:02:45.899 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:02:45.906 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:02:45.909 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:02:45.910 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 14:02:45.912 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:02:45.912 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:02:45.913 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:02:45.914 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:02:45.951 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:02:45.958 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:02:45.958 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:02:45.959 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:02:45.959 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:02:45.961 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT NOT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" <> @__cityId_0)
2024-09-20 14:02:45.963 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT NOT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" <> @__cityId_0)
2024-09-20 14:02:45.964 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:02:45.965 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:02:45.965 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:02:45.966 +07:00 [INF] logger infomation GetPointOfInterest 3
2024-09-20 14:02:45.967 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 14:02:45.968 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 14:02:45.968 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-20 14:02:45.969 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-20 14:02:45.970 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-20 14:02:45.971 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 71.2664ms
2024-09-20 14:02:45.972 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:02:45.973 +07:00 [DBG] Connection id "0HN6P88IF4CVI" completed keep alive response.
2024-09-20 14:02:45.974 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:02:45.974 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/3/pointsofinterest - - - 404 161 application/problem+json;+charset=utf-8 89.1508ms
2024-09-20 14:02:49.618 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest - -
2024-09-20 14:02:49.618 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:02:49.618 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2024-09-20 14:02:49.619 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2024-09-20 14:02:49.619 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:02:49.620 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:02:49.620 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 14:02:49.621 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:02:49.622 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:02:49.622 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:02:49.623 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:02:49.623 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:02:49.624 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:02:49.629 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:02:49.630 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:02:49.631 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 14:02:49.632 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:02:49.632 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:02:49.633 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:02:49.633 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:02:49.668 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:02:49.669 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:02:49.670 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:02:49.670 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:02:49.671 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:02:49.671 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT NOT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" <> @__cityId_0)
2024-09-20 14:02:49.672 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT NOT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" <> @__cityId_0)
2024-09-20 14:02:49.673 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:02:49.673 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:02:49.673 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:02:49.674 +07:00 [INF] logger infomation GetPointOfInterest 1
2024-09-20 14:02:49.674 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 14:02:49.675 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 14:02:49.675 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-20 14:02:49.676 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-20 14:02:49.677 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-20 14:02:49.678 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 53.8258ms
2024-09-20 14:02:49.678 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:02:49.679 +07:00 [DBG] Connection id "0HN6P88IF4CVI" completed keep alive response.
2024-09-20 14:02:49.679 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:02:49.680 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest - - - 404 161 application/problem+json;+charset=utf-8 62.0935ms
2024-09-20 14:02:52.734 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities - -
2024-09-20 14:02:52.735 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:02:52.735 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-20 14:02:52.736 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-20 14:02:52.736 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 14:02:52.737 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 14:02:52.739 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 14:02:52.739 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:02:52.740 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:02:52.740 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:02:52.741 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:02:52.742 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:02:52.742 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 14:02:52.743 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 14:02:52.746 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:02:52.752 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-09-20 14:02:52.785 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 14:02:52.791 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:02:52.792 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:02:52.792 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:02:52.792 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:02:52.793 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-20 14:02:52.805 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-20 14:02:52.831 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:02:52.848 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:02:52.849 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:02:52.850 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:02:52.850 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:02:52.850 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:02:52.870 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 14:02:52.871 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 14:02:52.871 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 14:02:52.872 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 14:02:52.872 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 14:02:52.872 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 14:02:52.881 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 138.48ms
2024-09-20 14:02:52.881 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 14:02:52.882 +07:00 [DBG] Connection id "0HN6P88IF4CVI" completed keep alive response.
2024-09-20 14:02:52.882 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:02:52.883 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities - - - 200 230 application/json;+charset=utf-8 148.3676ms
2024-09-20 14:02:57.168 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1?includePointOfInterest=false - -
2024-09-20 14:02:57.169 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:02:57.169 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-20 14:02:57.170 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-20 14:02:57.171 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 14:02:57.171 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 14:02:57.174 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 14:02:57.175 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:02:57.176 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:02:57.176 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:02:57.178 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:02:57.179 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:02:57.181 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 14:02:57.182 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 14:02:57.186 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-20 14:02:57.187 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-20 14:02:57.187 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 14:02:57.188 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 14:02:57.188 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-20 14:02:57.189 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-20 14:02:57.189 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 14:02:57.190 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name 'includePointOfInterest' in request data ...
2024-09-20 14:02:57.191 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 14:02:57.191 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 14:02:57.192 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 14:02:57.192 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 14:02:57.196 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:02:57.198 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-20 14:02:57.203 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 14:02:57.206 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:02:57.207 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:02:57.208 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:02:57.208 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:02:57.209 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-20 14:02:57.210 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-20 14:02:57.211 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:02:57.212 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:02:57.213 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:02:57.214 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:02:57.215 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 14:02:57.216 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 14:02:57.217 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 14:02:57.217 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 14:02:57.217 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 14:02:57.218 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2024-09-20 14:02:57.218 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 36.7908ms
2024-09-20 14:02:57.219 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 14:02:57.219 +07:00 [DBG] Connection id "0HN6P88IF4CVI" completed keep alive response.
2024-09-20 14:02:57.219 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:02:57.220 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1?includePointOfInterest=false - - - 200 74 application/json;+charset=utf-8 51.9683ms
2024-09-20 14:03:00.720 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1?includePointOfInterest=true - -
2024-09-20 14:03:00.722 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:03:00.722 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-20 14:03:00.723 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-20 14:03:00.724 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 14:03:00.725 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 14:03:00.726 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 14:03:00.727 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:03:00.729 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:03:00.732 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:03:00.733 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:03:00.734 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:03:00.734 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 14:03:00.735 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 14:03:00.735 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-20 14:03:00.736 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-20 14:03:00.736 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 14:03:00.736 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 14:03:00.737 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-20 14:03:00.737 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-20 14:03:00.738 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 14:03:00.738 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name 'includePointOfInterest' in request data ...
2024-09-20 14:03:00.739 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 14:03:00.739 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 14:03:00.739 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 14:03:00.740 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 14:03:00.741 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:03:00.747 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointOfInterests)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-20 14:03:00.762 +07:00 [DBG] Including navigation: 'City.PointOfInterests'.
2024-09-20 14:03:00.851 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required, 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 14:03:00.853 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:03:00.853 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:03:00.853 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:03:00.854 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:03:00.854 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2024-09-20 14:03:00.863 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2024-09-20 14:03:00.865 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:03:00.871 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:03:00.885 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:03:00.886 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:03:00.886 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:03:00.888 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 14:03:00.889 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 14:03:00.890 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 14:03:00.890 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 14:03:00.890 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 14:03:00.891 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2024-09-20 14:03:00.893 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 158.5934ms
2024-09-20 14:03:00.893 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 14:03:00.894 +07:00 [DBG] Connection id "0HN6P88IF4CVI" completed keep alive response.
2024-09-20 14:03:00.895 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:03:00.896 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1?includePointOfInterest=true - - - 200 205 application/json;+charset=utf-8 175.2941ms
2024-09-20 14:03:07.995 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest - -
2024-09-20 14:03:07.996 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:03:07.997 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2024-09-20 14:03:07.998 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2024-09-20 14:03:07.999 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:03:08.000 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:03:08.001 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 14:03:08.003 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:03:08.003 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:03:08.004 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:03:08.005 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:03:08.005 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:03:08.007 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:03:08.007 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:03:08.008 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:03:08.009 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 14:03:08.009 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:03:08.010 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:03:08.011 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:03:08.011 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:03:08.012 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:03:08.014 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:03:08.014 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:03:08.015 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:03:08.015 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:03:08.015 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT NOT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" <> @__cityId_0)
2024-09-20 14:03:08.016 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT NOT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" <> @__cityId_0)
2024-09-20 14:03:08.017 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:03:08.017 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:03:08.018 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:03:08.018 +07:00 [INF] logger infomation GetPointOfInterest 1
2024-09-20 14:03:08.018 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 14:03:08.019 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 14:03:08.020 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-20 14:03:08.020 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-20 14:03:08.021 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-20 14:03:08.021 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 14.7142ms
2024-09-20 14:03:08.022 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:03:08.023 +07:00 [DBG] Connection id "0HN6P88IF4CVI" completed keep alive response.
2024-09-20 14:03:08.023 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:03:08.023 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest - - - 404 161 application/problem+json;+charset=utf-8 28.9917ms
2024-09-20 14:04:41.611 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 14:04:41.719 +07:00 [DBG] Hosting starting
2024-09-20 14:04:41.927 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 14:04:41.965 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 14:04:41.965 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 14:04:41.966 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 14:04:41.966 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 14:04:41.967 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 14:04:41.967 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 14:04:41.969 +07:00 [INF] Hosting environment: Development
2024-09-20 14:04:41.972 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 14:04:41.972 +07:00 [DBG] Hosting started
2024-09-20 14:04:42.335 +07:00 [DBG] Connection id "0HN6P8A04PFAP" received FIN.
2024-09-20 14:04:42.335 +07:00 [DBG] Connection id "0HN6P8A04PFAQ" received FIN.
2024-09-20 14:04:42.342 +07:00 [DBG] Connection id "0HN6P8A04PFAP" accepted.
2024-09-20 14:04:42.342 +07:00 [DBG] Connection id "0HN6P8A04PFAQ" accepted.
2024-09-20 14:04:42.343 +07:00 [DBG] Connection id "0HN6P8A04PFAQ" started.
2024-09-20 14:04:42.343 +07:00 [DBG] Connection id "0HN6P8A04PFAP" started.
2024-09-20 14:04:42.356 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:04:42.356 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:04:42.384 +07:00 [DBG] Connection id "0HN6P8A04PFAQ" stopped.
2024-09-20 14:04:42.384 +07:00 [DBG] Connection id "0HN6P8A04PFAP" stopped.
2024-09-20 14:04:42.387 +07:00 [DBG] Connection id "0HN6P8A04PFAQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:04:42.387 +07:00 [DBG] Connection id "0HN6P8A04PFAP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:04:42.403 +07:00 [DBG] Connection id "0HN6P8A04PFAR" accepted.
2024-09-20 14:04:42.407 +07:00 [DBG] Connection id "0HN6P8A04PFAR" started.
2024-09-20 14:04:42.447 +07:00 [DBG] Connection 0HN6P8A04PFAR established using the following protocol: "Tls12"
2024-09-20 14:04:42.510 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 14:04:42.552 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 14:04:42.746 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 14:04:42.852 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 14:04:42.863 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 14:04:42.863 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 14:04:42.868 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 361.4286ms
2024-09-20 14:04:42.868 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 5.1613ms
2024-09-20 14:04:42.894 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.3214ms
2024-09-20 14:04:42.916 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 14:04:43.058 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 142.0251ms
2024-09-20 14:04:49.301 +07:00 [DBG] Connection id "0HN6P8A04PFAS" accepted.
2024-09-20 14:04:49.301 +07:00 [DBG] Connection id "0HN6P8A04PFAS" received FIN.
2024-09-20 14:04:49.304 +07:00 [DBG] Connection id "0HN6P8A04PFAS" started.
2024-09-20 14:04:49.304 +07:00 [DBG] Connection id "0HN6P8A04PFAT" accepted.
2024-09-20 14:04:49.309 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:04:49.309 +07:00 [DBG] Connection id "0HN6P8A04PFAT" started.
2024-09-20 14:04:49.311 +07:00 [DBG] Connection id "0HN6P8A04PFAS" stopped.
2024-09-20 14:04:49.311 +07:00 [DBG] Connection id "0HN6P8A04PFAS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:04:49.315 +07:00 [DBG] Connection 0HN6P8A04PFAT established using the following protocol: "Tls12"
2024-09-20 14:04:49.324 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest - -
2024-09-20 14:04:49.326 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:04:49.345 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2024-09-20 14:04:49.350 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2024-09-20 14:04:49.351 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:04:49.354 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:04:49.386 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 14:04:49.388 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:04:49.389 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:04:49.389 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:04:49.390 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:04:49.390 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:04:49.391 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:04:49.490 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 14:04:49.596 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:04:49.605 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:04:49.607 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 14:04:49.608 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:04:49.608 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:04:49.609 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:04:49.610 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:04:50.217 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:04:50.257 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .All(c => c.Id != __cityId_0)'
2024-09-20 14:04:50.458 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT NOT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE Not(c.Id != @__cityId_0))), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 14:04:50.501 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:04:50.543 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (38ms).
2024-09-20 14:04:50.555 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:04:50.567 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:04:50.581 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT NOT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:04:50.600 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT NOT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:04:50.610 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:04:50.616 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:04:50.620 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:04:50.621 +07:00 [INF] logger infomation GetPointOfInterest 1
2024-09-20 14:04:50.624 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 14:04:50.627 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 14:04:50.627 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-20 14:04:50.629 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-20 14:04:50.629 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-20 14:04:50.737 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 1342.0101ms
2024-09-20 14:04:50.739 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:04:50.740 +07:00 [DBG] Connection id "0HN6P8A04PFAT" completed keep alive response.
2024-09-20 14:04:50.743 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:04:50.746 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest - - - 404 161 application/problem+json;+charset=utf-8 1421.6023ms
2024-09-20 14:05:17.501 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 14:05:17.621 +07:00 [DBG] Hosting starting
2024-09-20 14:05:17.809 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 14:05:17.848 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 14:05:17.848 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 14:05:17.849 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 14:05:17.849 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 14:05:17.849 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 14:05:17.850 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 14:05:17.860 +07:00 [INF] Hosting environment: Development
2024-09-20 14:05:17.863 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 14:05:17.864 +07:00 [DBG] Hosting started
2024-09-20 14:05:17.868 +07:00 [DBG] Connection id "0HN6P8AANL8HQ" received FIN.
2024-09-20 14:05:17.868 +07:00 [DBG] Connection id "0HN6P8AANL8HR" received FIN.
2024-09-20 14:05:17.882 +07:00 [DBG] Connection id "0HN6P8AANL8HR" accepted.
2024-09-20 14:05:17.882 +07:00 [DBG] Connection id "0HN6P8AANL8HQ" accepted.
2024-09-20 14:05:17.884 +07:00 [DBG] Connection id "0HN6P8AANL8HR" started.
2024-09-20 14:05:17.884 +07:00 [DBG] Connection id "0HN6P8AANL8HQ" started.
2024-09-20 14:05:17.907 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:05:17.907 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:05:17.943 +07:00 [DBG] Connection id "0HN6P8AANL8HQ" stopped.
2024-09-20 14:05:17.943 +07:00 [DBG] Connection id "0HN6P8AANL8HR" stopped.
2024-09-20 14:05:17.946 +07:00 [DBG] Connection id "0HN6P8AANL8HR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:05:17.946 +07:00 [DBG] Connection id "0HN6P8AANL8HQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:05:18.271 +07:00 [DBG] Connection id "0HN6P8AANL8HS" accepted.
2024-09-20 14:05:18.275 +07:00 [DBG] Connection id "0HN6P8AANL8HS" started.
2024-09-20 14:05:18.340 +07:00 [DBG] Connection 0HN6P8AANL8HS established using the following protocol: "Tls12"
2024-09-20 14:05:18.485 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 14:05:18.540 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 14:05:18.746 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 14:05:18.860 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 14:05:18.863 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 14:05:18.864 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 14:05:18.867 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 387.1168ms
2024-09-20 14:05:18.881 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 16.4315ms
2024-09-20 14:05:18.890 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.5246ms
2024-09-20 14:05:18.922 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 14:05:19.067 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 145.0386ms
2024-09-20 14:05:21.481 +07:00 [DBG] Connection id "0HN6P8AANL8HT" accepted.
2024-09-20 14:05:21.481 +07:00 [DBG] Connection id "0HN6P8AANL8HT" received FIN.
2024-09-20 14:05:21.483 +07:00 [DBG] Connection id "0HN6P8AANL8HT" started.
2024-09-20 14:05:21.484 +07:00 [DBG] Connection id "0HN6P8AANL8HU" accepted.
2024-09-20 14:05:21.486 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:05:21.486 +07:00 [DBG] Connection id "0HN6P8AANL8HU" started.
2024-09-20 14:05:21.487 +07:00 [DBG] Connection id "0HN6P8AANL8HT" stopped.
2024-09-20 14:05:21.488 +07:00 [DBG] Connection id "0HN6P8AANL8HT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:05:21.494 +07:00 [DBG] Connection 0HN6P8AANL8HU established using the following protocol: "Tls12"
2024-09-20 14:05:21.501 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest - -
2024-09-20 14:05:21.502 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:05:21.519 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2024-09-20 14:05:21.526 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2024-09-20 14:05:21.528 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:05:21.531 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:05:21.562 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 14:05:21.564 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:05:21.564 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:05:21.565 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:05:21.566 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:05:21.566 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:05:21.567 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:05:21.662 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 14:05:21.763 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:05:21.771 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:05:21.773 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 14:05:21.775 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:05:21.776 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:05:21.776 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:05:21.778 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:05:35.433 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:05:35.472 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .All(c => c.Id != __cityId_0)'
2024-09-20 14:05:35.663 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT NOT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE Not(c.Id != @__cityId_0))), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 14:05:35.709 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:05:35.751 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (39ms).
2024-09-20 14:05:35.762 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:05:35.774 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:05:35.790 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT NOT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:05:35.816 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT NOT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:05:35.828 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:05:35.834 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:05:35.838 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:06:04.473 +07:00 [INF] logger infomation GetPointOfInterest 1
2024-09-20 14:06:52.287 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 14:06:52.422 +07:00 [DBG] Hosting starting
2024-09-20 14:06:52.575 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 14:06:52.604 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 14:06:52.604 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 14:06:52.605 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 14:06:52.605 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 14:06:52.605 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 14:06:52.606 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 14:06:52.607 +07:00 [INF] Hosting environment: Development
2024-09-20 14:06:52.607 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 14:06:52.607 +07:00 [DBG] Hosting started
2024-09-20 14:06:52.957 +07:00 [DBG] Connection id "0HN6P8B72GD7Q" received FIN.
2024-09-20 14:06:52.957 +07:00 [DBG] Connection id "0HN6P8B72GD7R" received FIN.
2024-09-20 14:06:52.968 +07:00 [DBG] Connection id "0HN6P8B72GD7R" accepted.
2024-09-20 14:06:52.968 +07:00 [DBG] Connection id "0HN6P8B72GD7Q" accepted.
2024-09-20 14:06:52.970 +07:00 [DBG] Connection id "0HN6P8B72GD7R" started.
2024-09-20 14:06:52.970 +07:00 [DBG] Connection id "0HN6P8B72GD7Q" started.
2024-09-20 14:06:52.986 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:06:52.986 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:06:53.015 +07:00 [DBG] Connection id "0HN6P8B72GD7R" stopped.
2024-09-20 14:06:53.015 +07:00 [DBG] Connection id "0HN6P8B72GD7Q" stopped.
2024-09-20 14:06:53.018 +07:00 [DBG] Connection id "0HN6P8B72GD7Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:06:53.018 +07:00 [DBG] Connection id "0HN6P8B72GD7R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:06:53.071 +07:00 [DBG] Connection id "0HN6P8B72GD7S" accepted.
2024-09-20 14:06:53.072 +07:00 [DBG] Connection id "0HN6P8B72GD7S" started.
2024-09-20 14:06:53.118 +07:00 [DBG] Connection 0HN6P8B72GD7S established using the following protocol: "Tls12"
2024-09-20 14:06:53.185 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 14:06:53.219 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 14:06:53.408 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 14:06:53.506 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 14:06:53.512 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 331.7492ms
2024-09-20 14:06:53.519 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 14:06:53.519 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 14:06:53.534 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 15.3295ms
2024-09-20 14:06:53.550 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.8760ms
2024-09-20 14:06:53.575 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 14:06:53.715 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 140.2156ms
2024-09-20 14:06:54.675 +07:00 [DBG] Connection id "0HN6P8B72GD7T" accepted.
2024-09-20 14:06:54.675 +07:00 [DBG] Connection id "0HN6P8B72GD7T" received FIN.
2024-09-20 14:06:54.676 +07:00 [DBG] Connection id "0HN6P8B72GD7T" started.
2024-09-20 14:06:54.677 +07:00 [DBG] Connection id "0HN6P8B72GD7U" accepted.
2024-09-20 14:06:54.679 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:06:54.679 +07:00 [DBG] Connection id "0HN6P8B72GD7U" started.
2024-09-20 14:06:54.681 +07:00 [DBG] Connection id "0HN6P8B72GD7T" stopped.
2024-09-20 14:06:54.683 +07:00 [DBG] Connection id "0HN6P8B72GD7T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:06:54.685 +07:00 [DBG] Connection 0HN6P8B72GD7U established using the following protocol: "Tls12"
2024-09-20 14:06:54.694 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest - -
2024-09-20 14:06:54.696 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:06:54.714 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2024-09-20 14:06:54.719 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2024-09-20 14:06:54.720 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:06:54.722 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:06:54.752 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 14:06:54.753 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:06:54.754 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:06:54.754 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:06:54.755 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:06:54.755 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:06:54.756 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:06:54.867 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 14:06:54.968 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:06:54.976 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:06:54.978 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 14:06:54.980 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:06:54.980 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:06:54.981 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:06:54.982 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:06:55.587 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:06:55.625 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-20 14:06:55.822 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 14:06:55.867 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:06:55.910 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2024-09-20 14:06:55.921 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:06:55.935 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:06:55.947 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:06:55.966 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:06:55.974 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:06:55.980 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:06:55.984 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:06:55.989 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(c => c.Id == __cityId_0)'
2024-09-20 14:06:56.017 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.Id == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 14:06:56.023 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:06:56.023 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:06:56.023 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:06:56.024 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:06:56.024 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 14:06:56.025 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 14:06:56.037 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:06:56.056 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:06:56.056 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:06:56.057 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:06:56.075 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 14:06:56.079 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 14:06:56.079 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 14:06:56.080 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 14:06:56.081 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 14:06:56.082 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 14:06:56.183 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 1421.7914ms
2024-09-20 14:06:56.185 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:06:56.185 +07:00 [DBG] Connection id "0HN6P8B72GD7U" completed keep alive response.
2024-09-20 14:06:56.189 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:06:56.191 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest - - - 200 83 application/json;+charset=utf-8 1497.5825ms
2024-09-20 14:09:28.597 +07:00 [DBG] Connection id "0HN6P8B72GD7V" accepted.
2024-09-20 14:09:28.599 +07:00 [DBG] Connection id "0HN6P8B72GD7V" received FIN.
2024-09-20 14:09:28.600 +07:00 [DBG] Connection id "0HN6P8B72GD7V" started.
2024-09-20 14:09:28.600 +07:00 [DBG] Connection id "0HN6P8B72GD80" accepted.
2024-09-20 14:09:28.606 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:09:28.606 +07:00 [DBG] Connection id "0HN6P8B72GD80" started.
2024-09-20 14:09:28.608 +07:00 [DBG] Connection id "0HN6P8B72GD7V" stopped.
2024-09-20 14:09:28.611 +07:00 [DBG] Connection id "0HN6P8B72GD7V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:09:28.614 +07:00 [DBG] Connection 0HN6P8B72GD80 established using the following protocol: "Tls12"
2024-09-20 14:09:28.615 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - -
2024-09-20 14:09:28.615 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:09:28.616 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:09:28.616 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:09:28.617 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:09:28.617 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:09:28.620 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 14:09:28.620 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:09:28.621 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:09:28.621 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:09:28.622 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:09:28.622 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:09:28.623 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:09:28.630 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:09:28.634 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:09:28.634 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 14:09:28.635 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:09:28.635 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:09:28.636 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:09:28.636 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:09:28.637 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:09:28.637 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 14:09:28.638 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:09:28.638 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:09:28.638 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:09:28.639 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:09:28.683 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:09:28.699 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:09:28.700 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:09:28.700 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:09:28.701 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:09:28.701 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:09:28.702 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:09:28.703 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:09:28.703 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:09:28.703 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:09:28.705 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-20 14:09:28.709 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 14:09:28.711 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:09:28.711 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:09:28.712 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:09:28.712 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:09:28.712 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:09:28.713 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:09:28.714 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:09:28.715 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:09:28.715 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:09:28.715 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:09:28.783 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 160.4061ms
2024-09-20 14:09:28.786 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:09:28.788 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Task`1 -> PointOfInterestDto
System.Threading.Tasks.Task`1[[System.Collections.Generic.IEnumerable`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]] -> CityInfo.API.Models.PointOfInterestDto
   at lambda_method73(Closure , Object , PointOfInterestDto , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointsofinterestId) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 68
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 14:09:28.825 +07:00 [DBG] Connection id "0HN6P8B72GD80" completed keep alive response.
2024-09-20 14:09:28.826 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:09:28.827 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - - - 500 - text/plain;+charset=utf-8 211.6353ms
2024-09-20 14:10:37.901 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 14:10:38.158 +07:00 [DBG] Hosting starting
2024-09-20 14:10:38.325 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 14:10:38.359 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 14:10:38.359 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 14:10:38.360 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 14:10:38.360 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 14:10:38.360 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 14:10:38.361 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 14:10:38.362 +07:00 [INF] Hosting environment: Development
2024-09-20 14:10:38.364 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 14:10:38.365 +07:00 [DBG] Hosting started
2024-09-20 14:10:38.562 +07:00 [DBG] Connection id "0HN6P8DAA1G7L" received FIN.
2024-09-20 14:10:38.562 +07:00 [DBG] Connection id "0HN6P8DAA1G7M" received FIN.
2024-09-20 14:10:38.572 +07:00 [DBG] Connection id "0HN6P8DAA1G7M" accepted.
2024-09-20 14:10:38.572 +07:00 [DBG] Connection id "0HN6P8DAA1G7L" accepted.
2024-09-20 14:10:38.573 +07:00 [DBG] Connection id "0HN6P8DAA1G7L" started.
2024-09-20 14:10:38.573 +07:00 [DBG] Connection id "0HN6P8DAA1G7M" started.
2024-09-20 14:10:38.586 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:10:38.586 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:10:38.616 +07:00 [DBG] Connection id "0HN6P8DAA1G7M" stopped.
2024-09-20 14:10:38.616 +07:00 [DBG] Connection id "0HN6P8DAA1G7L" stopped.
2024-09-20 14:10:38.622 +07:00 [DBG] Connection id "0HN6P8DAA1G7M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:10:38.622 +07:00 [DBG] Connection id "0HN6P8DAA1G7L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:10:38.634 +07:00 [DBG] Connection id "0HN6P8DAA1G7N" accepted.
2024-09-20 14:10:38.635 +07:00 [DBG] Connection id "0HN6P8DAA1G7N" started.
2024-09-20 14:10:38.671 +07:00 [DBG] Connection 0HN6P8DAA1G7N established using the following protocol: "Tls12"
2024-09-20 14:10:38.729 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 14:10:38.762 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 14:10:38.963 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 14:10:39.073 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 14:10:39.078 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 351.7867ms
2024-09-20 14:10:39.085 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 14:10:39.085 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 14:10:39.093 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 8.1945ms
2024-09-20 14:10:39.106 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 21.1682ms
2024-09-20 14:10:39.138 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 14:10:39.275 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 136.5662ms
2024-09-20 14:10:41.248 +07:00 [DBG] Connection id "0HN6P8DAA1G7O" accepted.
2024-09-20 14:10:41.250 +07:00 [DBG] Connection id "0HN6P8DAA1G7O" received FIN.
2024-09-20 14:10:41.253 +07:00 [DBG] Connection id "0HN6P8DAA1G7O" started.
2024-09-20 14:10:41.254 +07:00 [DBG] Connection id "0HN6P8DAA1G7P" accepted.
2024-09-20 14:10:41.258 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:10:41.258 +07:00 [DBG] Connection id "0HN6P8DAA1G7P" started.
2024-09-20 14:10:41.261 +07:00 [DBG] Connection id "0HN6P8DAA1G7O" stopped.
2024-09-20 14:10:41.265 +07:00 [DBG] Connection id "0HN6P8DAA1G7O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:10:41.269 +07:00 [DBG] Connection 0HN6P8DAA1G7P established using the following protocol: "Tls12"
2024-09-20 14:10:41.279 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - -
2024-09-20 14:10:41.282 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:10:41.298 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:10:41.303 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:10:41.304 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:10:41.306 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:10:41.336 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 14:10:41.337 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:10:41.338 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:10:41.339 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:10:41.339 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:10:41.340 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:10:41.341 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:10:41.441 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 14:10:41.550 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:10:41.557 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:10:41.559 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 14:10:41.560 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:10:41.560 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:10:41.561 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:10:41.562 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:10:41.565 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:10:41.565 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 14:10:41.566 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:10:41.566 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:10:41.567 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:10:41.567 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:10:42.166 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:10:42.204 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-20 14:10:42.406 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 14:10:42.451 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:10:42.500 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (44ms).
2024-09-20 14:10:42.510 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:10:42.523 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:10:42.535 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:10:42.556 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:10:42.565 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:10:42.571 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:10:42.574 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:10:42.581 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-20 14:10:42.608 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 14:10:42.615 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:10:42.616 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:10:42.616 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:10:42.617 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:10:42.617 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:10:42.618 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:10:42.630 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:10:42.648 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:10:42.649 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:10:42.650 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:10:42.705 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 1360.9079ms
2024-09-20 14:10:42.708 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:10:42.709 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Task`1 -> PointOfInterestDto
System.Threading.Tasks.Task`1[[System.Collections.Generic.IEnumerable`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]] -> CityInfo.API.Models.PointOfInterestDto
   at lambda_method59(Closure , Object , PointOfInterestDto , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointsofinterestId) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 54
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 14:10:42.724 +07:00 [DBG] Connection id "0HN6P8DAA1G7P" completed keep alive response.
2024-09-20 14:10:42.728 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:10:42.732 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - - - 500 - text/plain;+charset=utf-8 1452.8611ms
2024-09-20 14:12:40.663 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 14:12:40.763 +07:00 [DBG] Hosting starting
2024-09-20 14:12:40.882 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 14:12:40.912 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 14:12:40.912 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 14:12:40.913 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 14:12:40.913 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 14:12:40.913 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 14:12:40.914 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 14:12:40.915 +07:00 [INF] Hosting environment: Development
2024-09-20 14:12:40.915 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 14:12:40.915 +07:00 [DBG] Hosting started
2024-09-20 14:12:41.330 +07:00 [DBG] Connection id "0HN6P8EESQNKH" accepted.
2024-09-20 14:12:41.330 +07:00 [DBG] Connection id "0HN6P8EESQNKI" accepted.
2024-09-20 14:12:41.332 +07:00 [DBG] Connection id "0HN6P8EESQNKI" started.
2024-09-20 14:12:41.332 +07:00 [DBG] Connection id "0HN6P8EESQNKH" started.
2024-09-20 14:12:41.344 +07:00 [DBG] Connection id "0HN6P8EESQNKI" received FIN.
2024-09-20 14:12:41.344 +07:00 [DBG] Connection id "0HN6P8EESQNKH" received FIN.
2024-09-20 14:12:41.359 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:12:41.359 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:12:41.386 +07:00 [DBG] Connection id "0HN6P8EESQNKI" stopped.
2024-09-20 14:12:41.386 +07:00 [DBG] Connection id "0HN6P8EESQNKH" stopped.
2024-09-20 14:12:41.389 +07:00 [DBG] Connection id "0HN6P8EESQNKI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:12:41.390 +07:00 [DBG] Connection id "0HN6P8EESQNKH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:12:41.423 +07:00 [DBG] Connection id "0HN6P8EESQNKJ" accepted.
2024-09-20 14:12:41.424 +07:00 [DBG] Connection id "0HN6P8EESQNKJ" started.
2024-09-20 14:12:41.463 +07:00 [DBG] Connection 0HN6P8EESQNKJ established using the following protocol: "Tls12"
2024-09-20 14:12:41.529 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 14:12:41.564 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 14:12:41.753 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 14:12:41.850 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 14:12:41.857 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 331.9019ms
2024-09-20 14:12:41.864 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 14:12:41.864 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 14:12:41.882 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 18.0271ms
2024-09-20 14:12:41.901 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.8132ms
2024-09-20 14:12:41.930 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 14:12:42.068 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 137.8214ms
2024-09-20 14:12:43.901 +07:00 [DBG] Connection id "0HN6P8EESQNKK" accepted.
2024-09-20 14:12:43.902 +07:00 [DBG] Connection id "0HN6P8EESQNKK" received FIN.
2024-09-20 14:12:43.903 +07:00 [DBG] Connection id "0HN6P8EESQNKK" started.
2024-09-20 14:12:43.904 +07:00 [DBG] Connection id "0HN6P8EESQNKL" accepted.
2024-09-20 14:12:43.911 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:12:43.912 +07:00 [DBG] Connection id "0HN6P8EESQNKL" started.
2024-09-20 14:12:43.916 +07:00 [DBG] Connection id "0HN6P8EESQNKK" stopped.
2024-09-20 14:12:43.917 +07:00 [DBG] Connection id "0HN6P8EESQNKK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:12:43.925 +07:00 [DBG] Connection 0HN6P8EESQNKL established using the following protocol: "Tls12"
2024-09-20 14:12:43.934 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - -
2024-09-20 14:12:43.936 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:12:43.952 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:12:43.958 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:12:43.959 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:12:43.961 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:12:43.991 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 14:12:43.993 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:12:43.994 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:12:43.994 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:12:43.995 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:12:43.995 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:12:43.996 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:12:44.098 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 14:12:44.197 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:12:44.205 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:12:44.207 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 14:12:44.209 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:12:44.209 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:12:44.209 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:12:44.211 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:12:44.212 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:12:44.213 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 14:12:44.213 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:12:44.214 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:12:44.214 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:12:44.215 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:12:44.815 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:12:44.856 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-20 14:12:45.046 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 14:12:45.091 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:12:45.134 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (39ms).
2024-09-20 14:12:45.145 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:12:45.157 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:12:45.168 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:12:45.187 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:12:45.197 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:12:45.202 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:12:45.207 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:12:45.213 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-20 14:12:45.238 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 14:12:45.245 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:12:45.246 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:12:45.246 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:12:45.247 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:12:45.247 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:12:45.248 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:12:45.262 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:12:45.281 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:12:45.283 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:12:45.284 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:12:45.340 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 1339.6677ms
2024-09-20 14:12:45.342 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:12:45.343 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Task`1 -> PointOfInterestDto
System.Threading.Tasks.Task`1[[System.Collections.Generic.IEnumerable`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]] -> CityInfo.API.Models.PointOfInterestDto
   at lambda_method59(Closure , Object , PointOfInterestDto , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointsofinterestId) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 58
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 14:12:45.359 +07:00 [DBG] Connection id "0HN6P8EESQNKL" completed keep alive response.
2024-09-20 14:12:45.362 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:12:45.365 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - - - 500 - text/plain;+charset=utf-8 1430.4167ms
2024-09-20 14:14:18.869 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 14:14:18.970 +07:00 [DBG] Hosting starting
2024-09-20 14:14:19.144 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 14:14:19.182 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 14:14:19.191 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 14:14:19.192 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 14:14:19.192 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 14:14:19.193 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 14:14:19.196 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 14:14:19.199 +07:00 [INF] Hosting environment: Development
2024-09-20 14:14:19.200 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 14:14:19.201 +07:00 [DBG] Hosting started
2024-09-20 14:14:19.660 +07:00 [DBG] Connection id "0HN6P8FC6J2IG" received FIN.
2024-09-20 14:14:19.660 +07:00 [DBG] Connection id "0HN6P8FC6J2IH" received FIN.
2024-09-20 14:14:19.672 +07:00 [DBG] Connection id "0HN6P8FC6J2IH" accepted.
2024-09-20 14:14:19.672 +07:00 [DBG] Connection id "0HN6P8FC6J2IG" accepted.
2024-09-20 14:14:19.673 +07:00 [DBG] Connection id "0HN6P8FC6J2IG" started.
2024-09-20 14:14:19.673 +07:00 [DBG] Connection id "0HN6P8FC6J2IH" started.
2024-09-20 14:14:19.687 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:14:19.687 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:14:19.740 +07:00 [DBG] Connection id "0HN6P8FC6J2IH" stopped.
2024-09-20 14:14:19.740 +07:00 [DBG] Connection id "0HN6P8FC6J2IG" stopped.
2024-09-20 14:14:19.746 +07:00 [DBG] Connection id "0HN6P8FC6J2IG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:14:19.746 +07:00 [DBG] Connection id "0HN6P8FC6J2IH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:14:19.763 +07:00 [DBG] Connection id "0HN6P8FC6J2II" accepted.
2024-09-20 14:14:19.767 +07:00 [DBG] Connection id "0HN6P8FC6J2II" started.
2024-09-20 14:14:19.837 +07:00 [DBG] Connection 0HN6P8FC6J2II established using the following protocol: "Tls12"
2024-09-20 14:14:19.909 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 14:14:19.947 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 14:14:20.143 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 14:14:20.253 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 14:14:20.261 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 354.7861ms
2024-09-20 14:14:20.271 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 14:14:20.271 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 14:14:20.285 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 14.1966ms
2024-09-20 14:14:20.300 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.3711ms
2024-09-20 14:14:20.323 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 14:14:20.466 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 143.9231ms
2024-09-20 14:14:23.140 +07:00 [DBG] Connection id "0HN6P8FC6J2IJ" accepted.
2024-09-20 14:14:23.140 +07:00 [DBG] Connection id "0HN6P8FC6J2IJ" received FIN.
2024-09-20 14:14:23.141 +07:00 [DBG] Connection id "0HN6P8FC6J2IJ" started.
2024-09-20 14:14:23.141 +07:00 [DBG] Connection id "0HN6P8FC6J2IK" accepted.
2024-09-20 14:14:23.142 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:14:23.142 +07:00 [DBG] Connection id "0HN6P8FC6J2IK" started.
2024-09-20 14:14:23.143 +07:00 [DBG] Connection id "0HN6P8FC6J2IJ" stopped.
2024-09-20 14:14:23.144 +07:00 [DBG] Connection id "0HN6P8FC6J2IJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:14:23.147 +07:00 [DBG] Connection 0HN6P8FC6J2IK established using the following protocol: "Tls12"
2024-09-20 14:14:23.155 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - -
2024-09-20 14:14:23.157 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:14:23.178 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:14:23.184 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:14:23.185 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:14:23.187 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:14:23.219 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 14:14:23.220 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:14:23.221 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:14:23.221 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:14:23.222 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:14:23.222 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:14:23.223 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:14:23.322 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 14:14:23.425 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:14:23.433 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:14:23.435 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 14:14:23.436 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:14:23.437 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:14:23.437 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:14:23.438 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:14:23.440 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:14:23.440 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 14:14:23.441 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:14:23.441 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:14:23.441 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:14:23.442 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:14:24.099 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:14:24.141 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-20 14:14:24.357 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 14:14:24.400 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:14:24.447 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (44ms).
2024-09-20 14:14:24.458 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:14:24.470 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:14:24.482 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:14:24.501 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:14:24.509 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:14:24.516 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:14:24.520 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:14:24.526 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-20 14:14:24.554 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 14:14:24.561 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:14:24.562 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:14:24.562 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:14:24.563 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:14:24.563 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:14:24.564 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:14:24.576 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:14:24.593 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:14:24.594 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:14:24.594 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:14:24.654 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 1427.8512ms
2024-09-20 14:14:24.657 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:14:24.657 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
List`1 -> PointOfInterestDto
System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> CityInfo.API.Models.PointOfInterestDto
   at lambda_method59(Closure , Object , PointOfInterestDto , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointsofinterestId) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 58
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 14:14:24.673 +07:00 [DBG] Connection id "0HN6P8FC6J2IK" completed keep alive response.
2024-09-20 14:14:24.676 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:14:24.679 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - - - 500 - text/plain;+charset=utf-8 1523.5537ms
2024-09-20 14:17:50.115 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 14:17:50.202 +07:00 [DBG] Hosting starting
2024-09-20 14:17:50.356 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 14:17:50.400 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 14:17:50.400 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 14:17:50.400 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 14:17:50.401 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 14:17:50.401 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 14:17:50.401 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 14:17:50.402 +07:00 [INF] Hosting environment: Development
2024-09-20 14:17:50.402 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 14:17:50.403 +07:00 [DBG] Hosting started
2024-09-20 14:17:50.705 +07:00 [DBG] Connection id "0HN6P8HB38V95" received FIN.
2024-09-20 14:17:50.705 +07:00 [DBG] Connection id "0HN6P8HB38V96" received FIN.
2024-09-20 14:17:50.708 +07:00 [DBG] Connection id "0HN6P8HB38V95" accepted.
2024-09-20 14:17:50.708 +07:00 [DBG] Connection id "0HN6P8HB38V96" accepted.
2024-09-20 14:17:50.710 +07:00 [DBG] Connection id "0HN6P8HB38V96" started.
2024-09-20 14:17:50.710 +07:00 [DBG] Connection id "0HN6P8HB38V95" started.
2024-09-20 14:17:50.726 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:17:50.726 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:17:50.761 +07:00 [DBG] Connection id "0HN6P8HB38V96" stopped.
2024-09-20 14:17:50.761 +07:00 [DBG] Connection id "0HN6P8HB38V95" stopped.
2024-09-20 14:17:50.763 +07:00 [DBG] Connection id "0HN6P8HB38V95" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:17:50.763 +07:00 [DBG] Connection id "0HN6P8HB38V96" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:17:50.780 +07:00 [DBG] Connection id "0HN6P8HB38V97" accepted.
2024-09-20 14:17:50.780 +07:00 [DBG] Connection id "0HN6P8HB38V97" started.
2024-09-20 14:17:50.823 +07:00 [DBG] Connection 0HN6P8HB38V97 established using the following protocol: "Tls12"
2024-09-20 14:17:50.893 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 14:17:50.924 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 14:17:51.123 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 14:17:51.235 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 14:17:51.241 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 350.7371ms
2024-09-20 14:17:51.246 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 14:17:51.246 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 14:17:51.257 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 12.4017ms
2024-09-20 14:17:51.270 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.0969ms
2024-09-20 14:17:51.297 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 14:17:51.438 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.4512ms
2024-09-20 14:17:56.535 +07:00 [DBG] Connection id "0HN6P8HB38V98" accepted.
2024-09-20 14:17:56.536 +07:00 [DBG] Connection id "0HN6P8HB38V98" received FIN.
2024-09-20 14:17:56.538 +07:00 [DBG] Connection id "0HN6P8HB38V98" started.
2024-09-20 14:17:56.539 +07:00 [DBG] Connection id "0HN6P8HB38V99" accepted.
2024-09-20 14:17:56.540 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:17:56.540 +07:00 [DBG] Connection id "0HN6P8HB38V99" started.
2024-09-20 14:17:56.542 +07:00 [DBG] Connection id "0HN6P8HB38V98" stopped.
2024-09-20 14:17:56.542 +07:00 [DBG] Connection id "0HN6P8HB38V98" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:17:56.551 +07:00 [DBG] Connection 0HN6P8HB38V99 established using the following protocol: "Tls12"
2024-09-20 14:17:56.568 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - -
2024-09-20 14:17:56.570 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:17:56.586 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:17:56.591 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:17:56.592 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:17:56.595 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:17:56.624 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 14:17:56.626 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:17:56.627 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:17:56.628 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:17:56.629 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:17:56.629 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:17:56.630 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:17:56.726 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 14:17:56.832 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:17:56.840 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:17:56.842 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 14:17:56.843 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:17:56.843 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:17:56.844 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:17:56.846 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:17:56.847 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:17:56.848 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 14:17:56.848 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:17:56.849 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:17:56.849 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:17:56.850 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:17:57.449 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:17:57.486 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-20 14:17:57.678 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 14:17:57.720 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:17:57.763 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2024-09-20 14:17:57.774 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:17:57.790 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:17:57.803 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:17:57.822 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:17:57.831 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:17:57.837 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:17:57.841 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:17:57.847 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-20 14:17:57.874 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 14:17:57.881 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:17:57.881 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:17:57.882 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:17:57.882 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:17:57.883 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:17:57.884 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:17:57.895 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:17:57.913 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:17:57.914 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:17:57.914 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:17:57.969 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 1335.8146ms
2024-09-20 14:17:57.971 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:17:57.972 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
List`1 -> PointOfInterestDto
System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> CityInfo.API.Models.PointOfInterestDto
   at lambda_method59(Closure , Object , PointOfInterestDto , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointsofinterestId) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 58
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 14:17:57.988 +07:00 [DBG] Connection id "0HN6P8HB38V99" completed keep alive response.
2024-09-20 14:17:57.993 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:17:57.998 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - - - 500 - text/plain;+charset=utf-8 1429.7390ms
2024-09-20 14:18:01.706 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/2 - -
2024-09-20 14:18:01.706 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:18:01.707 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/2'
2024-09-20 14:18:01.707 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/2'
2024-09-20 14:18:01.708 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:18:01.709 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:18:01.709 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 14:18:01.710 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:18:01.711 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:18:01.713 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:18:01.715 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:18:01.716 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:18:01.716 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:18:01.722 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:18:01.723 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:18:01.723 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 14:18:01.724 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:18:01.724 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:18:01.725 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:18:01.725 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:18:01.726 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:18:01.726 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 14:18:01.727 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:18:01.727 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:18:01.728 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:18:01.728 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:18:01.730 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:18:01.742 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:18:01.743 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:18:01.744 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:18:01.745 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:18:01.746 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:18:01.747 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:18:01.748 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:18:01.748 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:18:01.749 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:18:01.749 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:18:01.750 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:18:01.750 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:18:01.751 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:18:01.751 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:18:01.752 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:18:01.753 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:18:01.753 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:18:01.753 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:18:01.772 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 56.0218ms
2024-09-20 14:18:01.773 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:18:01.774 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
List`1 -> PointOfInterestDto
System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> CityInfo.API.Models.PointOfInterestDto
   at lambda_method59(Closure , Object , PointOfInterestDto , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointsofinterestId) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 58
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 14:18:01.778 +07:00 [DBG] Connection id "0HN6P8HB38V99" completed keep alive response.
2024-09-20 14:18:01.779 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:18:01.779 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/2 - - - 500 - text/plain;+charset=utf-8 73.4560ms
2024-09-20 14:18:11.835 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - -
2024-09-20 14:18:11.836 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:18:11.836 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:18:11.837 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:18:11.837 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:18:11.838 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:18:11.838 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 14:18:11.839 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:18:11.839 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:18:11.840 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:18:11.840 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:18:11.841 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:18:11.842 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:18:11.844 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:18:11.844 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:18:11.845 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 14:18:11.847 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:18:11.848 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:18:11.849 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:18:11.850 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:18:11.850 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:18:11.850 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 14:18:11.851 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:18:11.851 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:18:11.852 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:18:11.852 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:18:11.888 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:18:11.889 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:18:11.890 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:18:11.890 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:18:11.890 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:18:11.891 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:18:11.892 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:18:11.892 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:18:11.893 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:18:11.893 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:18:11.893 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:18:11.894 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:18:11.895 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:18:11.895 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:18:11.896 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:18:11.897 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:18:11.897 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:18:11.898 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:18:11.898 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:18:11.899 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:18:11.916 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 73.9592ms
2024-09-20 14:18:11.917 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:18:11.917 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
List`1 -> PointOfInterestDto
System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> CityInfo.API.Models.PointOfInterestDto
   at lambda_method59(Closure , Object , PointOfInterestDto , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointsofinterestId) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 58
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 14:18:11.924 +07:00 [DBG] Connection id "0HN6P8HB38V99" completed keep alive response.
2024-09-20 14:18:11.924 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:18:11.924 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - - - 500 - text/plain;+charset=utf-8 89.5696ms
2024-09-20 14:20:30.690 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 14:20:30.827 +07:00 [DBG] Hosting starting
2024-09-20 14:20:30.981 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 14:20:31.003 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 14:20:31.003 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 14:20:31.004 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 14:20:31.005 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 14:20:31.005 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 14:20:31.006 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 14:20:31.007 +07:00 [INF] Hosting environment: Development
2024-09-20 14:20:31.007 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 14:20:31.007 +07:00 [DBG] Hosting started
2024-09-20 14:20:31.451 +07:00 [DBG] Connection id "0HN6P8IR08PVQ" received FIN.
2024-09-20 14:20:31.451 +07:00 [DBG] Connection id "0HN6P8IR08PVR" received FIN.
2024-09-20 14:20:31.461 +07:00 [DBG] Connection id "0HN6P8IR08PVQ" accepted.
2024-09-20 14:20:31.461 +07:00 [DBG] Connection id "0HN6P8IR08PVR" accepted.
2024-09-20 14:20:31.463 +07:00 [DBG] Connection id "0HN6P8IR08PVQ" started.
2024-09-20 14:20:31.463 +07:00 [DBG] Connection id "0HN6P8IR08PVR" started.
2024-09-20 14:20:31.481 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:20:31.481 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:20:31.506 +07:00 [DBG] Connection id "0HN6P8IR08PVQ" stopped.
2024-09-20 14:20:31.506 +07:00 [DBG] Connection id "0HN6P8IR08PVR" stopped.
2024-09-20 14:20:31.514 +07:00 [DBG] Connection id "0HN6P8IR08PVQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:20:31.514 +07:00 [DBG] Connection id "0HN6P8IR08PVR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:20:31.591 +07:00 [DBG] Connection id "0HN6P8IR08PVS" accepted.
2024-09-20 14:20:31.592 +07:00 [DBG] Connection id "0HN6P8IR08PVS" started.
2024-09-20 14:20:31.630 +07:00 [DBG] Connection 0HN6P8IR08PVS established using the following protocol: "Tls12"
2024-09-20 14:20:31.699 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 14:20:31.735 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 14:20:31.928 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 14:20:32.036 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 14:20:32.046 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 350.9165ms
2024-09-20 14:20:32.094 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 14:20:32.094 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 14:20:32.102 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 8.8156ms
2024-09-20 14:20:32.118 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.1115ms
2024-09-20 14:20:32.142 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 14:20:32.284 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.3056ms
2024-09-20 14:20:33.666 +07:00 [DBG] Connection id "0HN6P8IR08PVT" accepted.
2024-09-20 14:20:33.667 +07:00 [DBG] Connection id "0HN6P8IR08PVT" received FIN.
2024-09-20 14:20:33.668 +07:00 [DBG] Connection id "0HN6P8IR08PVT" started.
2024-09-20 14:20:33.669 +07:00 [DBG] Connection id "0HN6P8IR08PVU" accepted.
2024-09-20 14:20:33.671 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:20:33.672 +07:00 [DBG] Connection id "0HN6P8IR08PVU" started.
2024-09-20 14:20:33.676 +07:00 [DBG] Connection id "0HN6P8IR08PVT" stopped.
2024-09-20 14:20:33.679 +07:00 [DBG] Connection id "0HN6P8IR08PVT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:20:33.682 +07:00 [DBG] Connection 0HN6P8IR08PVU established using the following protocol: "Tls12"
2024-09-20 14:20:33.690 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - -
2024-09-20 14:20:33.692 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:20:33.709 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:20:33.714 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:20:33.715 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:20:33.716 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:20:33.746 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 14:20:33.748 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:20:33.748 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:20:33.749 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:20:33.750 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:20:33.750 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:20:33.751 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:20:33.850 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 14:20:34.013 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:20:34.021 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:20:34.024 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 14:20:34.025 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:20:34.025 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:20:34.026 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:20:34.027 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:20:34.029 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:20:34.029 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 14:20:34.029 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:20:34.030 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:20:34.030 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:20:34.031 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:20:34.732 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:20:34.770 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-20 14:20:34.974 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 14:20:35.016 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:20:35.059 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (38ms).
2024-09-20 14:20:35.070 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:20:35.086 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:20:35.098 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:20:35.117 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:20:35.126 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:20:35.131 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:20:35.135 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:20:35.141 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-20 14:20:35.168 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 14:20:35.175 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:20:35.176 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:20:35.176 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:20:35.176 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:20:35.177 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:20:35.178 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:20:35.190 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:20:35.209 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:20:35.209 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:20:35.210 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:20:35.268 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 1513.7175ms
2024-09-20 14:20:35.270 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:20:35.271 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
List`1 -> PointOfInterestDto
System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> CityInfo.API.Models.PointOfInterestDto
   at lambda_method59(Closure , Object , PointOfInterestDto , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointsofinterestId) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 58
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 14:20:35.297 +07:00 [DBG] Connection id "0HN6P8IR08PVU" completed keep alive response.
2024-09-20 14:20:35.300 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:20:35.303 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - - - 500 - text/plain;+charset=utf-8 1612.6691ms
2024-09-20 14:21:30.879 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 14:21:30.963 +07:00 [DBG] Hosting starting
2024-09-20 14:21:31.083 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 14:21:31.106 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 14:21:31.106 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 14:21:31.106 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 14:21:31.107 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 14:21:31.107 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 14:21:31.108 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 14:21:31.108 +07:00 [INF] Hosting environment: Development
2024-09-20 14:21:31.109 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 14:21:31.109 +07:00 [DBG] Hosting started
2024-09-20 14:21:31.555 +07:00 [DBG] Connection id "0HN6P8JCTEQDN" received FIN.
2024-09-20 14:21:31.555 +07:00 [DBG] Connection id "0HN6P8JCTEQDM" received FIN.
2024-09-20 14:21:31.557 +07:00 [DBG] Connection id "0HN6P8JCTEQDM" accepted.
2024-09-20 14:21:31.557 +07:00 [DBG] Connection id "0HN6P8JCTEQDN" accepted.
2024-09-20 14:21:31.559 +07:00 [DBG] Connection id "0HN6P8JCTEQDM" started.
2024-09-20 14:21:31.559 +07:00 [DBG] Connection id "0HN6P8JCTEQDN" started.
2024-09-20 14:21:31.574 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:21:31.574 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:21:31.601 +07:00 [DBG] Connection id "0HN6P8JCTEQDM" stopped.
2024-09-20 14:21:31.601 +07:00 [DBG] Connection id "0HN6P8JCTEQDN" stopped.
2024-09-20 14:21:31.603 +07:00 [DBG] Connection id "0HN6P8JCTEQDN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:21:31.603 +07:00 [DBG] Connection id "0HN6P8JCTEQDM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:21:31.721 +07:00 [DBG] Connection id "0HN6P8JCTEQDO" accepted.
2024-09-20 14:21:31.722 +07:00 [DBG] Connection id "0HN6P8JCTEQDO" started.
2024-09-20 14:21:31.766 +07:00 [DBG] Connection 0HN6P8JCTEQDO established using the following protocol: "Tls12"
2024-09-20 14:21:31.832 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 14:21:31.872 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 14:21:32.073 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 14:21:32.175 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 14:21:32.184 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 14:21:32.184 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 14:21:32.184 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 356.0233ms
2024-09-20 14:21:32.202 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 17.7197ms
2024-09-20 14:21:32.217 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.3818ms
2024-09-20 14:21:32.248 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 14:21:32.399 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 150.7144ms
2024-09-20 14:21:36.303 +07:00 [DBG] Connection id "0HN6P8JCTEQDP" accepted.
2024-09-20 14:21:36.304 +07:00 [DBG] Connection id "0HN6P8JCTEQDP" received FIN.
2024-09-20 14:21:36.306 +07:00 [DBG] Connection id "0HN6P8JCTEQDP" started.
2024-09-20 14:21:36.308 +07:00 [DBG] Connection id "0HN6P8JCTEQDQ" accepted.
2024-09-20 14:21:36.314 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:21:36.315 +07:00 [DBG] Connection id "0HN6P8JCTEQDQ" started.
2024-09-20 14:21:36.317 +07:00 [DBG] Connection id "0HN6P8JCTEQDP" stopped.
2024-09-20 14:21:36.317 +07:00 [DBG] Connection id "0HN6P8JCTEQDP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:21:36.320 +07:00 [DBG] Connection 0HN6P8JCTEQDQ established using the following protocol: "Tls12"
2024-09-20 14:21:36.328 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1?includePointOfInterest=true - -
2024-09-20 14:21:36.330 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:21:36.347 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-20 14:21:36.352 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-20 14:21:36.353 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 14:21:36.355 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 14:21:36.386 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 14:21:36.387 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:21:36.388 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:21:36.389 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:21:36.389 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:21:36.390 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:21:36.391 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 14:21:36.499 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 14:21:36.610 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 14:21:36.623 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-20 14:21:36.624 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-20 14:21:36.626 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 14:21:36.626 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 14:21:36.627 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-20 14:21:36.629 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-20 14:21:36.631 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 14:21:36.632 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name 'includePointOfInterest' in request data ...
2024-09-20 14:21:36.632 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 14:21:36.633 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 14:21:36.633 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 14:21:36.634 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 14:21:37.245 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:21:37.325 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointOfInterests)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-20 14:21:37.400 +07:00 [DBG] Including navigation: 'City.PointOfInterests'.
2024-09-20 14:21:37.641 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required, 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 14:21:37.683 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:21:37.732 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (45ms).
2024-09-20 14:21:37.742 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:21:37.755 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:21:37.767 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2024-09-20 14:21:37.801 +07:00 [INF] Executed DbCommand (37ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterests" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2024-09-20 14:21:37.817 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:21:37.842 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:21:37.860 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:21:37.866 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:21:37.870 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:21:37.884 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 14:21:37.888 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 14:21:37.889 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 14:21:37.889 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 14:21:37.891 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 14:21:37.894 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2024-09-20 14:21:38.018 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1623.7709ms
2024-09-20 14:21:38.020 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 14:21:38.020 +07:00 [DBG] Connection id "0HN6P8JCTEQDQ" completed keep alive response.
2024-09-20 14:21:38.025 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:21:38.032 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1?includePointOfInterest=true - - - 200 205 application/json;+charset=utf-8 1703.5244ms
2024-09-20 14:21:40.880 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities - -
2024-09-20 14:21:40.880 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:21:40.881 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-20 14:21:40.882 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-20 14:21:40.883 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 14:21:40.883 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 14:21:40.886 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 14:21:40.887 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:21:40.887 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:21:40.887 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:21:40.888 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:21:40.889 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:21:40.890 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 14:21:40.898 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 14:21:40.902 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:21:40.911 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-09-20 14:21:40.916 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 14:21:40.917 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:21:40.917 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:21:40.917 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:21:40.918 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:21:40.918 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-20 14:21:40.919 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-20 14:21:40.920 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:21:40.921 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:21:40.921 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:21:40.921 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:21:40.922 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:21:40.922 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:21:40.928 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 14:21:40.930 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 14:21:40.930 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 14:21:40.930 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 14:21:40.931 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 14:21:40.931 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 14:21:40.933 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 43.1896ms
2024-09-20 14:21:40.933 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 14:21:40.934 +07:00 [DBG] Connection id "0HN6P8JCTEQDQ" completed keep alive response.
2024-09-20 14:21:40.934 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:21:40.934 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities - - - 200 230 application/json;+charset=utf-8 54.9104ms
2024-09-20 14:21:43.490 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest - -
2024-09-20 14:21:43.491 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:21:43.492 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2024-09-20 14:21:43.494 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2024-09-20 14:21:43.497 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:21:43.498 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:21:43.501 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 14:21:43.502 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:21:43.503 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:21:43.504 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:21:43.504 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:21:43.505 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:21:43.505 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:21:43.507 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:21:43.508 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:21:43.508 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 14:21:43.509 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:21:43.510 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:21:43.511 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:21:43.512 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:21:43.554 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:21:43.556 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-20 14:21:43.562 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 14:21:43.569 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:21:43.570 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:21:43.570 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:21:43.571 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:21:43.571 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:21:43.572 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:21:43.573 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:21:43.573 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:21:43.574 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:21:43.575 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(c => c.Id == __cityId_0)'
2024-09-20 14:21:43.579 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.Id == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 14:21:43.580 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:21:43.580 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:21:43.580 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:21:43.581 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:21:43.582 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 14:21:43.582 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 14:21:43.583 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:21:43.584 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:21:43.584 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:21:43.585 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:21:43.588 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 14:21:43.589 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 14:21:43.589 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 14:21:43.589 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 14:21:43.589 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 14:21:43.590 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 14:21:43.590 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 85.1049ms
2024-09-20 14:21:43.591 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:21:43.591 +07:00 [DBG] Connection id "0HN6P8JCTEQDQ" completed keep alive response.
2024-09-20 14:21:43.592 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:21:43.592 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest - - - 200 83 application/json;+charset=utf-8 102.1818ms
2024-09-20 14:21:46.768 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - -
2024-09-20 14:21:46.768 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:21:46.769 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:21:46.769 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:21:46.770 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:21:46.770 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:21:46.772 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 14:21:46.773 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:21:46.773 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:21:46.774 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:21:46.774 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:21:46.775 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:21:46.775 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:21:46.776 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:21:46.778 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:21:46.779 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 14:21:46.779 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:21:46.781 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:21:46.782 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:21:46.782 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:21:46.783 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:21:46.783 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 14:21:46.784 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:21:46.784 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:21:46.785 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:21:46.785 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:21:46.786 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:21:46.789 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:21:46.789 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:21:46.790 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:21:46.790 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:21:46.790 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:21:46.791 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:21:46.792 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:21:46.792 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:21:46.793 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:21:46.795 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-20 14:21:46.798 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 14:21:46.799 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:21:46.800 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:21:46.800 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:21:46.800 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:21:46.801 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:21:46.802 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:21:46.802 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:21:46.803 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:21:46.803 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:21:46.804 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:21:46.854 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 79.1217ms
2024-09-20 14:21:46.856 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:21:46.857 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
List`1 -> PointOfInterestDto
System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> CityInfo.API.Models.PointOfInterestDto
   at lambda_method136(Closure , Object , PointOfInterestDto , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointsofinterestId) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 58
   at lambda_method129(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 14:21:46.873 +07:00 [DBG] Connection id "0HN6P8JCTEQDQ" completed keep alive response.
2024-09-20 14:21:46.874 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:21:46.874 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - - - 500 - text/plain;+charset=utf-8 106.4611ms
2024-09-20 14:22:32.782 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 14:22:32.886 +07:00 [DBG] Hosting starting
2024-09-20 14:22:32.990 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 14:22:33.016 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 14:22:33.017 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 14:22:33.018 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 14:22:33.018 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 14:22:33.019 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 14:22:33.020 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 14:22:33.021 +07:00 [INF] Hosting environment: Development
2024-09-20 14:22:33.021 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 14:22:33.022 +07:00 [DBG] Hosting started
2024-09-20 14:22:33.501 +07:00 [DBG] Connection id "0HN6P8JVC7G3T" received FIN.
2024-09-20 14:22:33.501 +07:00 [DBG] Connection id "0HN6P8JVC7G3S" received FIN.
2024-09-20 14:22:33.519 +07:00 [DBG] Connection id "0HN6P8JVC7G3S" accepted.
2024-09-20 14:22:33.519 +07:00 [DBG] Connection id "0HN6P8JVC7G3T" accepted.
2024-09-20 14:22:33.521 +07:00 [DBG] Connection id "0HN6P8JVC7G3T" started.
2024-09-20 14:22:33.521 +07:00 [DBG] Connection id "0HN6P8JVC7G3S" started.
2024-09-20 14:22:33.536 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:22:33.536 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:22:33.559 +07:00 [DBG] Connection id "0HN6P8JVC7G3T" stopped.
2024-09-20 14:22:33.559 +07:00 [DBG] Connection id "0HN6P8JVC7G3S" stopped.
2024-09-20 14:22:33.561 +07:00 [DBG] Connection id "0HN6P8JVC7G3T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:22:33.561 +07:00 [DBG] Connection id "0HN6P8JVC7G3S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:22:33.785 +07:00 [DBG] Connection id "0HN6P8JVC7G3U" accepted.
2024-09-20 14:22:33.786 +07:00 [DBG] Connection id "0HN6P8JVC7G3U" started.
2024-09-20 14:22:33.825 +07:00 [DBG] Connection 0HN6P8JVC7G3U established using the following protocol: "Tls12"
2024-09-20 14:22:33.888 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 14:22:33.962 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 14:22:34.160 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 14:22:34.255 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 14:22:34.260 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 374.2420ms
2024-09-20 14:22:34.262 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 14:22:34.262 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 14:22:34.276 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 14.8133ms
2024-09-20 14:22:34.291 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.6691ms
2024-09-20 14:22:34.326 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 14:22:34.478 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 151.8372ms
2024-09-20 14:22:35.725 +07:00 [DBG] Connection id "0HN6P8JVC7G3V" accepted.
2024-09-20 14:22:35.726 +07:00 [DBG] Connection id "0HN6P8JVC7G3V" received FIN.
2024-09-20 14:22:35.727 +07:00 [DBG] Connection id "0HN6P8JVC7G3V" started.
2024-09-20 14:22:35.728 +07:00 [DBG] Connection id "0HN6P8JVC7G40" accepted.
2024-09-20 14:22:35.729 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:22:35.730 +07:00 [DBG] Connection id "0HN6P8JVC7G40" started.
2024-09-20 14:22:35.734 +07:00 [DBG] Connection id "0HN6P8JVC7G3V" stopped.
2024-09-20 14:22:35.735 +07:00 [DBG] Connection id "0HN6P8JVC7G3V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:22:35.738 +07:00 [DBG] Connection 0HN6P8JVC7G40 established using the following protocol: "Tls12"
2024-09-20 14:22:35.746 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - -
2024-09-20 14:22:35.749 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:22:35.766 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:22:35.773 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:22:35.774 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:22:35.776 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:22:35.808 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 14:22:35.809 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:22:35.810 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:22:35.810 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:22:35.811 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:22:35.811 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:22:35.812 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:22:35.914 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 14:22:36.018 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:22:36.027 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:22:36.028 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 14:22:36.029 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:22:36.030 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:22:36.030 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:22:36.032 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:22:36.034 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:22:36.035 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 14:22:36.035 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:22:36.036 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:22:36.036 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:22:36.037 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:22:36.652 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:22:36.690 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-20 14:22:36.890 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 14:22:36.931 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:22:36.974 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (39ms).
2024-09-20 14:22:36.987 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:22:36.999 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:22:37.013 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:22:37.033 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:22:37.041 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:22:37.048 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:22:37.052 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:22:54.783 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-20 14:22:54.811 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 14:22:54.820 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:22:54.820 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:22:54.821 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:22:54.821 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:22:54.821 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:22:54.822 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:22:54.834 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:22:54.853 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:22:54.853 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:22:54.853 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:22:58.844 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 23026.8081ms
2024-09-20 14:22:58.847 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:22:58.850 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
List`1 -> PointOfInterestDto
System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> CityInfo.API.Models.PointOfInterestDto
   at lambda_method59(Closure , Object , PointOfInterestDto , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointsofinterestId) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 58
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 14:22:58.865 +07:00 [DBG] Connection id "0HN6P8JVC7G40" completed keep alive response.
2024-09-20 14:22:58.869 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:22:58.872 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - - - 500 - text/plain;+charset=utf-8 23124.4373ms
2024-09-20 14:49:18.285 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 14:49:18.385 +07:00 [DBG] Hosting starting
2024-09-20 14:49:18.519 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 14:49:18.544 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 14:49:18.545 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 14:49:18.548 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 14:49:18.549 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 14:49:18.550 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 14:49:18.550 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 14:49:18.551 +07:00 [INF] Hosting environment: Development
2024-09-20 14:49:18.552 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 14:49:18.552 +07:00 [DBG] Hosting started
2024-09-20 14:49:18.977 +07:00 [DBG] Connection id "0HN6P92TR66FS" accepted.
2024-09-20 14:49:18.977 +07:00 [DBG] Connection id "0HN6P92TR66FT" accepted.
2024-09-20 14:49:18.978 +07:00 [DBG] Connection id "0HN6P92TR66FS" received FIN.
2024-09-20 14:49:18.978 +07:00 [DBG] Connection id "0HN6P92TR66FT" received FIN.
2024-09-20 14:49:18.978 +07:00 [DBG] Connection id "0HN6P92TR66FS" started.
2024-09-20 14:49:18.978 +07:00 [DBG] Connection id "0HN6P92TR66FT" started.
2024-09-20 14:49:19.005 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:49:19.005 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:49:19.036 +07:00 [DBG] Connection id "0HN6P92TR66FT" stopped.
2024-09-20 14:49:19.036 +07:00 [DBG] Connection id "0HN6P92TR66FS" stopped.
2024-09-20 14:49:19.038 +07:00 [DBG] Connection id "0HN6P92TR66FT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:49:19.038 +07:00 [DBG] Connection id "0HN6P92TR66FS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:49:19.103 +07:00 [DBG] Connection id "0HN6P92TR66FU" accepted.
2024-09-20 14:49:19.104 +07:00 [DBG] Connection id "0HN6P92TR66FU" started.
2024-09-20 14:49:19.179 +07:00 [DBG] Connection 0HN6P92TR66FU established using the following protocol: "Tls12"
2024-09-20 14:49:19.234 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 14:49:19.276 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 14:49:19.462 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 14:49:19.575 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 14:49:19.584 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 354.8917ms
2024-09-20 14:49:19.588 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 14:49:19.588 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 14:49:19.603 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 14.9786ms
2024-09-20 14:49:19.618 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.9738ms
2024-09-20 14:49:19.643 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 14:49:19.784 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.5647ms
2024-09-20 14:49:21.672 +07:00 [DBG] Connection id "0HN6P92TR66FV" accepted.
2024-09-20 14:49:21.672 +07:00 [DBG] Connection id "0HN6P92TR66FV" received FIN.
2024-09-20 14:49:21.674 +07:00 [DBG] Connection id "0HN6P92TR66FV" started.
2024-09-20 14:49:21.675 +07:00 [DBG] Connection id "0HN6P92TR66G0" accepted.
2024-09-20 14:49:21.681 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:49:21.682 +07:00 [DBG] Connection id "0HN6P92TR66G0" started.
2024-09-20 14:49:21.686 +07:00 [DBG] Connection id "0HN6P92TR66FV" stopped.
2024-09-20 14:49:21.687 +07:00 [DBG] Connection id "0HN6P92TR66FV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:49:21.689 +07:00 [DBG] Connection 0HN6P92TR66G0 established using the following protocol: "Tls12"
2024-09-20 14:49:21.697 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/7/pointsofinterest/1 - -
2024-09-20 14:49:21.699 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:49:21.715 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/7/pointsofinterest/1'
2024-09-20 14:49:21.720 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/7/pointsofinterest/1'
2024-09-20 14:49:21.721 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:49:21.723 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:49:21.760 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 14:49:21.762 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:49:21.762 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:49:21.763 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:49:21.765 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:49:21.766 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:49:21.767 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:49:21.866 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 14:49:21.973 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:49:21.984 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:49:21.986 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 14:49:21.987 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:49:21.987 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:49:21.988 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:49:21.989 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:49:21.991 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:49:21.991 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 14:49:21.992 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:49:21.992 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:49:21.992 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:49:21.993 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:49:22.589 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:49:22.627 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-20 14:49:22.825 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 14:49:22.869 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:49:22.913 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (41ms).
2024-09-20 14:49:22.924 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:49:22.938 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:49:22.951 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:49:22.972 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:49:22.981 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:49:22.988 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:49:22.992 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:49:22.993 +07:00 [INF] logger infomation GetPointOfInterest 7
2024-09-20 14:49:22.999 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 14:49:23.003 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 14:49:23.004 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-20 14:49:23.005 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-20 14:49:23.006 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-20 14:49:23.112 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 1342.0088ms
2024-09-20 14:49:23.114 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:49:23.115 +07:00 [DBG] Connection id "0HN6P92TR66G0" completed keep alive response.
2024-09-20 14:49:23.119 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:49:23.121 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/7/pointsofinterest/1 - - - 404 161 application/problem+json;+charset=utf-8 1424.3664ms
2024-09-20 14:49:27.829 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - -
2024-09-20 14:49:27.831 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:49:27.833 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:49:27.835 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:49:27.836 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:49:27.837 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:49:27.837 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 14:49:27.838 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:49:27.838 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:49:27.839 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:49:27.840 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:49:27.840 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:49:27.841 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:49:27.847 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:49:27.848 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:49:27.849 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 14:49:27.850 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:49:27.851 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:49:27.851 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:49:27.851 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:49:27.852 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:49:27.852 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 14:49:27.853 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:49:27.853 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:49:27.854 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:49:27.854 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:49:27.855 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:49:27.859 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:49:27.859 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:49:27.860 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:49:27.860 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:49:27.860 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:49:27.861 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:49:27.862 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:49:27.862 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:49:27.863 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:49:50.740 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-20 14:49:50.766 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 14:49:50.773 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:49:50.773 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:49:50.774 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:49:50.774 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:49:50.775 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:49:50.776 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:49:50.787 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:49:50.804 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:49:50.805 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:49:50.805 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:50:54.236 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:50:54.237 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-20 14:50:54.238 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:50:54.239 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:50:54.240 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:50:54.241 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:50:54.242 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:50:54.242 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:50:54.243 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:51:49.729 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 141880.5175ms
2024-09-20 14:51:49.732 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:51:49.734 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
List`1 -> PointOfInterestDto
System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> CityInfo.API.Models.PointOfInterestDto
   at lambda_method64(Closure , Object , PointOfInterestDto , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointsofinterestId) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 59
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 14:51:49.749 +07:00 [DBG] Connection id "0HN6P92TR66G0" completed keep alive response.
2024-09-20 14:51:49.749 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:51:49.749 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - - - 500 - text/plain;+charset=utf-8 141912.3759ms
2024-09-20 14:53:58.072 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 14:53:58.188 +07:00 [DBG] Hosting starting
2024-09-20 14:53:58.326 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 14:53:58.354 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 14:53:58.355 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 14:53:58.355 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 14:53:58.356 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 14:53:58.356 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 14:53:58.357 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 14:53:58.358 +07:00 [INF] Hosting environment: Development
2024-09-20 14:53:58.358 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 14:53:58.358 +07:00 [DBG] Hosting started
2024-09-20 14:53:58.801 +07:00 [DBG] Connection id "0HN6P95H7Q803" received FIN.
2024-09-20 14:53:58.801 +07:00 [DBG] Connection id "0HN6P95H7Q804" received FIN.
2024-09-20 14:53:58.803 +07:00 [DBG] Connection id "0HN6P95H7Q803" accepted.
2024-09-20 14:53:58.803 +07:00 [DBG] Connection id "0HN6P95H7Q804" accepted.
2024-09-20 14:53:58.806 +07:00 [DBG] Connection id "0HN6P95H7Q803" started.
2024-09-20 14:53:58.806 +07:00 [DBG] Connection id "0HN6P95H7Q804" started.
2024-09-20 14:53:58.822 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:53:58.822 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:53:58.848 +07:00 [DBG] Connection id "0HN6P95H7Q803" stopped.
2024-09-20 14:53:58.848 +07:00 [DBG] Connection id "0HN6P95H7Q804" stopped.
2024-09-20 14:53:58.850 +07:00 [DBG] Connection id "0HN6P95H7Q804" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:53:58.850 +07:00 [DBG] Connection id "0HN6P95H7Q803" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:53:59.738 +07:00 [DBG] Connection id "0HN6P95H7Q805" accepted.
2024-09-20 14:53:59.742 +07:00 [DBG] Connection id "0HN6P95H7Q805" started.
2024-09-20 14:53:59.820 +07:00 [DBG] Connection 0HN6P95H7Q805 established using the following protocol: "Tls12"
2024-09-20 14:53:59.935 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 14:53:59.976 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 14:54:00.174 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 14:54:00.291 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 14:54:00.291 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 14:54:00.291 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 14:54:00.298 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 371.6816ms
2024-09-20 14:54:00.298 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 5.2474ms
2024-09-20 14:54:00.320 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.7479ms
2024-09-20 14:54:00.352 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 14:54:00.499 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 146.3670ms
2024-09-20 14:54:02.254 +07:00 [DBG] Connection id "0HN6P95H7Q806" accepted.
2024-09-20 14:54:02.254 +07:00 [DBG] Connection id "0HN6P95H7Q806" received FIN.
2024-09-20 14:54:02.256 +07:00 [DBG] Connection id "0HN6P95H7Q806" started.
2024-09-20 14:54:02.256 +07:00 [DBG] Connection id "0HN6P95H7Q807" accepted.
2024-09-20 14:54:02.258 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:54:02.258 +07:00 [DBG] Connection id "0HN6P95H7Q807" started.
2024-09-20 14:54:02.259 +07:00 [DBG] Connection id "0HN6P95H7Q806" stopped.
2024-09-20 14:54:02.260 +07:00 [DBG] Connection id "0HN6P95H7Q806" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:54:02.264 +07:00 [DBG] Connection 0HN6P95H7Q807 established using the following protocol: "Tls12"
2024-09-20 14:54:02.274 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - -
2024-09-20 14:54:02.275 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:54:02.293 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:54:02.299 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:54:02.300 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:54:02.302 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:54:02.321 +07:00 [DBG] Connection id "0HN6P95H7Q807" received FIN.
2024-09-20 14:54:02.322 +07:00 [DBG] Connection id "0HN6P95H7Q807" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:54:02.323 +07:00 [DBG] Connection id "0HN6P95H7Q807" disconnecting.
2024-09-20 14:54:02.338 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 14:54:02.340 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:54:02.340 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:54:02.341 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:54:02.342 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:54:02.343 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:54:02.344 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:54:02.441 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 14:54:02.539 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:54:02.549 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:54:02.551 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 14:54:02.552 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:54:02.552 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:54:02.552 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:54:02.554 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:54:02.555 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:54:02.555 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 14:54:02.556 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:54:02.556 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:54:02.557 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:54:02.557 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:54:03.311 +07:00 [DBG] Connection id "0HN6P95H7Q808" accepted.
2024-09-20 14:54:03.311 +07:00 [DBG] Connection id "0HN6P95H7Q808" received FIN.
2024-09-20 14:54:03.312 +07:00 [DBG] Connection id "0HN6P95H7Q808" started.
2024-09-20 14:54:03.312 +07:00 [DBG] Connection id "0HN6P95H7Q809" accepted.
2024-09-20 14:54:03.314 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:54:03.314 +07:00 [DBG] Connection id "0HN6P95H7Q809" started.
2024-09-20 14:54:03.316 +07:00 [DBG] Connection id "0HN6P95H7Q808" stopped.
2024-09-20 14:54:03.316 +07:00 [DBG] Connection id "0HN6P95H7Q808" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:54:03.317 +07:00 [DBG] Connection 0HN6P95H7Q809 established using the following protocol: "Tls12"
2024-09-20 14:54:03.318 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - -
2024-09-20 14:54:03.318 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:54:03.318 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:54:03.318 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:54:03.319 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:54:03.320 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:54:03.320 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:54:03.321 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 14:54:03.322 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:54:03.323 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:54:03.324 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:54:03.324 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:54:03.325 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:54:03.325 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:54:03.332 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:54:03.333 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:54:03.333 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 14:54:03.334 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:54:03.334 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:54:03.334 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:54:03.335 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:54:03.335 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:54:03.336 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 14:54:03.336 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:54:03.337 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:54:03.337 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:54:03.338 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:54:03.345 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:54:03.366 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-20 14:54:03.562 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 14:54:03.605 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:54:03.605 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:54:03.649 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2024-09-20 14:54:03.649 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2024-09-20 14:54:03.660 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:54:03.660 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:54:03.672 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:54:03.682 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:54:03.686 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:54:03.686 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:54:03.706 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:54:03.706 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:54:03.716 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:54:03.716 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:54:03.722 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:54:03.722 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:54:03.726 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:54:03.726 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:54:07.542 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.Id == __pointOfInterestId_0)'
2024-09-20 14:54:07.569 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.Id == @__pointOfInterestId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 14:54:07.575 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:54:07.575 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:54:07.576 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:54:07.576 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:54:07.576 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:54:07.577 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:54:07.577 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:54:07.578 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:54:07.578 +07:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__pointOfInterestId_0
2024-09-20 14:54:07.578 +07:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__pointOfInterestId_0
2024-09-20 14:54:07.580 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__pointOfInterestId_0
2024-09-20 14:54:07.582 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__pointOfInterestId_0
2024-09-20 14:54:07.593 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:54:07.593 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:54:07.615 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:54:07.615 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:54:07.616 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:54:07.616 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:54:07.617 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:54:07.617 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:54:07.690 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 5340.6511ms
2024-09-20 14:54:07.690 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 4360.9254ms
2024-09-20 14:54:07.695 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:54:07.697 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:54:07.698 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
List`1 -> PointOfInterestDto
System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> CityInfo.API.Models.PointOfInterestDto
   at lambda_method83(Closure , Object , PointOfInterestDto , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointsofinterestId) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 59
   at CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointsofinterestId) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 14:54:07.706 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
List`1 -> PointOfInterestDto
System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> CityInfo.API.Models.PointOfInterestDto
   at lambda_method83(Closure , Object , PointOfInterestDto , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointsofinterestId) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 59
   at CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointsofinterestId) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 14:54:07.723 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:54:07.723 +07:00 [DBG] Connection id "0HN6P95H7Q809" completed keep alive response.
2024-09-20 14:54:07.724 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:54:07.726 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - - - 500 - text/plain;+charset=utf-8 4407.7330ms
2024-09-20 14:54:07.726 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - - - 500 - text/plain;+charset=utf-8 5451.5930ms
2024-09-20 14:54:07.727 +07:00 [DBG] Connection id "0HN6P95H7Q807" stopped.
2024-09-20 14:55:03.894 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 14:55:04.082 +07:00 [DBG] Hosting starting
2024-09-20 14:55:04.364 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 14:55:04.411 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 14:55:04.412 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 14:55:04.412 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 14:55:04.413 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 14:55:04.413 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 14:55:04.414 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 14:55:04.415 +07:00 [INF] Hosting environment: Development
2024-09-20 14:55:04.417 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 14:55:04.417 +07:00 [DBG] Hosting started
2024-09-20 14:55:04.420 +07:00 [DBG] Connection id "0HN6P964PKN7F" received FIN.
2024-09-20 14:55:04.428 +07:00 [DBG] Connection id "0HN6P964PKN7F" accepted.
2024-09-20 14:55:04.430 +07:00 [DBG] Connection id "0HN6P964PKN7F" started.
2024-09-20 14:55:04.446 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:55:04.476 +07:00 [DBG] Connection id "0HN6P964PKN7F" stopped.
2024-09-20 14:55:04.479 +07:00 [DBG] Connection id "0HN6P964PKN7F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:55:04.868 +07:00 [DBG] Connection id "0HN6P964PKN7G" accepted.
2024-09-20 14:55:04.874 +07:00 [DBG] Connection id "0HN6P964PKN7G" started.
2024-09-20 14:55:04.976 +07:00 [DBG] Connection 0HN6P964PKN7G established using the following protocol: "Tls12"
2024-09-20 14:55:05.069 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 14:55:05.126 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 14:55:05.355 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 14:55:05.480 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 14:55:05.480 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 14:55:05.486 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 14:55:05.492 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 11.3074ms
2024-09-20 14:55:05.493 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 428.9526ms
2024-09-20 14:55:05.509 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.1675ms
2024-09-20 14:55:05.545 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 14:55:05.724 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 179.3834ms
2024-09-20 14:55:08.988 +07:00 [DBG] Connection id "0HN6P964PKN7H" accepted.
2024-09-20 14:55:08.988 +07:00 [DBG] Connection id "0HN6P964PKN7H" received FIN.
2024-09-20 14:55:08.989 +07:00 [DBG] Connection id "0HN6P964PKN7H" started.
2024-09-20 14:55:08.989 +07:00 [DBG] Connection id "0HN6P964PKN7I" accepted.
2024-09-20 14:55:08.990 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 14:55:08.990 +07:00 [DBG] Connection id "0HN6P964PKN7I" started.
2024-09-20 14:55:08.991 +07:00 [DBG] Connection id "0HN6P964PKN7H" stopped.
2024-09-20 14:55:08.992 +07:00 [DBG] Connection id "0HN6P964PKN7H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 14:55:08.994 +07:00 [DBG] Connection 0HN6P964PKN7I established using the following protocol: "Tls12"
2024-09-20 14:55:09.003 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - -
2024-09-20 14:55:09.005 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 14:55:09.023 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:55:09.028 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 14:55:09.029 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:55:09.031 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:55:09.063 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 14:55:09.064 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 14:55:09.065 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 14:55:09.065 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 14:55:09.066 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 14:55:09.067 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 14:55:09.068 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:55:09.169 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 14:55:09.265 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 14:55:09.273 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:55:09.275 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 14:55:09.276 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:55:09.277 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:55:09.277 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 14:55:09.279 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 14:55:09.280 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:55:09.281 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 14:55:09.281 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:55:09.282 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:55:09.282 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 14:55:09.283 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 14:55:09.874 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 14:55:09.912 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-20 14:55:10.104 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 14:55:10.147 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:55:10.191 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (41ms).
2024-09-20 14:55:10.202 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:55:10.215 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:55:10.227 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:55:10.246 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 14:55:10.256 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:55:10.261 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:55:10.265 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:55:10.272 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-20 14:55:10.298 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 14:55:10.305 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 14:55:10.306 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 14:55:10.306 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:55:10.307 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:55:10.307 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:55:10.308 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 14:55:10.320 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 14:55:10.338 +07:00 [DBG] A data reader was disposed.
2024-09-20 14:55:10.338 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 14:55:10.339 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 14:55:10.356 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 14:55:10.359 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 14:55:10.359 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 14:55:10.360 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 14:55:10.360 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 14:55:10.361 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 14:55:10.459 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 1387.6569ms
2024-09-20 14:55:10.461 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 14:55:10.461 +07:00 [DBG] Connection id "0HN6P964PKN7I" completed keep alive response.
2024-09-20 14:55:10.464 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 14:55:10.467 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - - - 200 83 application/json;+charset=utf-8 1463.7405ms
2024-09-20 15:34:12.148 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 15:34:12.230 +07:00 [DBG] Hosting starting
2024-09-20 15:34:12.344 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 15:34:12.372 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 15:34:12.373 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 15:34:12.373 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 15:34:12.373 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 15:34:12.374 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 15:34:12.374 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 15:34:12.375 +07:00 [INF] Hosting environment: Development
2024-09-20 15:34:12.375 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 15:34:12.376 +07:00 [DBG] Hosting started
2024-09-20 15:34:12.865 +07:00 [DBG] Connection id "0HN6P9S0M573A" received FIN.
2024-09-20 15:34:12.865 +07:00 [DBG] Connection id "0HN6P9S0M573B" received FIN.
2024-09-20 15:34:12.874 +07:00 [DBG] Connection id "0HN6P9S0M573B" accepted.
2024-09-20 15:34:12.874 +07:00 [DBG] Connection id "0HN6P9S0M573A" accepted.
2024-09-20 15:34:12.876 +07:00 [DBG] Connection id "0HN6P9S0M573B" started.
2024-09-20 15:34:12.876 +07:00 [DBG] Connection id "0HN6P9S0M573A" started.
2024-09-20 15:34:12.890 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 15:34:12.890 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 15:34:12.914 +07:00 [DBG] Connection id "0HN6P9S0M573B" stopped.
2024-09-20 15:34:12.914 +07:00 [DBG] Connection id "0HN6P9S0M573A" stopped.
2024-09-20 15:34:12.916 +07:00 [DBG] Connection id "0HN6P9S0M573B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 15:34:12.916 +07:00 [DBG] Connection id "0HN6P9S0M573A" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 15:34:13.156 +07:00 [DBG] Connection id "0HN6P9S0M573C" accepted.
2024-09-20 15:34:13.165 +07:00 [DBG] Connection id "0HN6P9S0M573C" started.
2024-09-20 15:34:13.277 +07:00 [DBG] Connection 0HN6P9S0M573C established using the following protocol: "Tls12"
2024-09-20 15:34:13.369 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 15:34:13.425 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 15:34:13.623 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 15:34:13.724 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 15:34:13.731 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 367.7233ms
2024-09-20 15:34:13.734 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 15:34:13.734 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 15:34:13.749 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 15.1559ms
2024-09-20 15:34:13.766 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.2784ms
2024-09-20 15:34:13.791 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 15:34:13.932 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.7007ms
2024-09-20 15:34:19.390 +07:00 [DBG] Connection id "0HN6P9S0M573D" accepted.
2024-09-20 15:34:19.390 +07:00 [DBG] Connection id "0HN6P9S0M573D" received FIN.
2024-09-20 15:34:19.390 +07:00 [DBG] Connection id "0HN6P9S0M573D" started.
2024-09-20 15:34:19.391 +07:00 [DBG] Connection id "0HN6P9S0M573E" accepted.
2024-09-20 15:34:19.393 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 15:34:19.393 +07:00 [DBG] Connection id "0HN6P9S0M573E" started.
2024-09-20 15:34:19.394 +07:00 [DBG] Connection id "0HN6P9S0M573D" stopped.
2024-09-20 15:34:19.394 +07:00 [DBG] Connection id "0HN6P9S0M573D" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 15:34:19.397 +07:00 [DBG] Connection 0HN6P9S0M573E established using the following protocol: "Tls12"
2024-09-20 15:34:19.405 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7139/api/cities/3/pointsofinterest application/json 117
2024-09-20 15:34:19.407 +07:00 [DBG] POST requests are not supported
2024-09-20 15:34:19.423 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-09-20 15:34:19.428 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-09-20 15:34:19.429 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 15:34:19.431 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 15:34:19.461 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 15:34:19.463 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 15:34:19.464 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 15:34:19.464 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 15:34:19.465 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 15:34:19.465 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 15:34:19.466 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 15:34:19.564 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 15:34:19.673 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 15:34:19.681 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 15:34:19.683 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 15:34:19.686 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 15:34:19.687 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 15:34:19.688 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 15:34:19.690 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 15:34:19.692 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-09-20 15:34:19.693 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-09-20 15:34:19.694 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-20 15:34:19.695 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-20 15:34:19.708 +07:00 [DBG] Connection id "0HN6P9S0M573E", Request id "0HN6P9S0M573E:00000002": started reading request body.
2024-09-20 15:34:19.709 +07:00 [DBG] Connection id "0HN6P9S0M573E", Request id "0HN6P9S0M573E:00000002": done reading request body.
2024-09-20 15:34:19.796 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 15:34:19.797 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 15:34:19.797 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-09-20 15:34:19.805 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 15:34:40.026 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 15:36:13.166 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-20 15:36:13.352 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 15:36:13.393 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 15:36:13.435 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (39ms).
2024-09-20 15:36:13.446 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:36:13.458 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:36:13.469 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 15:36:13.490 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 15:36:13.500 +07:00 [DBG] A data reader was disposed.
2024-09-20 15:36:13.505 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:36:13.511 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:47:47.877 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-09-20 15:47:47.894 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-09-20 15:47:47.898 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-09-20 15:47:47.902 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 0 entities written to the database.
2024-09-20 15:47:48.500 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 15:47:48.506 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 15:47:48.506 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 15:47:48.506 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 15:47:48.507 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 15:47:48.508 +07:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-09-20 15:47:48.524 +07:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-09-20 15:47:48.531 +07:00 [DBG] Failed to process the template api/cities/{cityId}/pointsofinterest/{pointsofinterestId} for CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "GetPointOfInterest", "cityId": "3", "controller": "PointOfInterest" } and { "Id": "3", "pointOfInterestId": "0" } with default values { "action": "GetPointOfInterest", "controller": "PointOfInterest" }
2024-09-20 15:47:48.533 +07:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest for CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/3/pointsofinterest and ?Id=3&pointOfInterestId=0
2024-09-20 15:47:48.535 +07:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/3/pointsofinterest?Id=3&pointOfInterestId=0
2024-09-20 15:47:48.578 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 809073.729ms
2024-09-20 15:47:48.579 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 15:47:48.580 +07:00 [DBG] Connection id "0HN6P9S0M573E" completed keep alive response.
2024-09-20 15:47:48.583 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 15:47:48.586 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7139/api/cities/3/pointsofinterest application/json 117 - 201 111 application/json;+charset=utf-8 809146.0304ms
2024-09-20 15:48:20.530 +07:00 [DBG] Connection id "0HN6P9S0M573F" accepted.
2024-09-20 15:48:20.531 +07:00 [DBG] Connection id "0HN6P9S0M573F" started.
2024-09-20 15:48:20.535 +07:00 [DBG] Connection id "0HN6P9S0M573F" received FIN.
2024-09-20 15:48:20.535 +07:00 [DBG] Connection id "0HN6P9S0M573G" accepted.
2024-09-20 15:48:20.545 +07:00 [DBG] Connection id "0HN6P9S0M573G" started.
2024-09-20 15:48:20.545 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 15:48:20.547 +07:00 [DBG] Connection id "0HN6P9S0M573F" stopped.
2024-09-20 15:48:20.548 +07:00 [DBG] Connection id "0HN6P9S0M573F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 15:48:20.550 +07:00 [DBG] Connection 0HN6P9S0M573G established using the following protocol: "Tls12"
2024-09-20 15:48:20.552 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities - -
2024-09-20 15:48:20.552 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 15:48:20.553 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-20 15:48:20.554 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-20 15:48:20.556 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 15:48:20.558 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 15:48:20.561 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 15:48:20.562 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 15:48:20.563 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 15:48:20.563 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 15:48:20.564 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 15:48:20.564 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 15:48:20.565 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 15:48:20.571 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 15:48:20.580 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 15:48:20.587 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-09-20 15:48:20.616 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 15:48:20.623 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 15:48:20.624 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 15:48:20.625 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:48:20.625 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:48:20.625 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-20 15:48:20.626 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-20 15:48:20.639 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 15:48:20.657 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 15:48:20.657 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 15:48:20.658 +07:00 [DBG] A data reader was disposed.
2024-09-20 15:48:20.658 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:48:20.659 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:48:20.666 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 15:48:20.667 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 15:48:20.668 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 15:48:20.668 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 15:48:20.668 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 15:48:20.669 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 15:48:20.677 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 112.1328ms
2024-09-20 15:48:20.677 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 15:48:20.678 +07:00 [DBG] Connection id "0HN6P9S0M573G" completed keep alive response.
2024-09-20 15:48:20.678 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 15:48:20.679 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities - - - 200 230 application/json;+charset=utf-8 126.7428ms
2024-09-20 15:48:29.583 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1 - -
2024-09-20 15:48:29.584 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 15:48:29.586 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-20 15:48:29.587 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-20 15:48:29.590 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 15:48:29.592 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 15:48:29.596 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 15:48:29.597 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 15:48:29.597 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 15:48:29.598 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 15:48:29.598 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 15:48:29.599 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 15:48:29.599 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 15:48:29.601 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 15:48:29.602 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-20 15:48:29.602 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-20 15:48:29.602 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 15:48:29.603 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 15:48:29.603 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-20 15:48:29.604 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-20 15:48:29.605 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 15:48:29.606 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name '' in request data ...
2024-09-20 15:48:29.607 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 15:48:29.608 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 15:48:29.609 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 15:48:29.609 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 15:48:29.610 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 15:48:29.647 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 15:48:29.649 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-20 15:48:29.655 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 15:48:29.659 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 15:48:29.659 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 15:48:29.659 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:48:29.660 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:48:29.660 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-20 15:48:29.661 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-20 15:48:29.662 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 15:48:29.662 +07:00 [DBG] A data reader was disposed.
2024-09-20 15:48:29.662 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:48:29.663 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:48:29.664 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 15:48:29.665 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 15:48:29.665 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 15:48:29.666 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 15:48:29.666 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 15:48:29.666 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2024-09-20 15:48:29.667 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 67.539ms
2024-09-20 15:48:29.667 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 15:48:29.668 +07:00 [DBG] Connection id "0HN6P9S0M573G" completed keep alive response.
2024-09-20 15:48:29.668 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 15:48:29.668 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1 - - - 200 74 application/json;+charset=utf-8 85.8263ms
2024-09-20 15:48:32.716 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities - -
2024-09-20 15:48:32.718 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 15:48:32.724 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-20 15:48:32.728 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-20 15:48:32.730 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 15:48:32.731 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 15:48:32.731 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 15:48:32.732 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 15:48:32.732 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 15:48:32.733 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 15:48:32.733 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 15:48:32.734 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 15:48:32.734 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 15:48:32.735 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 15:48:32.735 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 15:48:32.740 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 15:48:32.741 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 15:48:32.741 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:48:32.742 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:48:32.742 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-20 15:48:32.743 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-20 15:48:32.744 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 15:48:32.744 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 15:48:32.745 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 15:48:32.745 +07:00 [DBG] A data reader was disposed.
2024-09-20 15:48:32.746 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:48:32.746 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:48:32.746 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 15:48:32.747 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 15:48:32.748 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 15:48:32.748 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 15:48:32.748 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 15:48:32.749 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 15:48:32.749 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 14.8347ms
2024-09-20 15:48:32.750 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 15:48:32.750 +07:00 [DBG] Connection id "0HN6P9S0M573G" completed keep alive response.
2024-09-20 15:48:32.750 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 15:48:32.751 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities - - - 200 230 application/json;+charset=utf-8 34.4855ms
2024-09-20 15:48:40.822 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - -
2024-09-20 15:48:40.825 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 15:48:40.826 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 15:48:40.826 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 15:48:40.827 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 15:48:40.828 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 15:48:40.830 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 15:48:40.831 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 15:48:40.831 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 15:48:40.832 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 15:48:40.832 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 15:48:40.833 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 15:48:40.834 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 15:48:40.834 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 15:48:40.835 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 15:48:40.835 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 15:48:40.836 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 15:48:40.836 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 15:48:40.837 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 15:48:40.837 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 15:48:40.838 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 15:48:40.839 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 15:48:40.840 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 15:48:40.840 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 15:48:40.841 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 15:48:40.841 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 15:48:40.843 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 15:48:40.844 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 15:48:40.844 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 15:48:40.845 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:48:40.845 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:48:40.845 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 15:48:40.846 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 15:48:40.847 +07:00 [DBG] A data reader was disposed.
2024-09-20 15:48:40.847 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:48:40.848 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:48:40.849 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-20 15:48:40.852 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 15:48:40.854 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 15:48:40.854 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 15:48:40.855 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:48:40.856 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:48:40.856 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 15:48:40.857 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 15:48:40.859 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 15:48:40.862 +07:00 [DBG] A data reader was disposed.
2024-09-20 15:48:40.863 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:48:40.863 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:48:40.866 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 15:48:40.867 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 15:48:40.868 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 15:48:40.868 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 15:48:40.869 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 15:48:40.870 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 15:48:40.871 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 37.7909ms
2024-09-20 15:48:40.872 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 15:48:40.873 +07:00 [DBG] Connection id "0HN6P9S0M573G" completed keep alive response.
2024-09-20 15:48:40.873 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 15:48:40.874 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - - - 200 83 application/json;+charset=utf-8 51.7977ms
2024-09-20 15:48:44.243 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/0 - -
2024-09-20 15:48:44.244 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 15:48:44.245 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/0'
2024-09-20 15:48:44.246 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/0'
2024-09-20 15:48:44.247 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 15:48:44.247 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 15:48:44.248 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 15:48:44.249 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 15:48:44.249 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 15:48:44.249 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 15:48:44.250 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 15:48:44.251 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 15:48:44.251 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 15:48:44.252 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 15:48:44.253 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 15:48:44.253 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 15:48:44.254 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 15:48:44.254 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 15:48:44.255 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 15:48:44.256 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 15:48:44.257 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 15:48:44.258 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 15:48:44.259 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 15:48:44.259 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 15:48:44.260 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 15:48:44.260 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 15:48:44.261 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 15:48:44.262 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 15:48:44.262 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 15:48:44.262 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:48:44.263 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:48:44.263 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 15:48:44.264 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 15:48:44.265 +07:00 [DBG] A data reader was disposed.
2024-09-20 15:48:44.265 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:48:44.265 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:48:44.266 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 15:48:44.266 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 15:48:44.267 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:48:44.267 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:48:44.268 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 15:48:44.269 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 15:48:44.269 +07:00 [DBG] A data reader was disposed.
2024-09-20 15:48:44.270 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:48:44.270 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:48:44.271 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 15:48:44.272 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 15:48:44.272 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 15:48:44.273 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 15:48:44.273 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 15:48:44.274 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 15:48:44.274 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 22.689ms
2024-09-20 15:48:44.275 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 15:48:44.275 +07:00 [DBG] Connection id "0HN6P9S0M573G" completed keep alive response.
2024-09-20 15:48:44.275 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 15:48:44.276 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/0 - - - 200 2 application/json;+charset=utf-8 32.3738ms
2024-09-20 15:50:16.381 +07:00 [DBG] Connection id "0HN6P9S0M573H" accepted.
2024-09-20 15:50:16.384 +07:00 [DBG] Connection id "0HN6P9S0M573H" received FIN.
2024-09-20 15:50:16.385 +07:00 [DBG] Connection id "0HN6P9S0M573H" started.
2024-09-20 15:50:16.385 +07:00 [DBG] Connection id "0HN6P9S0M573I" accepted.
2024-09-20 15:50:16.399 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 15:50:16.399 +07:00 [DBG] Connection id "0HN6P9S0M573I" started.
2024-09-20 15:50:16.401 +07:00 [DBG] Connection id "0HN6P9S0M573H" stopped.
2024-09-20 15:50:16.401 +07:00 [DBG] Connection id "0HN6P9S0M573H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 15:50:16.404 +07:00 [DBG] Connection 0HN6P9S0M573I established using the following protocol: "Tls12"
2024-09-20 15:50:16.405 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7139/api/cities/3/pointsofinterest application/json 117
2024-09-20 15:50:16.405 +07:00 [DBG] POST requests are not supported
2024-09-20 15:50:16.405 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-09-20 15:50:16.406 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-09-20 15:50:16.407 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 15:50:16.407 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 15:50:16.408 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 15:50:16.409 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 15:50:16.409 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 15:50:16.410 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 15:50:16.411 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 15:50:16.412 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 15:50:16.412 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 15:50:16.413 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 15:50:16.413 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 15:50:16.414 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 15:50:16.414 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 15:50:16.414 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 15:50:16.415 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 15:50:16.415 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 15:50:16.416 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-09-20 15:50:16.416 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-09-20 15:50:16.417 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-20 15:50:16.417 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-20 15:50:16.418 +07:00 [DBG] Connection id "0HN6P9S0M573I", Request id "0HN6P9S0M573I:00000002": started reading request body.
2024-09-20 15:50:16.418 +07:00 [DBG] Connection id "0HN6P9S0M573I", Request id "0HN6P9S0M573I:00000002": done reading request body.
2024-09-20 15:50:16.418 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 15:50:16.419 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 15:50:16.420 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-09-20 15:50:16.420 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 15:50:16.421 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 15:50:16.422 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 15:50:16.422 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 15:50:16.422 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:50:16.423 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:50:16.423 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 15:50:16.424 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 15:50:16.425 +07:00 [DBG] A data reader was disposed.
2024-09-20 15:50:16.426 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:50:16.426 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:50:16.427 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-09-20 15:50:16.427 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-09-20 15:50:16.428 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-09-20 15:50:16.428 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 0 entities written to the database.
2024-09-20 15:50:16.428 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 15:50:16.429 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 15:50:16.429 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 15:50:16.430 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 15:50:16.430 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 15:50:16.430 +07:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-09-20 15:50:16.431 +07:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-09-20 15:50:16.432 +07:00 [DBG] Failed to process the template api/cities/{cityId}/pointsofinterest/{pointsofinterestId} for CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "GetPointOfInterest", "cityId": "3", "controller": "PointOfInterest" } and { "Id": "3", "pointOfInterestId": "0" } with default values { "action": "GetPointOfInterest", "controller": "PointOfInterest" }
2024-09-20 15:50:16.433 +07:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest for CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/3/pointsofinterest and ?Id=3&pointOfInterestId=0
2024-09-20 15:50:16.433 +07:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/3/pointsofinterest?Id=3&pointOfInterestId=0
2024-09-20 15:50:16.434 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 22.3077ms
2024-09-20 15:50:16.435 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 15:50:16.435 +07:00 [DBG] Connection id "0HN6P9S0M573I" completed keep alive response.
2024-09-20 15:50:16.436 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 15:50:16.436 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7139/api/cities/3/pointsofinterest application/json 117 - 201 111 application/json;+charset=utf-8 31.3018ms
2024-09-20 15:50:37.130 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/3/pointsofinterest?Id=3&pointOfInterestId=0 - -
2024-09-20 15:50:37.134 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 15:50:37.134 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-09-20 15:50:37.135 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-09-20 15:50:37.135 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 15:50:37.136 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 15:50:37.138 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 15:50:37.139 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 15:50:37.140 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 15:50:37.140 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 15:50:37.141 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 15:50:37.141 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 15:50:37.142 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 15:50:37.143 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 15:50:37.147 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 15:50:37.148 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 15:50:37.148 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 15:50:37.148 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 15:50:37.149 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 15:50:37.149 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 15:50:37.150 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 15:50:37.152 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 15:50:37.152 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 15:50:37.152 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:50:37.153 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:50:37.153 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 15:50:37.154 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 15:50:37.155 +07:00 [DBG] A data reader was disposed.
2024-09-20 15:50:37.155 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:50:37.156 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:50:37.157 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(c => c.Id == __cityId_0)'
2024-09-20 15:50:37.158 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.Id == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 15:50:37.160 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 15:50:37.160 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 15:50:37.160 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:50:37.161 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:50:37.161 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 15:50:37.162 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 15:50:37.163 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 15:50:37.163 +07:00 [DBG] A data reader was disposed.
2024-09-20 15:50:37.164 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:50:37.164 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:50:37.164 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 15:50:37.165 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 15:50:37.166 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 15:50:37.166 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 15:50:37.167 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 15:50:37.167 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 15:50:37.168 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 25.7803ms
2024-09-20 15:50:37.168 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 15:50:37.168 +07:00 [DBG] Connection id "0HN6P9S0M573I" completed keep alive response.
2024-09-20 15:50:37.169 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 15:50:37.169 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/3/pointsofinterest?Id=3&pointOfInterestId=0 - - - 200 85 application/json;+charset=utf-8 44.3762ms
2024-09-20 15:51:51.035 +07:00 [DBG] Connection id "0HN6P9S0M573J" accepted.
2024-09-20 15:51:51.039 +07:00 [DBG] Connection id "0HN6P9S0M573J" received FIN.
2024-09-20 15:51:51.040 +07:00 [DBG] Connection id "0HN6P9S0M573J" started.
2024-09-20 15:51:51.040 +07:00 [DBG] Connection id "0HN6P9S0M573K" accepted.
2024-09-20 15:51:51.052 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 15:51:51.052 +07:00 [DBG] Connection id "0HN6P9S0M573K" started.
2024-09-20 15:51:51.053 +07:00 [DBG] Connection id "0HN6P9S0M573J" stopped.
2024-09-20 15:51:51.054 +07:00 [DBG] Connection id "0HN6P9S0M573J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 15:51:51.059 +07:00 [DBG] Connection 0HN6P9S0M573K established using the following protocol: "Tls12"
2024-09-20 15:51:51.059 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/3/pointsofinterest/0 - -
2024-09-20 15:51:51.059 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 15:51:51.060 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/0'
2024-09-20 15:51:51.060 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/3/pointsofinterest/0'
2024-09-20 15:51:51.062 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 15:51:51.063 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 15:51:51.064 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 15:51:51.065 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 15:51:51.066 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 15:51:51.066 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 15:51:51.067 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 15:51:51.067 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 15:51:51.068 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 15:51:51.068 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 15:51:51.069 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 15:51:51.069 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 15:51:51.070 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 15:51:51.070 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 15:51:51.071 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 15:51:51.071 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 15:51:51.071 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 15:51:51.072 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 15:51:51.072 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 15:51:51.073 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 15:51:51.073 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 15:51:51.073 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 15:51:51.074 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 15:51:51.075 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 15:51:51.075 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 15:51:51.076 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:51:51.076 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:51:51.076 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 15:51:51.078 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 15:51:51.080 +07:00 [DBG] A data reader was disposed.
2024-09-20 15:51:51.081 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:51:51.081 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:51:51.082 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 15:51:51.082 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 15:51:51.083 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:51:51.083 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:51:51.084 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 15:51:51.084 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 15:51:51.085 +07:00 [DBG] A data reader was disposed.
2024-09-20 15:51:51.085 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:51:51.086 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:51:51.086 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 15:51:51.087 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 15:51:51.087 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 15:51:51.088 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 15:51:51.088 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 15:51:51.088 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 15:51:51.089 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 21.1464ms
2024-09-20 15:51:51.089 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 15:51:51.090 +07:00 [DBG] Connection id "0HN6P9S0M573K" completed keep alive response.
2024-09-20 15:51:51.090 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 15:51:51.091 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/3/pointsofinterest/0 - - - 200 2 application/json;+charset=utf-8 31.4016ms
2024-09-20 15:51:53.525 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/3/pointsofinterest/ - -
2024-09-20 15:51:53.526 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 15:51:53.526 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/'
2024-09-20 15:51:53.526 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest/'
2024-09-20 15:51:53.527 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 15:51:53.527 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 15:51:53.528 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 15:51:53.530 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 15:51:53.532 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 15:51:53.532 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 15:51:53.533 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 15:51:53.533 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 15:51:53.534 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 15:51:53.534 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 15:51:53.535 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 15:51:53.535 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 15:51:53.536 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 15:51:53.536 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 15:51:53.537 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 15:51:53.537 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 15:51:53.538 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 15:51:53.539 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 15:51:53.539 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 15:51:53.539 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:51:53.540 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:51:53.540 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 15:51:53.541 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 15:51:53.542 +07:00 [DBG] A data reader was disposed.
2024-09-20 15:51:53.542 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:51:53.542 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:51:53.543 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 15:51:53.543 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 15:51:53.544 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:51:53.544 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:51:53.544 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 15:51:53.545 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 15:51:53.546 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 15:51:53.547 +07:00 [DBG] A data reader was disposed.
2024-09-20 15:51:53.548 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:51:53.548 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:51:53.549 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 15:51:53.549 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 15:51:53.550 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 15:51:53.550 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 15:51:53.550 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 15:51:53.551 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 15:51:53.551 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 17.44ms
2024-09-20 15:51:53.552 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 15:51:53.552 +07:00 [DBG] Connection id "0HN6P9S0M573K" completed keep alive response.
2024-09-20 15:51:53.553 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 15:51:53.553 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/3/pointsofinterest/ - - - 200 85 application/json;+charset=utf-8 27.7367ms
2024-09-20 15:53:45.260 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 15:53:45.396 +07:00 [DBG] Hosting starting
2024-09-20 15:53:45.620 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 15:53:45.656 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 15:53:45.656 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 15:53:45.656 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 15:53:45.657 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 15:53:45.657 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 15:53:45.657 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 15:53:45.658 +07:00 [INF] Hosting environment: Development
2024-09-20 15:53:45.659 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 15:53:45.659 +07:00 [DBG] Hosting started
2024-09-20 15:53:46.028 +07:00 [DBG] Connection id "0HN6PA6UAAA6L" received FIN.
2024-09-20 15:53:46.028 +07:00 [DBG] Connection id "0HN6PA6UAAA6K" received FIN.
2024-09-20 15:53:46.043 +07:00 [DBG] Connection id "0HN6PA6UAAA6L" accepted.
2024-09-20 15:53:46.056 +07:00 [DBG] Connection id "0HN6PA6UAAA6K" accepted.
2024-09-20 15:53:46.057 +07:00 [DBG] Connection id "0HN6PA6UAAA6L" started.
2024-09-20 15:53:46.057 +07:00 [DBG] Connection id "0HN6PA6UAAA6K" started.
2024-09-20 15:53:46.099 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 15:53:46.099 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 15:53:46.286 +07:00 [DBG] Connection id "0HN6PA6UAAA6M" accepted.
2024-09-20 15:53:46.298 +07:00 [DBG] Connection id "0HN6PA6UAAA6M" started.
2024-09-20 15:53:46.307 +07:00 [DBG] Connection id "0HN6PA6UAAA6L" stopped.
2024-09-20 15:53:46.307 +07:00 [DBG] Connection id "0HN6PA6UAAA6K" stopped.
2024-09-20 15:53:46.415 +07:00 [DBG] Connection id "0HN6PA6UAAA6K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 15:53:46.423 +07:00 [DBG] Connection id "0HN6PA6UAAA6L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 15:53:46.535 +07:00 [DBG] Connection 0HN6PA6UAAA6M established using the following protocol: "Tls12"
2024-09-20 15:53:46.630 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 15:53:46.674 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 15:53:46.864 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 15:53:46.972 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 15:53:46.978 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 15:53:46.978 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 15:53:46.986 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 358.0610ms
2024-09-20 15:53:46.990 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 12.1807ms
2024-09-20 15:53:47.022 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 43.9131ms
2024-09-20 15:53:47.043 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 15:53:47.179 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 136.2049ms
2024-09-20 15:54:19.644 +07:00 [DBG] Connection id "0HN6PA6UAAA6N" accepted.
2024-09-20 15:54:19.648 +07:00 [DBG] Connection id "0HN6PA6UAAA6N" received FIN.
2024-09-20 15:54:19.649 +07:00 [DBG] Connection id "0HN6PA6UAAA6N" started.
2024-09-20 15:54:19.649 +07:00 [DBG] Connection id "0HN6PA6UAAA6O" accepted.
2024-09-20 15:54:19.659 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 15:54:19.659 +07:00 [DBG] Connection id "0HN6PA6UAAA6O" started.
2024-09-20 15:54:19.660 +07:00 [DBG] Connection id "0HN6PA6UAAA6N" stopped.
2024-09-20 15:54:19.661 +07:00 [DBG] Connection id "0HN6PA6UAAA6N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 15:54:19.666 +07:00 [DBG] Connection 0HN6PA6UAAA6O established using the following protocol: "Tls12"
2024-09-20 15:54:19.675 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7139/api/cities/3/pointsofinterest application/json 117
2024-09-20 15:54:19.676 +07:00 [DBG] POST requests are not supported
2024-09-20 15:54:19.694 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-09-20 15:54:19.699 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-09-20 15:54:19.700 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 15:54:19.704 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 15:54:19.738 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 15:54:19.739 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 15:54:19.740 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 15:54:19.740 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 15:54:19.741 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 15:54:19.742 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 15:54:19.742 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 15:54:19.846 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 15:54:19.957 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 15:54:19.965 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 15:54:19.966 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 15:54:19.967 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 15:54:19.967 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 15:54:19.968 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 15:54:19.971 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 15:54:19.973 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-09-20 15:54:19.974 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-09-20 15:54:19.975 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-20 15:54:19.975 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-20 15:54:19.986 +07:00 [DBG] Connection id "0HN6PA6UAAA6O", Request id "0HN6PA6UAAA6O:00000002": started reading request body.
2024-09-20 15:54:19.987 +07:00 [DBG] Connection id "0HN6PA6UAAA6O", Request id "0HN6PA6UAAA6O:00000002": done reading request body.
2024-09-20 15:54:20.074 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 15:54:20.075 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 15:54:20.076 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-09-20 15:54:20.080 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 15:54:20.674 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 15:54:20.711 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-20 15:54:20.908 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 15:54:20.951 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 15:54:20.998 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (44ms).
2024-09-20 15:54:21.009 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:54:21.022 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:54:21.033 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 15:54:21.053 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 15:54:21.062 +07:00 [DBG] A data reader was disposed.
2024-09-20 15:54:21.067 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 15:54:21.072 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 15:54:21.083 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-09-20 15:54:21.085 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-09-20 15:54:21.089 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-09-20 15:54:21.093 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 0 entities written to the database.
2024-09-20 15:54:21.095 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 15:54:21.098 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 15:54:21.098 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 15:54:21.099 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 15:54:21.099 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 15:54:21.100 +07:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-09-20 15:54:21.112 +07:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-09-20 15:54:21.119 +07:00 [DBG] Failed to process the template api/cities/{cityId}/pointsofinterest/{pointsofinterestId} for CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "GetPointOfInterest", "cityId": "3", "controller": "PointOfInterest" } and { "Id": "3", "pointOfInterestId": "0" } with default values { "action": "GetPointOfInterest", "controller": "PointOfInterest" }
2024-09-20 15:54:21.121 +07:00 [DBG] Link generation failed for endpoints ["CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)"]
2024-09-20 15:54:21.126 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 1380.2558ms
2024-09-20 15:54:21.128 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 15:54:21.128 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.ObjectResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-20 15:54:21.137 +07:00 [DBG] Connection id "0HN6PA6UAAA6O" completed keep alive response.
2024-09-20 15:54:21.141 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 15:54:21.143 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7139/api/cities/3/pointsofinterest application/json 117 - 500 - text/plain;+charset=utf-8 1468.4652ms
2024-09-20 16:18:56.696 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 16:18:56.832 +07:00 [DBG] Hosting starting
2024-09-20 16:18:57.135 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 16:18:57.199 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 16:18:57.200 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 16:18:57.201 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 16:18:57.202 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 16:18:57.202 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 16:18:57.203 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 16:18:57.205 +07:00 [INF] Hosting environment: Development
2024-09-20 16:18:57.206 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 16:18:57.206 +07:00 [DBG] Hosting started
2024-09-20 16:18:57.511 +07:00 [DBG] Connection id "0HN6PAL0OU7BL" received FIN.
2024-09-20 16:18:57.511 +07:00 [DBG] Connection id "0HN6PAL0OU7BM" received FIN.
2024-09-20 16:18:57.520 +07:00 [DBG] Connection id "0HN6PAL0OU7BM" accepted.
2024-09-20 16:18:57.520 +07:00 [DBG] Connection id "0HN6PAL0OU7BL" accepted.
2024-09-20 16:18:57.522 +07:00 [DBG] Connection id "0HN6PAL0OU7BL" started.
2024-09-20 16:18:57.522 +07:00 [DBG] Connection id "0HN6PAL0OU7BM" started.
2024-09-20 16:18:57.550 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 16:18:57.550 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 16:18:57.633 +07:00 [DBG] Connection id "0HN6PAL0OU7BL" stopped.
2024-09-20 16:18:57.633 +07:00 [DBG] Connection id "0HN6PAL0OU7BM" stopped.
2024-09-20 16:18:57.637 +07:00 [DBG] Connection id "0HN6PAL0OU7BL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 16:18:57.637 +07:00 [DBG] Connection id "0HN6PAL0OU7BM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 16:18:57.690 +07:00 [DBG] Connection id "0HN6PAL0OU7BN" accepted.
2024-09-20 16:18:57.691 +07:00 [DBG] Connection id "0HN6PAL0OU7BN" started.
2024-09-20 16:18:57.804 +07:00 [DBG] Connection 0HN6PAL0OU7BN established using the following protocol: "Tls12"
2024-09-20 16:18:57.892 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 16:18:57.950 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 16:18:58.151 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 16:18:58.309 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 16:18:58.317 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 426.0376ms
2024-09-20 16:18:58.322 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 16:18:58.322 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 16:18:58.339 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 16.7882ms
2024-09-20 16:18:58.360 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 37.8350ms
2024-09-20 16:18:58.388 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 16:18:58.561 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 173.4451ms
2024-09-20 16:18:59.654 +07:00 [DBG] Connection id "0HN6PAL0OU7BO" accepted.
2024-09-20 16:18:59.654 +07:00 [DBG] Connection id "0HN6PAL0OU7BO" received FIN.
2024-09-20 16:18:59.656 +07:00 [DBG] Connection id "0HN6PAL0OU7BO" started.
2024-09-20 16:18:59.657 +07:00 [DBG] Connection id "0HN6PAL0OU7BP" accepted.
2024-09-20 16:18:59.659 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 16:18:59.659 +07:00 [DBG] Connection id "0HN6PAL0OU7BP" started.
2024-09-20 16:18:59.660 +07:00 [DBG] Connection id "0HN6PAL0OU7BO" stopped.
2024-09-20 16:18:59.661 +07:00 [DBG] Connection id "0HN6PAL0OU7BO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 16:18:59.665 +07:00 [DBG] Connection 0HN6PAL0OU7BP established using the following protocol: "Tls12"
2024-09-20 16:18:59.673 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7139/api/cities/3/pointsofinterest application/json 117
2024-09-20 16:18:59.676 +07:00 [DBG] POST requests are not supported
2024-09-20 16:18:59.694 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-09-20 16:18:59.700 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-09-20 16:18:59.702 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:18:59.706 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:18:59.746 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 16:18:59.748 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 16:18:59.749 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 16:18:59.749 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 16:18:59.750 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 16:18:59.750 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 16:18:59.751 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:19:00.022 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 16:19:00.153 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:19:00.168 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:19:00.171 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 16:19:00.173 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:00.174 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:00.175 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:19:00.176 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:00.177 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-09-20 16:19:00.179 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-09-20 16:19:00.180 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-20 16:19:00.180 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-20 16:19:00.200 +07:00 [DBG] Connection id "0HN6PAL0OU7BP", Request id "0HN6PAL0OU7BP:00000002": started reading request body.
2024-09-20 16:19:00.202 +07:00 [DBG] Connection id "0HN6PAL0OU7BP", Request id "0HN6PAL0OU7BP:00000002": done reading request body.
2024-09-20 16:19:00.305 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 16:19:00.306 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 16:19:00.307 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-09-20 16:19:00.312 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 16:19:01.025 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 16:19:01.063 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-20 16:19:01.260 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 16:19:01.304 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:19:01.439 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (131ms).
2024-09-20 16:19:01.452 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:01.469 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:01.484 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:19:01.506 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:19:01.518 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:19:01.528 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:01.536 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:01.550 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-09-20 16:19:01.552 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-09-20 16:19:01.555 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-09-20 16:19:01.559 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 0 entities written to the database.
2024-09-20 16:19:01.562 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 16:19:01.566 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 16:19:01.567 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 16:19:01.567 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 16:19:01.568 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 16:19:01.568 +07:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-09-20 16:19:01.589 +07:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-09-20 16:19:01.596 +07:00 [DBG] Failed to process the template api/cities/{cityId}/pointsofinterest/{pointsofinterestId} for CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "GetPointOfInterest", "cityId": "3", "controller": "PointOfInterest" } and { "cityId": "3", "pointOfInterestId": "0" } with default values { "action": "GetPointOfInterest", "controller": "PointOfInterest" }
2024-09-20 16:19:01.600 +07:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest for CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/3/pointsofinterest and ?pointOfInterestId=0
2024-09-20 16:19:01.602 +07:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/3/pointsofinterest?pointOfInterestId=0
2024-09-20 16:19:01.640 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 1885.1081ms
2024-09-20 16:19:01.641 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:01.642 +07:00 [DBG] Connection id "0HN6PAL0OU7BP" completed keep alive response.
2024-09-20 16:19:01.645 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 16:19:01.649 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7139/api/cities/3/pointsofinterest application/json 117 - 201 111 application/json;+charset=utf-8 1975.9509ms
2024-09-20 16:19:08.821 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7139/api/cities/3/pointsofinterest application/json 121
2024-09-20 16:19:08.822 +07:00 [DBG] POST requests are not supported
2024-09-20 16:19:08.822 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-09-20 16:19:08.822 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-09-20 16:19:08.823 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:08.823 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:08.824 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 16:19:08.824 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 16:19:08.825 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 16:19:08.825 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 16:19:08.826 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 16:19:08.826 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 16:19:08.827 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:19:08.836 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:19:08.837 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:19:08.838 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 16:19:08.838 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:08.839 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:08.839 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:19:08.839 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:08.840 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-09-20 16:19:08.840 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-09-20 16:19:08.841 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-20 16:19:08.841 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-20 16:19:08.842 +07:00 [DBG] Connection id "0HN6PAL0OU7BP", Request id "0HN6PAL0OU7BP:00000003": started reading request body.
2024-09-20 16:19:08.842 +07:00 [DBG] Connection id "0HN6PAL0OU7BP", Request id "0HN6PAL0OU7BP:00000003": done reading request body.
2024-09-20 16:19:08.842 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 16:19:08.843 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 16:19:08.843 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-09-20 16:19:08.844 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 16:19:08.845 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 16:19:08.855 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:19:08.855 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:19:08.856 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:08.856 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:08.856 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:19:08.857 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:19:08.858 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:19:08.858 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:08.859 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:08.859 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-09-20 16:19:08.859 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-09-20 16:19:08.860 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-09-20 16:19:08.860 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 0 entities written to the database.
2024-09-20 16:19:08.861 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 16:19:08.861 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 16:19:08.862 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 16:19:08.862 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 16:19:08.862 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 16:19:08.863 +07:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-09-20 16:19:08.863 +07:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-09-20 16:19:08.865 +07:00 [DBG] Failed to process the template api/cities/{cityId}/pointsofinterest/{pointsofinterestId} for CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "GetPointOfInterest", "cityId": "3", "controller": "PointOfInterest" } and { "cityId": "3", "pointOfInterestId": "0" } with default values { "action": "GetPointOfInterest", "controller": "PointOfInterest" }
2024-09-20 16:19:08.866 +07:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest for CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/3/pointsofinterest and ?pointOfInterestId=0
2024-09-20 16:19:08.867 +07:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/3/pointsofinterest?pointOfInterestId=0
2024-09-20 16:19:08.868 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 40.8547ms
2024-09-20 16:19:08.868 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:08.869 +07:00 [DBG] Connection id "0HN6PAL0OU7BP" completed keep alive response.
2024-09-20 16:19:08.869 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 16:19:08.870 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7139/api/cities/3/pointsofinterest application/json 121 - 201 115 application/json;+charset=utf-8 48.4961ms
2024-09-20 16:19:14.480 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest - -
2024-09-20 16:19:14.483 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 16:19:14.485 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2024-09-20 16:19:14.487 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2024-09-20 16:19:14.489 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:14.490 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:14.492 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 16:19:14.494 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 16:19:14.494 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 16:19:14.495 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 16:19:14.495 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 16:19:14.496 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 16:19:14.496 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:19:14.500 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:19:14.501 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:19:14.501 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 16:19:14.502 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:14.502 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:14.502 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:19:14.503 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:14.540 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 16:19:14.541 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:19:14.542 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:19:14.542 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:14.543 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:14.543 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:19:14.544 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:19:14.545 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:19:14.546 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:14.546 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:14.553 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(c => c.Id == __cityId_0)'
2024-09-20 16:19:14.591 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.Id == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 16:19:14.597 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:19:14.597 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:19:14.598 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:14.599 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:14.599 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 16:19:14.601 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 16:19:14.612 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:19:14.643 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:19:14.644 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:14.645 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:14.653 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 16:19:14.654 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 16:19:14.654 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 16:19:14.655 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 16:19:14.655 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 16:19:14.655 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 16:19:14.662 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 165.3752ms
2024-09-20 16:19:14.662 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:14.663 +07:00 [DBG] Connection id "0HN6PAL0OU7BP" completed keep alive response.
2024-09-20 16:19:14.664 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 16:19:14.664 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest - - - 200 83 application/json;+charset=utf-8 183.9681ms
2024-09-20 16:19:23.252 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/0 - -
2024-09-20 16:19:23.253 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 16:19:23.253 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/0'
2024-09-20 16:19:23.254 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/0'
2024-09-20 16:19:23.255 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:23.255 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:23.258 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 16:19:23.259 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 16:19:23.259 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 16:19:23.260 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 16:19:23.261 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 16:19:23.261 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 16:19:23.262 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:19:23.262 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:19:23.263 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:19:23.264 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 16:19:23.264 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:23.266 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:23.267 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:19:23.267 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:23.268 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 16:19:23.268 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 16:19:23.269 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 16:19:23.269 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 16:19:23.270 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 16:19:23.270 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 16:19:23.272 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 16:19:23.273 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:19:23.273 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:19:23.274 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:23.274 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:23.275 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:19:23.276 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:19:23.277 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:19:23.277 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:23.277 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:23.279 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-20 16:19:23.283 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 16:19:23.285 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:19:23.286 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:19:23.286 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:23.287 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:23.287 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 16:19:23.288 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 16:19:23.289 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:19:23.290 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:23.290 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:23.291 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 16:19:23.292 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 16:19:23.292 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 16:19:23.293 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 16:19:23.293 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 16:19:23.294 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 16:19:23.294 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 32.4144ms
2024-09-20 16:19:23.295 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:23.295 +07:00 [DBG] Connection id "0HN6PAL0OU7BP" completed keep alive response.
2024-09-20 16:19:23.296 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 16:19:23.296 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/0 - - - 200 2 application/json;+charset=utf-8 43.9663ms
2024-09-20 16:19:25.910 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/2 - -
2024-09-20 16:19:25.911 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 16:19:25.913 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/2'
2024-09-20 16:19:25.915 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/2'
2024-09-20 16:19:25.919 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:25.920 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:25.921 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 16:19:25.924 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 16:19:25.926 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 16:19:25.926 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 16:19:25.927 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 16:19:25.927 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 16:19:25.928 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:19:25.928 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:19:25.929 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:19:25.930 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 16:19:25.930 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:25.931 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:25.931 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:19:25.932 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:25.932 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 16:19:25.933 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 16:19:25.934 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 16:19:25.934 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 16:19:25.935 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 16:19:25.935 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 16:19:25.936 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 16:19:25.937 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:19:25.937 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:19:25.938 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:25.938 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:25.938 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:19:25.939 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:19:25.940 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:19:25.940 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:25.941 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:25.941 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:19:25.941 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:19:25.942 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:25.942 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:25.943 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 16:19:25.943 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 16:19:25.944 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:19:25.944 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:25.945 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:25.945 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 16:19:25.946 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 16:19:25.947 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 16:19:25.947 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 16:19:25.947 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 16:19:25.948 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 16:19:25.949 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 20.6084ms
2024-09-20 16:19:25.949 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:25.950 +07:00 [DBG] Connection id "0HN6PAL0OU7BP" completed keep alive response.
2024-09-20 16:19:25.950 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 16:19:25.950 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/2 - - - 200 2 application/json;+charset=utf-8 40.0949ms
2024-09-20 16:19:28.490 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - -
2024-09-20 16:19:28.491 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 16:19:28.491 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 16:19:28.492 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-20 16:19:28.493 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:28.494 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:28.494 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 16:19:28.495 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 16:19:28.495 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 16:19:28.496 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 16:19:28.496 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 16:19:28.497 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 16:19:28.497 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:19:28.499 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:19:28.500 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:19:28.502 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 16:19:28.502 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:28.503 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:28.503 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:19:28.504 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:28.504 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 16:19:28.505 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 16:19:28.505 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 16:19:28.505 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 16:19:28.506 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 16:19:28.506 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 16:19:28.507 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 16:19:28.508 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:19:28.508 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:19:28.508 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:28.509 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:28.509 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:19:28.510 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:19:28.511 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:19:28.511 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:28.511 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:28.512 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:19:28.512 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:19:28.513 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:28.513 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:28.513 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 16:19:28.514 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 16:19:28.516 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:19:28.517 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:19:28.517 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:28.518 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:28.518 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 16:19:28.519 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 16:19:28.519 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 16:19:28.520 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 16:19:28.520 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 16:19:28.520 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 16:19:28.521 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 23.471ms
2024-09-20 16:19:28.521 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:28.522 +07:00 [DBG] Connection id "0HN6PAL0OU7BP" completed keep alive response.
2024-09-20 16:19:28.522 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 16:19:28.522 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - - - 200 83 application/json;+charset=utf-8 32.2881ms
2024-09-20 16:19:37.324 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/4/pointsofinterest/1 - -
2024-09-20 16:19:37.325 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 16:19:37.325 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/4/pointsofinterest/1'
2024-09-20 16:19:37.326 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/4/pointsofinterest/1'
2024-09-20 16:19:37.326 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:37.327 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:37.327 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 16:19:37.328 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 16:19:37.329 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 16:19:37.329 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 16:19:37.330 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 16:19:37.331 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 16:19:37.331 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:19:37.332 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:19:37.333 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:19:37.334 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 16:19:37.335 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:37.336 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:37.336 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:19:37.336 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:37.337 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 16:19:37.337 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 16:19:37.338 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 16:19:37.338 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 16:19:37.339 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 16:19:37.339 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 16:19:37.340 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 16:19:37.340 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:19:37.341 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:19:37.341 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:37.341 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:37.342 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:19:37.343 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:19:37.343 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:19:37.344 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:37.344 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:37.345 +07:00 [INF] logger infomation GetPointOfInterest 4
2024-09-20 16:19:37.347 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 16:19:37.348 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 16:19:37.349 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-20 16:19:37.351 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-20 16:19:37.352 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-20 16:19:37.367 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 35.2636ms
2024-09-20 16:19:37.367 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:37.368 +07:00 [DBG] Connection id "0HN6PAL0OU7BP" completed keep alive response.
2024-09-20 16:19:37.368 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 16:19:37.368 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/4/pointsofinterest/1 - - - 404 161 application/problem+json;+charset=utf-8 44.6374ms
2024-09-20 16:19:40.072 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/4/pointsofinterest/0 - -
2024-09-20 16:19:40.073 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 16:19:40.073 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/4/pointsofinterest/0'
2024-09-20 16:19:40.073 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/4/pointsofinterest/0'
2024-09-20 16:19:40.074 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:40.074 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:40.075 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 16:19:40.075 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 16:19:40.076 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 16:19:40.076 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 16:19:40.077 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 16:19:40.077 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 16:19:40.078 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:19:40.078 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:19:40.079 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:19:40.079 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 16:19:40.080 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:40.080 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:40.080 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:19:40.081 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:40.081 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 16:19:40.082 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 16:19:40.084 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 16:19:40.086 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 16:19:40.086 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 16:19:40.087 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 16:19:40.088 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 16:19:40.088 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:19:40.089 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:19:40.089 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:40.090 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:40.090 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:19:40.091 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:19:40.091 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:19:40.092 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:40.092 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:40.093 +07:00 [INF] logger infomation GetPointOfInterest 4
2024-09-20 16:19:40.093 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 16:19:40.094 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 16:19:40.094 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-20 16:19:40.095 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-20 16:19:40.095 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-20 16:19:40.096 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 17.9347ms
2024-09-20 16:19:40.096 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:40.097 +07:00 [DBG] Connection id "0HN6PAL0OU7BP" completed keep alive response.
2024-09-20 16:19:40.097 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 16:19:40.097 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/4/pointsofinterest/0 - - - 404 161 application/problem+json;+charset=utf-8 25.4302ms
2024-09-20 16:19:49.478 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/3/pointsofinterest/0 - -
2024-09-20 16:19:49.479 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 16:19:49.480 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/0'
2024-09-20 16:19:49.481 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/3/pointsofinterest/0'
2024-09-20 16:19:49.482 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:49.486 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:49.487 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 16:19:49.488 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 16:19:49.489 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 16:19:49.490 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 16:19:49.490 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 16:19:49.491 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 16:19:49.491 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:19:49.492 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:19:49.492 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:19:49.493 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 16:19:49.493 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:49.494 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:49.494 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:19:49.494 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:49.495 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 16:19:49.495 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 16:19:49.496 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 16:19:49.496 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 16:19:49.497 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 16:19:49.497 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 16:19:49.498 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 16:19:49.500 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:19:49.502 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-20 16:19:49.503 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:49.503 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:49.504 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:19:49.506 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:19:49.508 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:19:49.508 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:49.508 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:49.509 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:19:49.509 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:19:49.510 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:49.510 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:49.510 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 16:19:49.511 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 16:19:49.512 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:19:49.512 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:49.512 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:49.513 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 16:19:49.514 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 16:19:49.514 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 16:19:49.514 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 16:19:49.515 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 16:19:49.515 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 16:19:49.516 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 24.6216ms
2024-09-20 16:19:49.517 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:49.517 +07:00 [DBG] Connection id "0HN6PAL0OU7BP" completed keep alive response.
2024-09-20 16:19:49.518 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 16:19:49.518 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/3/pointsofinterest/0 - - - 200 2 application/json;+charset=utf-8 40.0198ms
2024-09-20 16:19:51.890 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/3/pointsofinterest - -
2024-09-20 16:19:51.891 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 16:19:51.891 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-09-20 16:19:51.892 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-09-20 16:19:51.892 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:51.893 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:51.893 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 16:19:51.894 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 16:19:51.894 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 16:19:51.895 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 16:19:51.895 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 16:19:51.896 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 16:19:51.896 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:19:51.897 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:19:51.897 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:19:51.898 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 16:19:51.898 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:51.899 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:51.899 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:19:51.900 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:19:51.901 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 16:19:51.902 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:19:51.902 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:19:51.903 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:51.903 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:51.904 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:19:51.906 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:19:51.907 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:19:51.907 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:51.908 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:51.908 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:19:51.909 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:19:51.910 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:51.910 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:51.911 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 16:19:51.912 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 16:19:51.913 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:19:51.913 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:19:51.914 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:19:51.914 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:19:51.914 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 16:19:51.916 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 16:19:51.916 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 16:19:51.916 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 16:19:51.917 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 16:19:51.918 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 16:19:51.919 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 22.3093ms
2024-09-20 16:19:51.919 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:19:51.920 +07:00 [DBG] Connection id "0HN6PAL0OU7BP" completed keep alive response.
2024-09-20 16:19:51.920 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 16:19:51.920 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/3/pointsofinterest - - - 200 85 application/json;+charset=utf-8 29.8453ms
2024-09-20 16:20:24.131 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 16:20:24.543 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 16:20:24.638 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.638 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.638 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.650 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.650 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.650 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.650 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.664 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.664 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.664 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.672 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.672 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.672 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.685 +07:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.689 +07:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.689 +07:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.689 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.691 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.691 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.697 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-09-20 16:20:24.704 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-09-20 16:20:24.704 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-09-20 16:20:24.704 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-09-20 16:20:24.736 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.736 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.736 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.736 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.736 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.736 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.736 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.736 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.736 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.736 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.890 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.890 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.890 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.890 +07:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.891 +07:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.891 +07:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.891 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.891 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.891 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.891 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:20:24.894 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-09-20 16:20:24.895 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-09-20 16:20:24.898 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-09-20 16:20:24.898 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-09-20 16:20:24.941 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 16:20:33.916 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 16:20:34.322 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 16:20:34.349 +07:00 [DBG] Migrating using database 'main' on server 'CityInfo.db'.
2024-09-20 16:20:34.353 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:20:34.360 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:20:34.370 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-20 16:20:34.374 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2024-09-20 16:20:34.375 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:20:34.376 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:20:34.380 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-09-20 16:20:34.393 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-09-20 16:20:34.394 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:20:34.396 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:20:34.397 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:20:34.397 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:20:34.397 +07:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-20 16:20:34.397 +07:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-09-20 16:20:34.397 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:20:34.397 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:20:34.397 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-09-20 16:20:34.397 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2024-09-20 16:20:34.397 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:20:34.397 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:20:34.407 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:20:34.407 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:20:34.407 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:20:34.407 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:20:34.407 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-09-20 16:20:34.407 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2024-09-20 16:20:34.409 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:20:34.409 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:20:34.409 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:20:34.415 +07:00 [INF] Applying migration '20240920092024_demoTest'.
2024-09-20 16:20:34.443 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:20:34.443 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:20:34.444 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-20 16:20:34.445 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-20 16:20:34.446 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-20 16:20:34.446 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-20 16:20:34.446 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("Id", "CityId", "Description", "Name")
VALUES (4, 1, 'The one with that big Central park4', 'Central park4');
2024-09-20 16:20:34.446 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("Id", "CityId", "Description", "Name")
VALUES (4, 1, 'The one with that big Central park4', 'Central park4');
2024-09-20 16:20:34.446 +07:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-20 16:20:34.446 +07:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-20 16:20:34.446 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240920092024_demoTest', '6.0.0');
2024-09-20 16:20:34.455 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240920092024_demoTest', '6.0.0');
2024-09-20 16:20:34.455 +07:00 [DBG] Committing transaction.
2024-09-20 16:20:34.553 +07:00 [DBG] Committed transaction.
2024-09-20 16:20:34.557 +07:00 [DBG] Disposing transaction.
2024-09-20 16:20:34.557 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:20:34.699 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:20:34.703 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 16:21:06.293 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 16:21:06.393 +07:00 [DBG] Hosting starting
2024-09-20 16:21:06.564 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 16:21:06.616 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 16:21:06.616 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 16:21:06.617 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 16:21:06.617 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 16:21:06.619 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 16:21:06.620 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 16:21:06.622 +07:00 [INF] Hosting environment: Development
2024-09-20 16:21:06.622 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 16:21:06.622 +07:00 [DBG] Hosting started
2024-09-20 16:21:06.740 +07:00 [DBG] Connection id "0HN6PAM79AVKP" accepted.
2024-09-20 16:21:06.740 +07:00 [DBG] Connection id "0HN6PAM79AVKO" accepted.
2024-09-20 16:21:06.741 +07:00 [DBG] Connection id "0HN6PAM79AVKP" started.
2024-09-20 16:21:06.741 +07:00 [DBG] Connection id "0HN6PAM79AVKO" started.
2024-09-20 16:21:06.755 +07:00 [DBG] Connection id "0HN6PAM79AVKO" received FIN.
2024-09-20 16:21:06.755 +07:00 [DBG] Connection id "0HN6PAM79AVKP" received FIN.
2024-09-20 16:21:06.768 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 16:21:06.768 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 16:21:06.801 +07:00 [DBG] Connection id "0HN6PAM79AVKP" stopped.
2024-09-20 16:21:06.801 +07:00 [DBG] Connection id "0HN6PAM79AVKO" stopped.
2024-09-20 16:21:06.806 +07:00 [DBG] Connection id "0HN6PAM79AVKP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 16:21:06.806 +07:00 [DBG] Connection id "0HN6PAM79AVKO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 16:21:07.010 +07:00 [DBG] Connection id "0HN6PAM79AVKQ" accepted.
2024-09-20 16:21:07.015 +07:00 [DBG] Connection id "0HN6PAM79AVKQ" started.
2024-09-20 16:21:07.051 +07:00 [DBG] Connection 0HN6PAM79AVKQ established using the following protocol: "Tls12"
2024-09-20 16:21:07.119 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 16:21:07.182 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 16:21:07.428 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 16:21:07.536 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 16:21:07.542 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 428.8588ms
2024-09-20 16:21:07.543 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 16:21:07.543 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 16:21:07.557 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 13.3966ms
2024-09-20 16:21:07.571 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.5647ms
2024-09-20 16:21:07.603 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 16:21:07.747 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 143.5193ms
2024-09-20 16:21:10.582 +07:00 [DBG] Connection id "0HN6PAM79AVKR" accepted.
2024-09-20 16:21:10.582 +07:00 [DBG] Connection id "0HN6PAM79AVKR" received FIN.
2024-09-20 16:21:10.583 +07:00 [DBG] Connection id "0HN6PAM79AVKR" started.
2024-09-20 16:21:10.584 +07:00 [DBG] Connection id "0HN6PAM79AVKS" accepted.
2024-09-20 16:21:10.587 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 16:21:10.588 +07:00 [DBG] Connection id "0HN6PAM79AVKS" started.
2024-09-20 16:21:10.590 +07:00 [DBG] Connection id "0HN6PAM79AVKR" stopped.
2024-09-20 16:21:10.591 +07:00 [DBG] Connection id "0HN6PAM79AVKR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 16:21:10.593 +07:00 [DBG] Connection 0HN6PAM79AVKS established using the following protocol: "Tls12"
2024-09-20 16:21:10.604 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities - -
2024-09-20 16:21:10.606 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 16:21:10.624 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-20 16:21:10.629 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-20 16:21:10.630 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 16:21:10.632 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 16:21:10.656 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 16:21:10.658 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 16:21:10.658 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 16:21:10.659 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 16:21:10.660 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 16:21:10.660 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 16:21:10.661 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 16:21:10.765 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 16:21:10.884 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 16:21:11.598 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 16:21:11.641 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-09-20 16:21:11.862 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 16:21:11.897 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:21:11.941 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2024-09-20 16:21:11.949 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:21:11.962 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:21:11.971 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-20 16:21:11.993 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-20 16:21:12.020 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:21:12.041 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:21:12.042 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:21:12.048 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:21:12.053 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:21:12.058 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:21:12.071 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 16:21:12.074 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 16:21:12.074 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 16:21:12.075 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 16:21:12.075 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 16:21:12.076 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 16:21:12.183 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1518.552ms
2024-09-20 16:21:12.185 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 16:21:12.186 +07:00 [DBG] Connection id "0HN6PAM79AVKS" completed keep alive response.
2024-09-20 16:21:12.191 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 16:21:12.194 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities - - - 200 230 application/json;+charset=utf-8 1590.1927ms
2024-09-20 16:21:15.776 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1 - -
2024-09-20 16:21:15.777 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 16:21:15.777 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-20 16:21:15.778 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-20 16:21:15.778 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 16:21:15.779 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 16:21:15.790 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 16:21:15.791 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 16:21:15.792 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 16:21:15.792 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 16:21:15.793 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 16:21:15.793 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 16:21:15.794 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 16:21:15.799 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 16:21:15.805 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-20 16:21:15.806 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-20 16:21:15.807 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 16:21:15.808 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-20 16:21:15.808 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-20 16:21:15.809 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-20 16:21:15.811 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 16:21:15.811 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name '' in request data ...
2024-09-20 16:21:15.812 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 16:21:15.812 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 16:21:15.813 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 16:21:15.813 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-20 16:21:15.814 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-20 16:21:15.817 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 16:21:15.826 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-20 16:21:15.848 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 16:21:15.858 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:21:15.859 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:21:15.860 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:21:15.861 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:21:15.865 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-20 16:21:15.869 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-20 16:21:15.870 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:21:15.871 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:21:15.871 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:21:15.871 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:21:15.873 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 16:21:15.874 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 16:21:15.874 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 16:21:15.875 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 16:21:15.875 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 16:21:15.875 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2024-09-20 16:21:15.876 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 82.2911ms
2024-09-20 16:21:15.877 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-20 16:21:15.877 +07:00 [DBG] Connection id "0HN6PAM79AVKS" completed keep alive response.
2024-09-20 16:21:15.878 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 16:21:15.878 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1 - - - 200 74 application/json;+charset=utf-8 101.9724ms
2024-09-20 16:21:18.516 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/3/pointsofinterest - -
2024-09-20 16:21:18.516 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 16:21:18.517 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-09-20 16:21:18.517 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-09-20 16:21:18.518 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:21:18.519 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:21:18.522 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 16:21:18.523 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 16:21:18.524 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 16:21:18.524 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 16:21:18.525 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 16:21:18.525 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 16:21:18.526 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:21:18.528 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:21:18.529 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:21:18.529 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 16:21:18.530 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:21:18.530 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:21:18.531 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:21:18.531 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:21:18.569 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 16:21:18.571 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-20 16:21:18.579 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 16:21:18.587 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:21:18.587 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:21:18.588 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:21:18.588 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:21:18.589 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:21:18.589 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:21:18.591 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:21:18.591 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:21:18.591 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:21:18.593 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(c => c.Id == __cityId_0)'
2024-09-20 16:21:18.595 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.Id == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 16:21:18.596 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:21:18.597 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:21:18.597 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:21:18.597 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:21:18.598 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 16:21:18.599 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-20 16:21:18.601 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:21:18.605 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:21:18.606 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:21:18.606 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:21:18.608 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 16:21:18.610 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 16:21:18.610 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 16:21:18.610 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 16:21:18.611 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 16:21:18.611 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 16:21:18.613 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 86.9067ms
2024-09-20 16:21:18.613 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:21:18.614 +07:00 [DBG] Connection id "0HN6PAM79AVKS" completed keep alive response.
2024-09-20 16:21:18.614 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 16:21:18.614 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/3/pointsofinterest - - - 200 85 application/json;+charset=utf-8 98.6588ms
2024-09-20 16:21:29.914 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7139/api/cities/3/pointsofinterest application/json 117
2024-09-20 16:21:29.915 +07:00 [DBG] POST requests are not supported
2024-09-20 16:21:29.916 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-09-20 16:21:29.919 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-09-20 16:21:29.923 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:21:29.924 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:21:29.927 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 16:21:29.928 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 16:21:29.928 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 16:21:29.929 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 16:21:29.930 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 16:21:29.930 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 16:21:29.931 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:21:29.931 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:21:29.932 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:21:29.932 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 16:21:29.932 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:21:29.933 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:21:29.933 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:21:29.934 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:21:29.934 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-09-20 16:21:29.935 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-09-20 16:21:29.938 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-20 16:21:29.938 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-20 16:21:29.944 +07:00 [DBG] Connection id "0HN6PAM79AVKS", Request id "0HN6PAM79AVKS:00000005": started reading request body.
2024-09-20 16:21:29.945 +07:00 [DBG] Connection id "0HN6PAM79AVKS", Request id "0HN6PAM79AVKS:00000005": done reading request body.
2024-09-20 16:21:29.976 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 16:21:29.977 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 16:21:29.977 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-09-20 16:21:29.982 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 16:21:29.984 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 16:21:29.988 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:21:29.988 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:21:29.988 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:21:29.989 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:21:29.989 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:21:29.990 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:21:29.991 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:21:29.991 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:21:29.991 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:21:29.997 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-09-20 16:21:30.000 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-09-20 16:21:30.003 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-09-20 16:21:30.008 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 0 entities written to the database.
2024-09-20 16:21:30.010 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 16:21:30.011 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 16:21:30.011 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 16:21:30.011 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 16:21:30.011 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 16:21:30.012 +07:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-09-20 16:21:30.027 +07:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-09-20 16:21:30.034 +07:00 [DBG] Failed to process the template api/cities/{cityId}/pointsofinterest/{pointsofinterestId} for CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "GetPointOfInterest", "cityId": "3", "controller": "PointOfInterest" } and { "cityId": "3", "pointOfInterestId": "0" } with default values { "action": "GetPointOfInterest", "controller": "PointOfInterest" }
2024-09-20 16:21:30.038 +07:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest for CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/3/pointsofinterest and ?pointOfInterestId=0
2024-09-20 16:21:30.039 +07:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/3/pointsofinterest?pointOfInterestId=0
2024-09-20 16:21:30.040 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 109.1897ms
2024-09-20 16:21:30.040 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:21:30.041 +07:00 [DBG] Connection id "0HN6PAM79AVKS" completed keep alive response.
2024-09-20 16:21:30.041 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 16:21:30.041 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7139/api/cities/3/pointsofinterest application/json 117 - 201 111 application/json;+charset=utf-8 127.6755ms
2024-09-20 16:22:37.284 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 16:22:37.403 +07:00 [DBG] Hosting starting
2024-09-20 16:22:37.564 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 16:22:37.604 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 16:22:37.605 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 16:22:37.608 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 16:22:37.609 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 16:22:37.609 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 16:22:37.610 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 16:22:37.611 +07:00 [INF] Hosting environment: Development
2024-09-20 16:22:37.612 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 16:22:37.614 +07:00 [DBG] Hosting started
2024-09-20 16:22:37.812 +07:00 [DBG] Connection id "0HN6PAN2DS0BG" accepted.
2024-09-20 16:22:37.812 +07:00 [DBG] Connection id "0HN6PAN2DS0BH" accepted.
2024-09-20 16:22:37.813 +07:00 [DBG] Connection id "0HN6PAN2DS0BH" started.
2024-09-20 16:22:37.813 +07:00 [DBG] Connection id "0HN6PAN2DS0BG" started.
2024-09-20 16:22:37.822 +07:00 [DBG] Connection id "0HN6PAN2DS0BG" received FIN.
2024-09-20 16:22:37.822 +07:00 [DBG] Connection id "0HN6PAN2DS0BH" received FIN.
2024-09-20 16:22:37.835 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 16:22:37.835 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 16:22:37.865 +07:00 [DBG] Connection id "0HN6PAN2DS0BH" stopped.
2024-09-20 16:22:37.865 +07:00 [DBG] Connection id "0HN6PAN2DS0BG" stopped.
2024-09-20 16:22:37.867 +07:00 [DBG] Connection id "0HN6PAN2DS0BH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 16:22:37.867 +07:00 [DBG] Connection id "0HN6PAN2DS0BG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 16:22:38.190 +07:00 [DBG] Connection id "0HN6PAN2DS0BI" accepted.
2024-09-20 16:22:38.194 +07:00 [DBG] Connection id "0HN6PAN2DS0BI" started.
2024-09-20 16:22:38.251 +07:00 [DBG] Connection 0HN6PAN2DS0BI established using the following protocol: "Tls12"
2024-09-20 16:22:38.330 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 16:22:38.385 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 16:22:38.650 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 16:22:38.778 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 16:22:38.778 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 16:22:38.779 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 16:22:38.787 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 7.5845ms
2024-09-20 16:22:38.787 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 462.4293ms
2024-09-20 16:22:38.818 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 39.3224ms
2024-09-20 16:22:38.847 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 16:22:38.993 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 145.9719ms
2024-09-20 16:22:42.935 +07:00 [DBG] Connection id "0HN6PAN2DS0BJ" accepted.
2024-09-20 16:22:42.938 +07:00 [DBG] Connection id "0HN6PAN2DS0BJ" started.
2024-09-20 16:22:42.939 +07:00 [DBG] Connection id "0HN6PAN2DS0BJ" received FIN.
2024-09-20 16:22:42.940 +07:00 [DBG] Connection id "0HN6PAN2DS0BK" accepted.
2024-09-20 16:22:42.947 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 16:22:42.948 +07:00 [DBG] Connection id "0HN6PAN2DS0BK" started.
2024-09-20 16:22:42.952 +07:00 [DBG] Connection id "0HN6PAN2DS0BJ" stopped.
2024-09-20 16:22:42.954 +07:00 [DBG] Connection id "0HN6PAN2DS0BJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 16:22:42.962 +07:00 [DBG] Connection 0HN6PAN2DS0BK established using the following protocol: "Tls12"
2024-09-20 16:22:42.970 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities - -
2024-09-20 16:22:42.973 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 16:22:42.990 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-20 16:22:42.996 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-20 16:22:42.997 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 16:22:43.000 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 16:22:43.025 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-20 16:22:43.026 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 16:22:43.027 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 16:22:43.028 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 16:22:43.028 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 16:22:43.029 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 16:22:43.030 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 16:22:43.141 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 16:22:43.260 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-20 16:22:43.891 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 16:22:43.928 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-09-20 16:22:44.142 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 16:22:44.176 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:22:44.217 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (38ms).
2024-09-20 16:22:44.227 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:22:44.241 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:22:44.249 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-20 16:22:44.267 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-20 16:22:44.285 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:22:44.306 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:22:44.307 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:22:44.313 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:22:44.318 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:22:44.323 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:22:44.342 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 16:22:44.345 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 16:22:44.345 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 16:22:44.346 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 16:22:44.346 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 16:22:44.347 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 16:22:44.461 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1427.671ms
2024-09-20 16:22:44.462 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-20 16:22:44.463 +07:00 [DBG] Connection id "0HN6PAN2DS0BK" completed keep alive response.
2024-09-20 16:22:44.466 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 16:22:44.469 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities - - - 200 380 application/json;+charset=utf-8 1498.1842ms
2024-09-20 16:47:07.790 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 16:47:07.934 +07:00 [DBG] Hosting starting
2024-09-20 16:47:08.178 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 16:47:08.201 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 16:47:08.201 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 16:47:08.201 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 16:47:08.202 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 16:47:08.202 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 16:47:08.203 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 16:47:08.205 +07:00 [INF] Hosting environment: Development
2024-09-20 16:47:08.205 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 16:47:08.206 +07:00 [DBG] Hosting started
2024-09-20 16:47:08.381 +07:00 [DBG] Connection id "0HN6PB4OMAO0B" received FIN.
2024-09-20 16:47:08.381 +07:00 [DBG] Connection id "0HN6PB4OMAO0A" received FIN.
2024-09-20 16:47:08.391 +07:00 [DBG] Connection id "0HN6PB4OMAO0B" accepted.
2024-09-20 16:47:08.391 +07:00 [DBG] Connection id "0HN6PB4OMAO0A" accepted.
2024-09-20 16:47:08.392 +07:00 [DBG] Connection id "0HN6PB4OMAO0B" started.
2024-09-20 16:47:08.392 +07:00 [DBG] Connection id "0HN6PB4OMAO0A" started.
2024-09-20 16:47:08.408 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 16:47:08.408 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 16:47:08.438 +07:00 [DBG] Connection id "0HN6PB4OMAO0B" stopped.
2024-09-20 16:47:08.439 +07:00 [DBG] Connection id "0HN6PB4OMAO0A" stopped.
2024-09-20 16:47:08.446 +07:00 [DBG] Connection id "0HN6PB4OMAO0A" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 16:47:08.446 +07:00 [DBG] Connection id "0HN6PB4OMAO0B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 16:47:08.471 +07:00 [DBG] Connection id "0HN6PB4OMAO0C" accepted.
2024-09-20 16:47:08.471 +07:00 [DBG] Connection id "0HN6PB4OMAO0C" started.
2024-09-20 16:47:08.509 +07:00 [DBG] Connection 0HN6PB4OMAO0C established using the following protocol: "Tls12"
2024-09-20 16:47:08.618 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 16:47:08.691 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 16:47:08.949 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 16:47:09.076 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 16:47:09.081 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 469.7137ms
2024-09-20 16:47:09.082 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 16:47:09.082 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 16:47:09.102 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 19.1938ms
2024-09-20 16:47:09.116 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.9347ms
2024-09-20 16:47:09.149 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 16:47:09.298 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 149.7538ms
2024-09-20 16:47:14.114 +07:00 [DBG] Connection id "0HN6PB4OMAO0D" accepted.
2024-09-20 16:47:14.114 +07:00 [DBG] Connection id "0HN6PB4OMAO0D" received FIN.
2024-09-20 16:47:14.115 +07:00 [DBG] Connection id "0HN6PB4OMAO0D" started.
2024-09-20 16:47:14.115 +07:00 [DBG] Connection id "0HN6PB4OMAO0E" accepted.
2024-09-20 16:47:14.117 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 16:47:14.118 +07:00 [DBG] Connection id "0HN6PB4OMAO0E" started.
2024-09-20 16:47:14.122 +07:00 [DBG] Connection id "0HN6PB4OMAO0D" stopped.
2024-09-20 16:47:14.123 +07:00 [DBG] Connection id "0HN6PB4OMAO0D" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 16:47:14.126 +07:00 [DBG] Connection 0HN6PB4OMAO0E established using the following protocol: "Tls12"
2024-09-20 16:47:14.132 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7139/api/cities/3/pointsofinterest application/json 117
2024-09-20 16:47:14.134 +07:00 [DBG] POST requests are not supported
2024-09-20 16:47:14.151 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-09-20 16:47:14.157 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-09-20 16:47:14.158 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:47:14.160 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:47:14.196 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 16:47:14.197 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 16:47:14.198 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 16:47:14.198 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 16:47:14.199 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 16:47:14.200 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 16:47:14.200 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:47:14.457 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 16:47:14.576 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:47:14.590 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:47:14.592 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 16:47:14.595 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:47:14.597 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:47:14.598 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:47:14.601 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:47:14.604 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-09-20 16:47:14.607 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-09-20 16:47:14.609 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-20 16:47:14.610 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-20 16:47:14.628 +07:00 [DBG] Connection id "0HN6PB4OMAO0E", Request id "0HN6PB4OMAO0E:00000002": started reading request body.
2024-09-20 16:47:14.629 +07:00 [DBG] Connection id "0HN6PB4OMAO0E", Request id "0HN6PB4OMAO0E:00000002": done reading request body.
2024-09-20 16:47:14.732 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 16:47:14.733 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 16:47:14.733 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-09-20 16:47:14.740 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 16:47:15.364 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 16:47:15.405 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-20 16:47:15.596 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 16:47:15.641 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:47:15.779 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (135ms).
2024-09-20 16:47:15.792 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:47:15.831 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:47:15.848 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:47:15.869 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:47:15.879 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:47:15.893 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:47:15.898 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:47:15.911 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-09-20 16:47:15.913 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-09-20 16:47:15.916 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-09-20 16:47:15.920 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 0 entities written to the database.
2024-09-20 16:47:15.925 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-20 16:47:15.953 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 16:47:15.962 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:47:15.963 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:47:15.963 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:47:15.964 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:47:15.964 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-20 16:47:15.965 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-20 16:47:15.978 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:47:16.013 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:47:16.013 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:47:16.014 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:47:16.017 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 16:47:16.022 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 16:47:16.022 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 16:47:16.023 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 16:47:16.023 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 16:47:16.024 +07:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-09-20 16:47:16.039 +07:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-09-20 16:47:16.046 +07:00 [DBG] Failed to process the template api/cities/{cityId}/pointsofinterest/{pointsofinterestId} for CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "GetPointOfInterest", "cityId": "3", "controller": "PointOfInterest" } and { "cityId": "3", "pointOfInterestId": "0" } with default values { "action": "GetPointOfInterest", "controller": "PointOfInterest" }
2024-09-20 16:47:16.048 +07:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest for CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/3/pointsofinterest and ?pointOfInterestId=0
2024-09-20 16:47:16.049 +07:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/3/pointsofinterest?pointOfInterestId=0
2024-09-20 16:47:16.086 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 1881.6812ms
2024-09-20 16:47:16.088 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:47:16.088 +07:00 [DBG] Connection id "0HN6PB4OMAO0E" completed keep alive response.
2024-09-20 16:47:16.092 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 16:47:16.094 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7139/api/cities/3/pointsofinterest application/json 117 - 201 111 application/json;+charset=utf-8 1961.8777ms
2024-09-20 16:48:14.988 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 16:48:15.081 +07:00 [DBG] Hosting starting
2024-09-20 16:48:15.300 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 16:48:15.336 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 16:48:15.345 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 16:48:15.346 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 16:48:15.346 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 16:48:15.346 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 16:48:15.347 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 16:48:15.348 +07:00 [INF] Hosting environment: Development
2024-09-20 16:48:15.348 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 16:48:15.348 +07:00 [DBG] Hosting started
2024-09-20 16:48:15.732 +07:00 [DBG] Connection id "0HN6PB5COKQAV" received FIN.
2024-09-20 16:48:15.740 +07:00 [DBG] Connection id "0HN6PB5COKQAV" accepted.
2024-09-20 16:48:15.741 +07:00 [DBG] Connection id "0HN6PB5COKQAV" started.
2024-09-20 16:48:15.753 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 16:48:15.777 +07:00 [DBG] Connection id "0HN6PB5COKQAV" stopped.
2024-09-20 16:48:15.780 +07:00 [DBG] Connection id "0HN6PB5COKQAV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 16:48:15.952 +07:00 [DBG] Connection id "0HN6PB5COKQB0" accepted.
2024-09-20 16:48:15.953 +07:00 [DBG] Connection id "0HN6PB5COKQB0" started.
2024-09-20 16:48:16.016 +07:00 [DBG] Connection 0HN6PB5COKQB0 established using the following protocol: "Tls12"
2024-09-20 16:48:16.246 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 16:48:16.317 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 16:48:16.549 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 16:48:16.677 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 16:48:16.690 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 16:48:16.690 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 16:48:16.692 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 454.7770ms
2024-09-20 16:48:16.700 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 10.0212ms
2024-09-20 16:48:16.717 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.6616ms
2024-09-20 16:48:16.744 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 16:48:16.960 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 215.7476ms
2024-09-20 16:48:27.435 +07:00 [DBG] Connection id "0HN6PB5COKQB1" accepted.
2024-09-20 16:48:27.435 +07:00 [DBG] Connection id "0HN6PB5COKQB1" received FIN.
2024-09-20 16:48:27.437 +07:00 [DBG] Connection id "0HN6PB5COKQB1" started.
2024-09-20 16:48:27.438 +07:00 [DBG] Connection id "0HN6PB5COKQB2" accepted.
2024-09-20 16:48:27.442 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 16:48:27.443 +07:00 [DBG] Connection id "0HN6PB5COKQB2" started.
2024-09-20 16:48:27.445 +07:00 [DBG] Connection id "0HN6PB5COKQB1" stopped.
2024-09-20 16:48:27.445 +07:00 [DBG] Connection id "0HN6PB5COKQB1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 16:48:27.450 +07:00 [DBG] Connection 0HN6PB5COKQB2 established using the following protocol: "Tls12"
2024-09-20 16:48:27.457 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7139/api/cities/3/pointsofinterest application/json 117
2024-09-20 16:48:27.459 +07:00 [DBG] POST requests are not supported
2024-09-20 16:48:27.475 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-09-20 16:48:27.481 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-09-20 16:48:27.482 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:48:27.485 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:48:27.516 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 16:48:27.518 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 16:48:27.518 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 16:48:27.519 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 16:48:27.519 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 16:48:27.520 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 16:48:27.521 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:48:27.623 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 16:48:27.735 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:48:27.743 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:48:27.745 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 16:48:27.746 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:48:27.746 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:48:27.747 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:48:27.748 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:48:27.750 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-09-20 16:48:27.751 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-09-20 16:48:27.752 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-20 16:48:27.752 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-20 16:48:27.763 +07:00 [DBG] Connection id "0HN6PB5COKQB2", Request id "0HN6PB5COKQB2:00000002": started reading request body.
2024-09-20 16:48:27.764 +07:00 [DBG] Connection id "0HN6PB5COKQB2", Request id "0HN6PB5COKQB2:00000002": done reading request body.
2024-09-20 16:48:27.850 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 16:48:27.851 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 16:48:27.852 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-09-20 16:48:27.857 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 16:48:28.464 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 16:48:28.505 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-20 16:48:28.700 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 16:48:28.746 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:48:28.792 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (42ms).
2024-09-20 16:48:28.802 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:48:28.815 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:48:28.827 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:48:28.845 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:48:28.854 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:48:28.860 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:48:28.864 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:48:31.485 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-09-20 16:48:31.487 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-09-20 16:48:31.492 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-09-20 16:48:31.495 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 0 entities written to the database.
2024-09-20 16:48:54.473 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-20 16:48:54.503 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 16:48:54.512 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:48:54.513 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:48:54.513 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:48:54.514 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:48:54.514 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-20 16:48:54.515 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-20 16:48:54.528 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:48:54.547 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:48:54.548 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:48:54.548 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:49:28.048 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 16:49:28.142 +07:00 [DBG] Hosting starting
2024-09-20 16:49:28.320 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 16:49:28.351 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 16:49:28.352 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 16:49:28.352 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 16:49:28.352 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 16:49:28.353 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 16:49:28.354 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 16:49:28.355 +07:00 [INF] Hosting environment: Development
2024-09-20 16:49:28.355 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 16:49:28.355 +07:00 [DBG] Hosting started
2024-09-20 16:49:28.509 +07:00 [DBG] Connection id "0HN6PB62ELOED" accepted.
2024-09-20 16:49:28.509 +07:00 [DBG] Connection id "0HN6PB62ELOEC" accepted.
2024-09-20 16:49:28.511 +07:00 [DBG] Connection id "0HN6PB62ELOEC" started.
2024-09-20 16:49:28.511 +07:00 [DBG] Connection id "0HN6PB62ELOED" started.
2024-09-20 16:49:28.528 +07:00 [DBG] Connection id "0HN6PB62ELOED" received FIN.
2024-09-20 16:49:28.528 +07:00 [DBG] Connection id "0HN6PB62ELOEC" received FIN.
2024-09-20 16:49:28.542 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 16:49:28.542 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 16:49:28.570 +07:00 [DBG] Connection id "0HN6PB62ELOED" stopped.
2024-09-20 16:49:28.570 +07:00 [DBG] Connection id "0HN6PB62ELOEC" stopped.
2024-09-20 16:49:28.571 +07:00 [DBG] Connection id "0HN6PB62ELOED" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 16:49:28.571 +07:00 [DBG] Connection id "0HN6PB62ELOEC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 16:49:28.955 +07:00 [DBG] Connection id "0HN6PB62ELOEE" accepted.
2024-09-20 16:49:28.962 +07:00 [DBG] Connection id "0HN6PB62ELOEE" started.
2024-09-20 16:49:29.053 +07:00 [DBG] Connection 0HN6PB62ELOEE established using the following protocol: "Tls12"
2024-09-20 16:49:29.145 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 16:49:29.190 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 16:49:29.536 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 16:49:29.672 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 16:49:29.673 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 16:49:29.683 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 16:49:29.683 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 546.1910ms
2024-09-20 16:49:29.684 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 11.6160ms
2024-09-20 16:49:29.714 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.6768ms
2024-09-20 16:49:29.749 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 16:49:29.884 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 135.0076ms
2024-09-20 16:49:33.906 +07:00 [DBG] Connection id "0HN6PB62ELOEF" accepted.
2024-09-20 16:49:33.910 +07:00 [DBG] Connection id "0HN6PB62ELOEF" received FIN.
2024-09-20 16:49:33.910 +07:00 [DBG] Connection id "0HN6PB62ELOEF" started.
2024-09-20 16:49:33.912 +07:00 [DBG] Connection id "0HN6PB62ELOEG" accepted.
2024-09-20 16:49:33.914 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 16:49:33.914 +07:00 [DBG] Connection id "0HN6PB62ELOEG" started.
2024-09-20 16:49:33.918 +07:00 [DBG] Connection id "0HN6PB62ELOEF" stopped.
2024-09-20 16:49:33.919 +07:00 [DBG] Connection id "0HN6PB62ELOEF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 16:49:33.921 +07:00 [DBG] Connection 0HN6PB62ELOEG established using the following protocol: "Tls12"
2024-09-20 16:49:33.930 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7139/api/cities/3/pointsofinterest application/json 117
2024-09-20 16:49:33.932 +07:00 [DBG] POST requests are not supported
2024-09-20 16:49:33.949 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-09-20 16:49:33.954 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-09-20 16:49:33.955 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:49:33.957 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:49:33.987 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 16:49:33.988 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 16:49:33.989 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 16:49:33.990 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 16:49:33.991 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 16:49:33.991 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 16:49:33.992 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:49:34.093 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 16:49:34.204 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:49:34.214 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:49:34.216 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 16:49:34.217 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:49:34.217 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:49:34.217 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:49:34.219 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:49:34.220 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-09-20 16:49:34.221 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-09-20 16:49:34.222 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-20 16:49:34.223 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-20 16:49:34.234 +07:00 [DBG] Connection id "0HN6PB62ELOEG", Request id "0HN6PB62ELOEG:00000002": started reading request body.
2024-09-20 16:49:34.235 +07:00 [DBG] Connection id "0HN6PB62ELOEG", Request id "0HN6PB62ELOEG:00000002": done reading request body.
2024-09-20 16:49:34.343 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 16:49:34.344 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 16:49:34.344 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-09-20 16:49:34.349 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 16:49:34.953 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 16:49:34.991 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-20 16:49:35.195 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 16:49:35.247 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:49:35.291 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (42ms).
2024-09-20 16:49:35.301 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:49:35.315 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:49:35.326 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:49:35.345 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:49:35.354 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:49:35.360 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:49:35.364 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:49:35.372 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-20 16:49:35.401 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 16:49:35.410 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:49:35.410 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:49:35.411 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:49:35.411 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:49:35.412 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-20 16:49:35.412 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-20 16:49:35.425 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:49:35.445 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:49:35.445 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:49:35.446 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:49:35.451 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-09-20 16:49:35.453 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-09-20 16:49:35.470 +07:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfInterests'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:49:35.496 +07:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:49:35.517 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:49:35.520 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-09-20 16:49:35.535 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:49:35.536 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:49:35.538 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-20 16:49:35.555 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-20 16:49:35.604 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:49:35.605 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:49:35.606 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2024-09-20 16:49:35.610 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2024-09-20 16:49:35.627 +07:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-20 16:49:35.632 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:49:35.639 +07:00 [DBG] Committing transaction.
2024-09-20 16:49:35.696 +07:00 [DBG] Committed transaction.
2024-09-20 16:49:35.702 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:49:35.702 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:49:35.705 +07:00 [DBG] Disposing transaction.
2024-09-20 16:49:35.714 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:49:35.716 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-09-20 16:49:35.719 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 16:49:35.722 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 16:49:35.722 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 16:49:35.722 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 16:49:35.723 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 16:49:35.724 +07:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-09-20 16:49:35.738 +07:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-09-20 16:49:35.746 +07:00 [DBG] Failed to process the template api/cities/{cityId}/pointsofinterest/{pointsofinterestId} for CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "GetPointOfInterest", "cityId": "3", "controller": "PointOfInterest" } and { "cityId": "3", "pointOfInterestId": "5" } with default values { "action": "GetPointOfInterest", "controller": "PointOfInterest" }
2024-09-20 16:49:35.749 +07:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest for CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/3/pointsofinterest and ?pointOfInterestId=5
2024-09-20 16:49:35.750 +07:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/3/pointsofinterest?pointOfInterestId=5
2024-09-20 16:49:35.787 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 1791.2071ms
2024-09-20 16:49:35.788 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:49:35.789 +07:00 [DBG] Connection id "0HN6PB62ELOEG" completed keep alive response.
2024-09-20 16:49:35.793 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 16:49:35.796 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7139/api/cities/3/pointsofinterest application/json 117 - 201 111 application/json;+charset=utf-8 1865.6699ms
2024-09-20 16:49:53.818 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/3/pointsofinterest/5 - -
2024-09-20 16:49:53.819 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 16:49:53.820 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/5'
2024-09-20 16:49:53.820 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/3/pointsofinterest/5'
2024-09-20 16:49:53.821 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:49:53.822 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:49:53.832 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 16:49:53.836 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 16:49:53.838 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 16:49:53.841 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 16:49:53.844 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 16:49:53.846 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 16:49:53.847 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:49:53.855 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 16:49:53.856 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:49:53.856 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 16:49:53.857 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:49:53.858 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:49:53.859 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 16:49:53.860 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 16:49:53.860 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 16:49:53.861 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 16:49:53.861 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 16:49:53.862 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 16:49:53.862 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 16:49:53.863 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 16:49:53.871 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 16:49:53.877 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:49:53.877 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:49:53.878 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:49:53.878 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:49:53.879 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:49:53.879 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 16:49:53.880 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:49:53.880 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:49:53.881 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:49:53.886 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-20 16:49:53.888 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 16:49:53.890 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 16:49:53.891 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 16:49:53.891 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:49:53.892 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:49:53.892 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 16:49:53.893 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 16:49:53.894 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 16:49:53.895 +07:00 [DBG] A data reader was disposed.
2024-09-20 16:49:53.895 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 16:49:53.895 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 16:49:53.902 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 16:49:53.903 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 16:49:53.904 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 16:49:53.904 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 16:49:53.904 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 16:49:53.905 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 16:49:53.912 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 65.3507ms
2024-09-20 16:49:53.913 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 16:49:53.913 +07:00 [DBG] Connection id "0HN6PB62ELOEG" completed keep alive response.
2024-09-20 16:49:53.914 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 16:49:53.914 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/3/pointsofinterest/5 - - - 200 113 application/json;+charset=utf-8 95.9609ms
2024-09-20 17:26:35.330 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-20 17:26:35.505 +07:00 [DBG] Hosting starting
2024-09-20 17:26:35.739 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-20 17:26:35.766 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-20 17:26:35.767 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-20 17:26:35.767 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-20 17:26:35.767 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-20 17:26:35.768 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-20 17:26:35.773 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-20 17:26:35.776 +07:00 [INF] Hosting environment: Development
2024-09-20 17:26:35.777 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-20 17:26:35.778 +07:00 [DBG] Hosting started
2024-09-20 17:26:36.262 +07:00 [DBG] Connection id "0HN6PBQQC6KT6" received FIN.
2024-09-20 17:26:36.262 +07:00 [DBG] Connection id "0HN6PBQQC6KT7" received FIN.
2024-09-20 17:26:36.268 +07:00 [DBG] Connection id "0HN6PBQQC6KT6" accepted.
2024-09-20 17:26:36.268 +07:00 [DBG] Connection id "0HN6PBQQC6KT7" accepted.
2024-09-20 17:26:36.269 +07:00 [DBG] Connection id "0HN6PBQQC6KT7" started.
2024-09-20 17:26:36.269 +07:00 [DBG] Connection id "0HN6PBQQC6KT6" started.
2024-09-20 17:26:36.281 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 17:26:36.281 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 17:26:36.307 +07:00 [DBG] Connection id "0HN6PBQQC6KT6" stopped.
2024-09-20 17:26:36.307 +07:00 [DBG] Connection id "0HN6PBQQC6KT7" stopped.
2024-09-20 17:26:36.312 +07:00 [DBG] Connection id "0HN6PBQQC6KT6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 17:26:36.312 +07:00 [DBG] Connection id "0HN6PBQQC6KT7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 17:26:36.757 +07:00 [DBG] Connection id "0HN6PBQQC6KT8" accepted.
2024-09-20 17:26:36.758 +07:00 [DBG] Connection id "0HN6PBQQC6KT8" started.
2024-09-20 17:26:36.873 +07:00 [DBG] Connection 0HN6PBQQC6KT8 established using the following protocol: "Tls12"
2024-09-20 17:26:36.943 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-20 17:26:36.979 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-20 17:26:37.172 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-20 17:26:37.283 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-20 17:26:37.293 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 359.3215ms
2024-09-20 17:26:37.297 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-20 17:26:37.297 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-20 17:26:37.314 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 17.0983ms
2024-09-20 17:26:37.333 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 35.5317ms
2024-09-20 17:26:37.365 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-20 17:26:37.530 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 165.5224ms
2024-09-20 17:26:47.200 +07:00 [DBG] Connection id "0HN6PBQQC6KT9" accepted.
2024-09-20 17:26:47.200 +07:00 [DBG] Connection id "0HN6PBQQC6KT9" received FIN.
2024-09-20 17:26:47.201 +07:00 [DBG] Connection id "0HN6PBQQC6KT9" started.
2024-09-20 17:26:47.202 +07:00 [DBG] Connection id "0HN6PBQQC6KTA" accepted.
2024-09-20 17:26:47.204 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-20 17:26:47.204 +07:00 [DBG] Connection id "0HN6PBQQC6KTA" started.
2024-09-20 17:26:47.206 +07:00 [DBG] Connection id "0HN6PBQQC6KT9" stopped.
2024-09-20 17:26:47.207 +07:00 [DBG] Connection id "0HN6PBQQC6KT9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-20 17:26:47.210 +07:00 [DBG] Connection 0HN6PBQQC6KTA established using the following protocol: "Tls12"
2024-09-20 17:26:47.217 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7139/api/cities/3/pointsofinterest application/json 119
2024-09-20 17:26:47.219 +07:00 [DBG] POST requests are not supported
2024-09-20 17:26:47.240 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-09-20 17:26:47.245 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-09-20 17:26:47.246 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 17:26:47.248 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 17:26:47.283 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 17:26:47.284 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 17:26:47.285 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 17:26:47.286 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 17:26:47.288 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 17:26:47.289 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 17:26:47.290 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 17:26:47.402 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-20 17:26:47.515 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 17:26:47.526 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 17:26:47.528 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 17:26:47.528 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 17:26:47.529 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 17:26:47.529 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 17:26:47.531 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 17:26:47.533 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-09-20 17:26:47.534 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-09-20 17:26:47.535 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-20 17:26:47.536 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-20 17:26:47.549 +07:00 [DBG] Connection id "0HN6PBQQC6KTA", Request id "0HN6PBQQC6KTA:00000002": started reading request body.
2024-09-20 17:26:47.550 +07:00 [DBG] Connection id "0HN6PBQQC6KTA", Request id "0HN6PBQQC6KTA:00000002": done reading request body.
2024-09-20 17:26:47.644 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 17:26:47.646 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 17:26:47.646 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-09-20 17:26:47.651 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-20 17:26:48.318 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 17:26:48.364 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-20 17:26:48.581 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 17:26:48.628 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 17:26:48.673 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (41ms).
2024-09-20 17:26:48.684 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 17:26:48.699 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 17:26:48.712 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 17:26:48.733 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 17:26:48.744 +07:00 [DBG] A data reader was disposed.
2024-09-20 17:26:48.749 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 17:26:48.755 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 17:26:48.763 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-20 17:26:48.792 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-20 17:26:48.800 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 17:26:48.801 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 17:26:48.801 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 17:26:48.802 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 17:26:48.802 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-20 17:26:48.804 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-20 17:26:48.825 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 17:26:48.844 +07:00 [DBG] A data reader was disposed.
2024-09-20 17:26:48.844 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 17:26:48.845 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 17:26:48.850 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-09-20 17:26:48.853 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-09-20 17:26:48.869 +07:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfInterests'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 17:26:48.895 +07:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 17:26:48.917 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 17:26:48.921 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-09-20 17:26:48.941 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 17:26:48.942 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 17:26:48.944 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-20 17:26:48.948 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-20 17:26:48.993 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 17:26:48.994 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 17:26:48.995 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2024-09-20 17:26:48.997 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 15)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2024-09-20 17:26:49.017 +07:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-20 17:26:49.026 +07:00 [DBG] A data reader was disposed.
2024-09-20 17:26:49.031 +07:00 [DBG] Committing transaction.
2024-09-20 17:26:49.060 +07:00 [DBG] Committed transaction.
2024-09-20 17:26:49.064 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 17:26:49.065 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 17:26:49.069 +07:00 [DBG] Disposing transaction.
2024-09-20 17:26:49.080 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 17:26:49.082 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-09-20 17:26:49.084 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 17:26:49.090 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 17:26:49.090 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 17:26:49.091 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 17:26:49.091 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 17:26:49.092 +07:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-09-20 17:26:49.108 +07:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-09-20 17:26:49.115 +07:00 [DBG] Failed to process the template api/cities/{cityId}/pointsofinterest/{pointsofinterestId} for CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API). A required route value is missing, or has a different value from the required default values. Supplied ambient values { "action": "GetPointOfInterest", "cityId": "3", "controller": "PointOfInterest" } and { "cityId": "3", "pointOfInterestId": "6" } with default values { "action": "GetPointOfInterest", "controller": "PointOfInterest" }
2024-09-20 17:26:49.118 +07:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest for CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/3/pointsofinterest and ?pointOfInterestId=6
2024-09-20 17:26:49.119 +07:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)","CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/3/pointsofinterest?pointOfInterestId=6
2024-09-20 17:26:49.159 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 1865.0485ms
2024-09-20 17:26:49.161 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 17:26:49.162 +07:00 [DBG] Connection id "0HN6PBQQC6KTA" completed keep alive response.
2024-09-20 17:26:49.165 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 17:26:49.168 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7139/api/cities/3/pointsofinterest application/json 119 - 201 113 application/json;+charset=utf-8 1950.6467ms
2024-09-20 17:26:56.305 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/3/pointsofinterest/5 - -
2024-09-20 17:26:56.306 +07:00 [DBG] The request path  does not match the path filter
2024-09-20 17:26:56.306 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/5'
2024-09-20 17:26:56.307 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/3/pointsofinterest/5'
2024-09-20 17:26:56.308 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 17:26:56.308 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 17:26:56.310 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-20 17:26:56.311 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-20 17:26:56.312 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-20 17:26:56.312 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-20 17:26:56.313 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-20 17:26:56.313 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-20 17:26:56.314 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 17:26:56.323 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-20 17:26:56.324 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-20 17:26:56.324 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-20 17:26:56.325 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 17:26:56.325 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-20 17:26:56.326 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-20 17:26:56.326 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-20 17:26:56.326 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 17:26:56.327 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-20 17:26:56.328 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 17:26:56.328 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 17:26:56.328 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-20 17:26:56.329 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-20 17:26:56.332 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-20 17:26:56.342 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 17:26:56.342 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 17:26:56.343 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 17:26:56.343 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 17:26:56.344 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 17:26:56.345 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-20 17:26:56.346 +07:00 [DBG] A data reader was disposed.
2024-09-20 17:26:56.347 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 17:26:56.347 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 17:26:56.352 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-20 17:26:56.358 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-20 17:26:56.360 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-20 17:26:56.361 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-20 17:26:56.361 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-20 17:26:56.362 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 17:26:56.362 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 17:26:56.363 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-20 17:26:56.364 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-20 17:26:56.365 +07:00 [DBG] A data reader was disposed.
2024-09-20 17:26:56.365 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-20 17:26:56.365 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-20 17:26:56.375 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-20 17:26:56.377 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-20 17:26:56.377 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-20 17:26:56.377 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-20 17:26:56.378 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-20 17:26:56.378 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-20 17:26:56.384 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 69.9494ms
2024-09-20 17:26:56.385 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-20 17:26:56.385 +07:00 [DBG] Connection id "0HN6PBQQC6KTA" completed keep alive response.
2024-09-20 17:26:56.387 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-20 17:26:56.388 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/3/pointsofinterest/5 - - - 200 113 application/json;+charset=utf-8 83.1324ms
