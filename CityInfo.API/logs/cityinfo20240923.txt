2024-09-23 09:07:21.750 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 09:07:21.868 +07:00 [DBG] Hosting starting
2024-09-23 09:07:22.188 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 09:07:22.233 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 09:07:22.233 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 09:07:22.234 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 09:07:22.234 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 09:07:22.234 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 09:07:22.235 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 09:07:22.236 +07:00 [INF] Hosting environment: Development
2024-09-23 09:07:22.236 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 09:07:22.237 +07:00 [DBG] Hosting started
2024-09-23 09:07:22.322 +07:00 [DBG] Connection id "0HN6REHR107R0" received FIN.
2024-09-23 09:07:22.329 +07:00 [DBG] Connection id "0HN6REHR107R0" accepted.
2024-09-23 09:07:22.332 +07:00 [DBG] Connection id "0HN6REHR107R0" started.
2024-09-23 09:07:22.361 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 09:07:22.448 +07:00 [DBG] Connection id "0HN6REHR107R1" accepted.
2024-09-23 09:07:22.449 +07:00 [DBG] Connection id "0HN6REHR107R1" started.
2024-09-23 09:07:22.455 +07:00 [DBG] Connection id "0HN6REHR107R0" stopped.
2024-09-23 09:07:22.460 +07:00 [DBG] Connection id "0HN6REHR107R0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 09:07:22.558 +07:00 [DBG] Connection 0HN6REHR107R1 established using the following protocol: "Tls12"
2024-09-23 09:07:22.645 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 09:07:22.698 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 09:07:22.907 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 09:07:23.063 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 09:07:23.069 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 09:07:23.069 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 427.9390ms
2024-09-23 09:07:23.074 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 5.5914ms
2024-09-23 09:07:23.116 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 09:07:23.141 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 24.4259ms
2024-09-23 09:07:23.172 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 09:07:23.352 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 180.0467ms
2024-09-23 09:09:30.711 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7139/api/cities/1/pointsofinterest application/json-patch+json 47
2024-09-23 09:09:30.717 +07:00 [DBG] POST requests are not supported
2024-09-23 09:09:30.742 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2024-09-23 09:09:30.747 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2024-09-23 09:09:30.748 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-09-23 09:09:30.751 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-09-23 09:09:30.827 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 09:09:30.828 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 09:09:30.829 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 09:09:30.829 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 09:09:30.830 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 09:09:30.830 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 09:09:30.832 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 09:09:31.113 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 09:09:31.245 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 09:09:31.260 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 09:09:31.261 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 09:09:31.263 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:09:31.263 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:09:31.264 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 09:09:31.266 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:09:31.268 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-09-23 09:09:31.270 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-09-23 09:09:31.271 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-09-23 09:09:31.272 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-09-23 09:09:31.312 +07:00 [DBG] Connection id "0HN6REHR107R1", Request id "0HN6REHR107R1:00000009": started reading request body.
2024-09-23 09:09:31.313 +07:00 [DBG] Connection id "0HN6REHR107R1", Request id "0HN6REHR107R1:00000009": done reading request body.
2024-09-23 09:09:31.418 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-23 09:09:31.419 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-23 09:09:31.420 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-09-23 09:09:31.426 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-23 09:09:32.108 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 09:09:32.145 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-23 09:09:32.340 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 09:09:32.383 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 09:09:32.554 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (168ms).
2024-09-23 09:09:32.566 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:09:32.637 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:09:32.658 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 09:09:32.680 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 09:09:32.692 +07:00 [DBG] A data reader was disposed.
2024-09-23 09:09:32.704 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:09:32.709 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:09:32.721 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-23 09:09:32.759 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 09:09:32.767 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 09:09:32.768 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 09:09:32.769 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:09:32.770 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:09:32.770 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-23 09:09:32.772 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-23 09:09:32.789 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 09:09:32.818 +07:00 [DBG] A data reader was disposed.
2024-09-23 09:09:32.819 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:09:32.819 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:09:32.825 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-09-23 09:09:32.827 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-09-23 09:09:32.846 +07:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfInterests'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 09:09:32.870 +07:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 09:09:32.891 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 09:09:32.894 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-09-23 09:09:32.910 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:09:32.911 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:09:32.913 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-23 09:09:32.917 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-23 09:09:32.963 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 09:09:32.963 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 09:09:32.964 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 5), @p2='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2024-09-23 09:09:32.968 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 5), @p2='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2024-09-23 09:09:32.987 +07:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-23 09:09:32.992 +07:00 [DBG] A data reader was disposed.
2024-09-23 09:09:32.997 +07:00 [DBG] Committing transaction.
2024-09-23 09:09:33.057 +07:00 [DBG] Committed transaction.
2024-09-23 09:09:33.061 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:09:33.062 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:09:33.065 +07:00 [DBG] Disposing transaction.
2024-09-23 09:09:33.076 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 09:09:33.078 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-09-23 09:09:33.082 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 09:09:33.089 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-23 09:09:33.089 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-23 09:09:33.091 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-09-23 09:09:33.095 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.CreatePointOfInterest (CityInfo.API) in 2260.5249ms
2024-09-23 09:09:33.097 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-09-23 09:09:33.102 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 09:09:33.106 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7139/api/cities/1/pointsofinterest application/json-patch+json 47 - 406 0 - 2394.3825ms
2024-09-23 09:09:39.296 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/api/cities - -
2024-09-23 09:09:39.297 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 09:09:39.299 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 09:09:39.300 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 09:09:39.301 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 09:09:39.302 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 09:09:39.305 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 09:09:39.306 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 09:09:39.307 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 09:09:39.307 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 09:09:39.308 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 09:09:39.308 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 09:09:39.309 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 09:09:39.314 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 09:09:39.324 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 09:09:39.361 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-09-23 09:09:39.367 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 09:09:39.368 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 09:09:39.368 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 09:09:39.369 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:09:39.370 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:09:39.371 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-23 09:09:39.372 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-23 09:09:39.372 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 09:09:39.373 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 09:09:39.373 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 09:09:39.374 +07:00 [DBG] A data reader was disposed.
2024-09-23 09:09:39.374 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:09:39.375 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:09:39.385 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 09:09:39.388 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-23 09:09:39.389 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-23 09:09:39.389 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-09-23 09:09:39.390 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 80.8775ms
2024-09-23 09:09:39.390 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 09:09:39.390 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 09:09:39.391 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/api/cities - - - 406 0 - 94.8756ms
2024-09-23 09:10:45.807 +07:00 [DBG] Connection id "0HN6REHR107R2" accepted.
2024-09-23 09:10:45.809 +07:00 [DBG] Connection id "0HN6REHR107R2" started.
2024-09-23 09:10:45.814 +07:00 [DBG] Connection id "0HN6REHR107R2" received FIN.
2024-09-23 09:10:45.809 +07:00 [DBG] Connection id "0HN6REHR107R3" accepted.
2024-09-23 09:10:45.827 +07:00 [DBG] Connection id "0HN6REHR107R3" started.
2024-09-23 09:10:45.828 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 09:10:45.832 +07:00 [DBG] Connection id "0HN6REHR107R2" stopped.
2024-09-23 09:10:45.833 +07:00 [DBG] Connection id "0HN6REHR107R2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 09:10:45.833 +07:00 [DBG] Connection 0HN6REHR107R3 established using the following protocol: "Tls12"
2024-09-23 09:10:45.843 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7139/api/cities/3/pointsofinterest application/json 117
2024-09-23 09:10:45.843 +07:00 [DBG] POST requests are not supported
2024-09-23 09:10:45.843 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2024-09-23 09:10:45.844 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest'
2024-09-23 09:10:45.844 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-09-23 09:10:45.845 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-09-23 09:10:45.846 +07:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 09:10:45.847 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 09:10:45.848 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 09:10:45.848 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 09:10:45.849 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 09:10:45.849 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 09:10:45.850 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 09:10:45.852 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 09:10:45.853 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 09:10:45.853 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 09:10:45.854 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:10:45.854 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:10:45.855 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 09:10:45.856 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:10:45.856 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-09-23 09:10:45.857 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-09-23 09:10:45.857 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-23 09:10:45.858 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-23 09:10:45.860 +07:00 [DBG] Connection id "0HN6REHR107R3", Request id "0HN6REHR107R3:00000002": started reading request body.
2024-09-23 09:10:45.861 +07:00 [DBG] Connection id "0HN6REHR107R3", Request id "0HN6REHR107R3:00000002": done reading request body.
2024-09-23 09:10:45.861 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-23 09:10:45.862 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-23 09:10:45.862 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-09-23 09:10:45.863 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-09-23 09:10:45.899 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 09:10:45.903 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 09:10:45.904 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 09:10:45.905 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:10:45.906 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:10:45.907 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 09:10:45.908 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 09:10:45.909 +07:00 [DBG] A data reader was disposed.
2024-09-23 09:10:45.910 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:10:45.910 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:10:45.911 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 09:10:45.911 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 09:10:45.912 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:10:45.912 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:10:45.912 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-23 09:10:45.913 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-23 09:10:45.914 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 09:10:45.915 +07:00 [DBG] A data reader was disposed.
2024-09-23 09:10:45.915 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:10:45.915 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:10:45.916 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-09-23 09:10:45.916 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-09-23 09:10:45.917 +07:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfInterests'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 09:10:45.917 +07:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 09:10:45.918 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 09:10:45.918 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-09-23 09:10:45.919 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:10:45.919 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:10:45.920 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-23 09:10:45.920 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-23 09:10:45.921 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 09:10:45.921 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 09:10:45.922 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2024-09-23 09:10:45.924 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 62), @p2='?' (Size = 13)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterests" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterests"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2024-09-23 09:10:45.926 +07:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-23 09:10:45.926 +07:00 [DBG] A data reader was disposed.
2024-09-23 09:10:45.926 +07:00 [DBG] Committing transaction.
2024-09-23 09:10:45.961 +07:00 [DBG] Committed transaction.
2024-09-23 09:10:45.962 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:10:45.962 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:10:45.963 +07:00 [DBG] Disposing transaction.
2024-09-23 09:10:45.963 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 09:10:45.964 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-09-23 09:10:45.964 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 09:10:45.965 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 09:10:45.965 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 09:10:45.966 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 09:10:45.966 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 09:10:45.967 +07:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-09-23 09:10:45.983 +07:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointOfInterestController.CreatePointOfInterest (CityInfo.API)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2024-09-23 09:10:45.995 +07:00 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest for CityInfo.API.Controllers.PointOfInterestController.CreatePointOfInterest (CityInfo.API) resulting in /api/cities/3/pointsofinterest and ?pointOfInterestId=8
2024-09-23 09:10:45.997 +07:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointOfInterestController.CreatePointOfInterest (CityInfo.API)"] with result /api/cities/3/pointsofinterest?pointOfInterestId=8
2024-09-23 09:10:46.052 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.CreatePointOfInterest (CityInfo.API) in 202.006ms
2024-09-23 09:10:46.052 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-09-23 09:10:46.053 +07:00 [DBG] Connection id "0HN6REHR107R3" completed keep alive response.
2024-09-23 09:10:46.053 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 09:10:46.054 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7139/api/cities/3/pointsofinterest application/json 117 - 201 111 application/json;+charset=utf-8 211.0757ms
2024-09-23 09:10:52.519 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities - -
2024-09-23 09:10:52.519 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 09:10:52.520 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 09:10:52.520 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 09:10:52.521 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 09:10:52.521 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 09:10:52.521 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 09:10:52.522 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 09:10:52.523 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 09:10:52.524 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 09:10:52.526 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 09:10:52.526 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 09:10:52.527 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 09:10:52.527 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 09:10:52.528 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 09:10:52.529 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 09:10:52.530 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 09:10:52.530 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:10:52.531 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:10:52.531 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-23 09:10:52.532 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-23 09:10:52.533 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 09:10:52.533 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 09:10:52.534 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 09:10:52.534 +07:00 [DBG] A data reader was disposed.
2024-09-23 09:10:52.534 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:10:52.535 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:10:52.535 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 09:10:52.536 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 09:10:52.536 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 09:10:52.537 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 09:10:52.537 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 09:10:52.538 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 09:10:52.547 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 20.0159ms
2024-09-23 09:10:52.547 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 09:10:52.548 +07:00 [DBG] Connection id "0HN6REHR107R3" completed keep alive response.
2024-09-23 09:10:52.548 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 09:10:52.549 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities - - - 200 380 application/json;+charset=utf-8 30.2585ms
2024-09-23 09:30:28.520 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 09:30:28.609 +07:00 [DBG] Hosting starting
2024-09-23 09:30:28.762 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 09:30:28.795 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 09:30:28.796 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 09:30:28.799 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 09:30:28.800 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 09:30:28.801 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 09:30:28.802 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 09:30:28.803 +07:00 [INF] Hosting environment: Development
2024-09-23 09:30:28.803 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 09:30:28.804 +07:00 [DBG] Hosting started
2024-09-23 09:30:29.241 +07:00 [DBG] Connection id "0HN6REUOBLN7A" received FIN.
2024-09-23 09:30:29.241 +07:00 [DBG] Connection id "0HN6REUOBLN79" received FIN.
2024-09-23 09:30:29.243 +07:00 [DBG] Connection id "0HN6REUOBLN7A" accepted.
2024-09-23 09:30:29.243 +07:00 [DBG] Connection id "0HN6REUOBLN79" accepted.
2024-09-23 09:30:29.245 +07:00 [DBG] Connection id "0HN6REUOBLN7A" started.
2024-09-23 09:30:29.245 +07:00 [DBG] Connection id "0HN6REUOBLN79" started.
2024-09-23 09:30:29.265 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 09:30:29.265 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 09:30:29.298 +07:00 [DBG] Connection id "0HN6REUOBLN79" stopped.
2024-09-23 09:30:29.298 +07:00 [DBG] Connection id "0HN6REUOBLN7A" stopped.
2024-09-23 09:30:29.301 +07:00 [DBG] Connection id "0HN6REUOBLN79" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 09:30:29.301 +07:00 [DBG] Connection id "0HN6REUOBLN7A" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 09:30:29.754 +07:00 [DBG] Connection id "0HN6REUOBLN7B" accepted.
2024-09-23 09:30:29.755 +07:00 [DBG] Connection id "0HN6REUOBLN7B" started.
2024-09-23 09:30:29.796 +07:00 [DBG] Connection 0HN6REUOBLN7B established using the following protocol: "Tls12"
2024-09-23 09:30:29.871 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 09:30:29.911 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 09:30:30.098 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 09:30:30.207 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 09:30:30.213 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 346.5570ms
2024-09-23 09:30:30.227 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 09:30:30.227 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 09:30:30.237 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 10.2559ms
2024-09-23 09:30:30.254 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.9605ms
2024-09-23 09:30:30.279 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 09:30:30.426 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 146.7529ms
2024-09-23 09:30:36.537 +07:00 [DBG] Connection id "0HN6REUOBLN7C" accepted.
2024-09-23 09:30:36.537 +07:00 [DBG] Connection id "0HN6REUOBLN7C" received FIN.
2024-09-23 09:30:36.538 +07:00 [DBG] Connection id "0HN6REUOBLN7C" started.
2024-09-23 09:30:36.539 +07:00 [DBG] Connection id "0HN6REUOBLN7D" accepted.
2024-09-23 09:30:36.541 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 09:30:36.541 +07:00 [DBG] Connection id "0HN6REUOBLN7D" started.
2024-09-23 09:30:36.542 +07:00 [DBG] Connection id "0HN6REUOBLN7C" stopped.
2024-09-23 09:30:36.543 +07:00 [DBG] Connection id "0HN6REUOBLN7C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 09:30:36.545 +07:00 [DBG] Connection 0HN6REUOBLN7D established using the following protocol: "Tls12"
2024-09-23 09:30:36.553 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 09:30:36.555 +07:00 [DBG] PUT requests are not supported
2024-09-23 09:30:36.572 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 09:30:36.576 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 09:30:36.577 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 09:30:36.579 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 09:30:36.610 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 09:30:36.611 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 09:30:36.612 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 09:30:36.612 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 09:30:36.613 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 09:30:36.614 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 09:30:36.615 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 09:30:36.712 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 09:30:36.826 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 09:30:36.835 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 09:30:36.836 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 09:30:36.837 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:30:36.838 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:30:36.838 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 09:30:36.839 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:30:36.841 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 09:30:36.841 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 09:30:36.842 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 09:30:36.842 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 09:30:36.843 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 09:30:36.843 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 09:30:36.844 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 09:30:36.845 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-09-23 09:30:36.846 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-23 09:30:36.846 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-23 09:30:36.857 +07:00 [DBG] Connection id "0HN6REUOBLN7D", Request id "0HN6REUOBLN7D:00000002": started reading request body.
2024-09-23 09:30:36.858 +07:00 [DBG] Connection id "0HN6REUOBLN7D", Request id "0HN6REUOBLN7D:00000002": done reading request body.
2024-09-23 09:30:36.946 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 09:30:36.947 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 09:30:36.949 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 09:30:36.954 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 09:30:37.549 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 09:30:37.589 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-23 09:30:37.786 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 09:30:37.827 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 09:30:37.871 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2024-09-23 09:30:37.883 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:30:37.895 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:30:37.907 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 09:30:37.926 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 09:30:37.937 +07:00 [DBG] A data reader was disposed.
2024-09-23 09:30:37.942 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:30:37.949 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:30:37.955 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-23 09:30:37.988 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 09:30:37.995 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 09:30:37.995 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 09:30:37.996 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:30:37.996 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:30:37.997 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 09:30:38.023 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 09:30:38.037 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 09:30:38.056 +07:00 [DBG] A data reader was disposed.
2024-09-23 09:30:38.056 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:30:38.057 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:30:38.172 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API) in 1547.489ms
2024-09-23 09:30:38.176 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 09:30:38.177 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestForUpdateDto -> List`1
CityInfo.API.Models.PointOfInterestForUpdateDto -> System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method61(Closure , PointOfInterestForUpdateDto , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointsofinterestId, PointOfInterestForUpdateDto pointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 125
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 09:30:38.227 +07:00 [DBG] Connection id "0HN6REUOBLN7D" completed keep alive response.
2024-09-23 09:30:38.232 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 09:30:38.235 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 1682.1286ms
2024-09-23 09:33:14.913 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 09:33:15.045 +07:00 [DBG] Hosting starting
2024-09-23 09:33:15.210 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 09:33:15.332 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 09:33:15.332 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 09:33:15.333 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 09:33:15.333 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 09:33:15.333 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 09:33:15.334 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 09:33:15.335 +07:00 [INF] Hosting environment: Development
2024-09-23 09:33:15.335 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 09:33:15.335 +07:00 [DBG] Hosting started
2024-09-23 09:33:15.682 +07:00 [DBG] Connection id "0HN6RF09V019D" received FIN.
2024-09-23 09:33:15.682 +07:00 [DBG] Connection id "0HN6RF09V019E" received FIN.
2024-09-23 09:33:15.709 +07:00 [DBG] Connection id "0HN6RF09V019D" accepted.
2024-09-23 09:33:15.709 +07:00 [DBG] Connection id "0HN6RF09V019E" accepted.
2024-09-23 09:33:15.711 +07:00 [DBG] Connection id "0HN6RF09V019E" started.
2024-09-23 09:33:15.711 +07:00 [DBG] Connection id "0HN6RF09V019D" started.
2024-09-23 09:33:15.726 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 09:33:15.726 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 09:33:15.756 +07:00 [DBG] Connection id "0HN6RF09V019D" stopped.
2024-09-23 09:33:15.756 +07:00 [DBG] Connection id "0HN6RF09V019E" stopped.
2024-09-23 09:33:15.759 +07:00 [DBG] Connection id "0HN6RF09V019E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 09:33:15.759 +07:00 [DBG] Connection id "0HN6RF09V019D" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 09:33:15.776 +07:00 [DBG] Connection id "0HN6RF09V019F" accepted.
2024-09-23 09:33:15.777 +07:00 [DBG] Connection id "0HN6RF09V019F" started.
2024-09-23 09:33:15.819 +07:00 [DBG] Connection 0HN6RF09V019F established using the following protocol: "Tls12"
2024-09-23 09:33:15.897 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 09:33:15.932 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 09:33:16.140 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 09:33:16.250 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 09:33:16.252 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 09:33:16.256 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 361.7878ms
2024-09-23 09:33:16.259 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 09:33:16.259 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 7.0549ms
2024-09-23 09:33:16.280 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 21.0327ms
2024-09-23 09:33:16.312 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 09:33:16.446 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 133.7799ms
2024-09-23 09:33:26.880 +07:00 [DBG] Connection id "0HN6RF09V019G" accepted.
2024-09-23 09:33:26.880 +07:00 [DBG] Connection id "0HN6RF09V019G" received FIN.
2024-09-23 09:33:26.881 +07:00 [DBG] Connection id "0HN6RF09V019G" started.
2024-09-23 09:33:26.882 +07:00 [DBG] Connection id "0HN6RF09V019H" accepted.
2024-09-23 09:33:26.883 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 09:33:26.883 +07:00 [DBG] Connection id "0HN6RF09V019H" started.
2024-09-23 09:33:26.884 +07:00 [DBG] Connection id "0HN6RF09V019G" stopped.
2024-09-23 09:33:26.885 +07:00 [DBG] Connection id "0HN6RF09V019G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 09:33:26.887 +07:00 [DBG] Connection 0HN6RF09V019H established using the following protocol: "Tls12"
2024-09-23 09:33:26.895 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 09:33:26.897 +07:00 [DBG] PUT requests are not supported
2024-09-23 09:33:26.915 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 09:33:26.920 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 09:33:26.921 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 09:33:26.925 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 09:33:26.954 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 09:33:26.956 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 09:33:26.957 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 09:33:26.957 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 09:33:26.958 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 09:33:26.959 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 09:33:26.960 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 09:33:27.060 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 09:33:27.166 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 09:33:27.176 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 09:33:27.177 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 09:33:27.178 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:33:27.179 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:33:27.179 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 09:33:27.180 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:33:27.182 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 09:33:27.182 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 09:33:27.183 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 09:33:27.183 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 09:33:27.183 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 09:33:27.184 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 09:33:27.184 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 09:33:27.185 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-09-23 09:33:27.186 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-23 09:33:27.187 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-23 09:33:27.198 +07:00 [DBG] Connection id "0HN6RF09V019H", Request id "0HN6RF09V019H:00000002": started reading request body.
2024-09-23 09:33:27.199 +07:00 [DBG] Connection id "0HN6RF09V019H", Request id "0HN6RF09V019H:00000002": done reading request body.
2024-09-23 09:33:27.287 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 09:33:27.287 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 09:33:27.288 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 09:33:27.294 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 09:33:27.898 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 09:33:27.937 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-23 09:33:28.138 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 09:33:28.181 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 09:33:28.225 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2024-09-23 09:33:28.237 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:33:28.249 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:33:28.262 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 09:33:28.281 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 09:33:28.290 +07:00 [DBG] A data reader was disposed.
2024-09-23 09:33:28.296 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:33:28.302 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:33:28.309 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-23 09:33:28.338 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 09:33:28.345 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 09:33:28.346 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 09:33:28.346 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:33:28.347 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:33:28.347 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 09:33:28.348 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 09:33:28.360 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 09:33:28.380 +07:00 [DBG] A data reader was disposed.
2024-09-23 09:33:28.380 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:33:28.380 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:33:28.460 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API) in 1493.5244ms
2024-09-23 09:33:28.462 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 09:33:28.463 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestForUpdateDto -> List`1
CityInfo.API.Models.PointOfInterestForUpdateDto -> System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method61(Closure , PointOfInterestForUpdateDto , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointsofinterestId, PointOfInterestForUpdateDto pointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 125
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 09:33:28.480 +07:00 [DBG] Connection id "0HN6RF09V019H" completed keep alive response.
2024-09-23 09:33:28.484 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 09:33:28.489 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 1593.3930ms
2024-09-23 09:33:41.511 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 09:33:41.512 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 09:33:41.512 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 09:33:41.512 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 09:33:41.513 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 09:33:41.514 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 09:33:41.516 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 09:33:41.517 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 09:33:41.517 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 09:33:41.518 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 09:33:41.518 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 09:33:41.519 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 09:33:41.519 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 09:33:41.526 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 09:33:41.527 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 09:33:41.527 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 09:33:41.528 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:33:41.528 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:33:41.529 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 09:33:41.529 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:33:41.529 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 09:33:41.530 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 09:33:41.530 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 09:33:41.531 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 09:33:41.531 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 09:33:41.531 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 09:33:41.537 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 09:33:41.545 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 09:33:41.545 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 09:33:41.545 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:33:41.546 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:33:41.546 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 09:33:41.547 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 09:33:41.548 +07:00 [DBG] A data reader was disposed.
2024-09-23 09:33:41.548 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:33:41.548 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:33:41.549 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 09:33:41.549 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 09:33:41.550 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:33:41.550 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:33:41.551 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 09:33:41.551 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 09:33:41.552 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 09:33:41.553 +07:00 [DBG] A data reader was disposed.
2024-09-23 09:33:41.553 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:33:41.553 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:33:41.560 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 09:33:41.563 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 09:33:41.563 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 09:33:41.563 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 09:33:41.564 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 09:33:41.564 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 09:33:41.600 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 81.0608ms
2024-09-23 09:33:41.601 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 09:33:41.601 +07:00 [DBG] Connection id "0HN6RF09V019H" completed keep alive response.
2024-09-23 09:33:41.602 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 09:33:41.602 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122 - 200 83 application/json;+charset=utf-8 91.2500ms
2024-09-23 09:33:41.603 +07:00 [DBG] Connection id "0HN6RF09V019H", Request id "0HN6RF09V019H:00000003": started reading request body.
2024-09-23 09:33:41.603 +07:00 [DBG] Connection id "0HN6RF09V019H", Request id "0HN6RF09V019H:00000003": done reading request body.
2024-09-23 09:33:45.113 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 09:33:45.113 +07:00 [DBG] PUT requests are not supported
2024-09-23 09:33:45.114 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 09:33:45.114 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 09:33:45.115 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 09:33:45.115 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 09:33:45.116 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 09:33:45.116 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 09:33:45.117 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 09:33:45.117 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 09:33:45.118 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 09:33:45.118 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 09:33:45.119 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 09:33:45.121 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 09:33:45.121 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 09:33:45.122 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 09:33:45.122 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:33:45.123 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:33:45.124 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 09:33:45.125 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:33:45.126 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 09:33:45.127 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 09:33:45.127 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 09:33:45.128 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 09:33:45.128 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 09:33:45.129 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 09:33:45.129 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 09:33:45.130 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-09-23 09:33:45.130 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-23 09:33:45.130 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-23 09:33:45.131 +07:00 [DBG] Connection id "0HN6RF09V019H", Request id "0HN6RF09V019H:00000004": started reading request body.
2024-09-23 09:33:45.131 +07:00 [DBG] Connection id "0HN6RF09V019H", Request id "0HN6RF09V019H:00000004": done reading request body.
2024-09-23 09:33:45.132 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 09:33:45.132 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 09:33:45.133 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 09:33:45.133 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 09:33:45.169 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 09:33:45.171 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 09:33:45.172 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 09:33:45.178 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:33:45.179 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:33:45.179 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 09:33:45.181 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 09:33:45.182 +07:00 [DBG] A data reader was disposed.
2024-09-23 09:33:45.182 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:33:45.183 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:33:45.183 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 09:33:45.184 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 09:33:45.184 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:33:45.185 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:33:45.185 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 09:33:45.186 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 09:33:45.187 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 09:33:45.188 +07:00 [DBG] A data reader was disposed.
2024-09-23 09:33:45.188 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:33:45.188 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:33:45.208 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API) in 89.3672ms
2024-09-23 09:33:45.209 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 09:33:45.210 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestForUpdateDto -> List`1
CityInfo.API.Models.PointOfInterestForUpdateDto -> System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method61(Closure , PointOfInterestForUpdateDto , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointsofinterestId, PointOfInterestForUpdateDto pointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 125
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 09:33:45.214 +07:00 [DBG] Connection id "0HN6RF09V019H" completed keep alive response.
2024-09-23 09:33:45.214 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 09:33:45.214 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 101.5378ms
2024-09-23 09:41:38.745 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 09:41:38.852 +07:00 [DBG] Hosting starting
2024-09-23 09:41:39.026 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 09:41:39.084 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 09:41:39.085 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 09:41:39.085 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 09:41:39.086 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 09:41:39.087 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 09:41:39.089 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 09:41:39.090 +07:00 [INF] Hosting environment: Development
2024-09-23 09:41:39.091 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 09:41:39.092 +07:00 [DBG] Hosting started
2024-09-23 09:41:39.560 +07:00 [DBG] Connection id "0HN6RF504ALVG" accepted.
2024-09-23 09:41:39.560 +07:00 [DBG] Connection id "0HN6RF504ALVF" accepted.
2024-09-23 09:41:39.563 +07:00 [DBG] Connection id "0HN6RF504ALVG" started.
2024-09-23 09:41:39.563 +07:00 [DBG] Connection id "0HN6RF504ALVF" started.
2024-09-23 09:41:39.571 +07:00 [DBG] Connection id "0HN6RF504ALVG" received FIN.
2024-09-23 09:41:39.571 +07:00 [DBG] Connection id "0HN6RF504ALVF" received FIN.
2024-09-23 09:41:39.583 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 09:41:39.583 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 09:41:39.611 +07:00 [DBG] Connection id "0HN6RF504ALVG" stopped.
2024-09-23 09:41:39.611 +07:00 [DBG] Connection id "0HN6RF504ALVF" stopped.
2024-09-23 09:41:39.613 +07:00 [DBG] Connection id "0HN6RF504ALVG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 09:41:39.613 +07:00 [DBG] Connection id "0HN6RF504ALVF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 09:41:39.820 +07:00 [DBG] Connection id "0HN6RF504ALVH" accepted.
2024-09-23 09:41:39.824 +07:00 [DBG] Connection id "0HN6RF504ALVH" started.
2024-09-23 09:41:39.896 +07:00 [DBG] Connection 0HN6RF504ALVH established using the following protocol: "Tls12"
2024-09-23 09:41:39.943 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 09:41:39.984 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 09:41:40.167 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 09:41:40.275 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 09:41:40.285 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 344.8314ms
2024-09-23 09:41:40.286 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 09:41:40.286 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 09:41:40.303 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 16.5031ms
2024-09-23 09:41:40.317 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.9415ms
2024-09-23 09:41:40.342 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 09:41:40.491 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 148.3765ms
2024-09-23 09:41:44.923 +07:00 [DBG] Connection id "0HN6RF504ALVI" accepted.
2024-09-23 09:41:44.924 +07:00 [DBG] Connection id "0HN6RF504ALVI" received FIN.
2024-09-23 09:41:44.925 +07:00 [DBG] Connection id "0HN6RF504ALVI" started.
2024-09-23 09:41:44.926 +07:00 [DBG] Connection id "0HN6RF504ALVJ" accepted.
2024-09-23 09:41:44.931 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 09:41:44.932 +07:00 [DBG] Connection id "0HN6RF504ALVJ" started.
2024-09-23 09:41:44.934 +07:00 [DBG] Connection id "0HN6RF504ALVI" stopped.
2024-09-23 09:41:44.935 +07:00 [DBG] Connection id "0HN6RF504ALVI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 09:41:44.938 +07:00 [DBG] Connection 0HN6RF504ALVJ established using the following protocol: "Tls12"
2024-09-23 09:41:44.943 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 09:41:44.946 +07:00 [DBG] PUT requests are not supported
2024-09-23 09:41:44.963 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 09:41:44.968 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 09:41:44.969 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 09:41:44.971 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 09:41:45.003 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 09:41:45.005 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 09:41:45.005 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 09:41:45.006 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 09:41:45.007 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 09:41:45.007 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 09:41:45.008 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 09:41:45.108 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 09:41:45.216 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 09:41:45.224 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 09:41:45.226 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 09:41:45.227 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:41:45.228 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:41:45.229 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 09:41:45.231 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:41:45.232 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 09:41:45.233 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 09:41:45.233 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 09:41:45.234 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 09:41:45.234 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 09:41:45.235 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 09:41:45.235 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 09:41:45.236 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-09-23 09:41:45.237 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-23 09:41:45.238 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-23 09:41:45.251 +07:00 [DBG] Connection id "0HN6RF504ALVJ", Request id "0HN6RF504ALVJ:00000002": started reading request body.
2024-09-23 09:41:45.252 +07:00 [DBG] Connection id "0HN6RF504ALVJ", Request id "0HN6RF504ALVJ:00000002": done reading request body.
2024-09-23 09:41:45.340 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 09:41:45.341 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 09:41:45.342 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 09:41:45.347 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 09:41:45.950 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 09:41:45.988 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-23 09:41:46.187 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 09:41:46.231 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 09:41:46.272 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (38ms).
2024-09-23 09:41:46.283 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:41:46.296 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:41:46.308 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 09:41:46.330 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 09:41:46.339 +07:00 [DBG] A data reader was disposed.
2024-09-23 09:41:46.345 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:41:46.350 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:41:46.356 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-23 09:41:46.384 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 09:41:46.391 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 09:41:46.391 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 09:41:46.392 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:41:46.392 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:41:46.393 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 09:41:46.395 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 09:41:46.407 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 09:41:46.426 +07:00 [DBG] A data reader was disposed.
2024-09-23 09:41:46.427 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:41:46.427 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:41:46.503 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API) in 1491.6162ms
2024-09-23 09:41:46.505 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 09:41:46.506 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidCastException: Unable to cast object of type 'System.Collections.Generic.List`1[CityInfo.API.Entities.PointOfInterest]' to type 'CityInfo.API.Entities.PointOfInterest'.
   at CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointsofinterestId, PointOfInterestForUpdateDto pointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 112
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 09:41:46.526 +07:00 [DBG] Connection id "0HN6RF504ALVJ" completed keep alive response.
2024-09-23 09:41:46.533 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 09:41:46.535 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 1592.1805ms
2024-09-23 09:42:12.118 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 09:42:12.287 +07:00 [DBG] Hosting starting
2024-09-23 09:42:12.539 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 09:42:12.613 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 09:42:12.615 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 09:42:12.617 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 09:42:12.617 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 09:42:12.617 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 09:42:12.618 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 09:42:12.619 +07:00 [INF] Hosting environment: Development
2024-09-23 09:42:12.620 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 09:42:12.620 +07:00 [DBG] Hosting started
2024-09-23 09:42:12.836 +07:00 [DBG] Connection id "0HN6RF5A1L9O2" accepted.
2024-09-23 09:42:12.836 +07:00 [DBG] Connection id "0HN6RF5A1L9O1" accepted.
2024-09-23 09:42:12.837 +07:00 [DBG] Connection id "0HN6RF5A1L9O1" started.
2024-09-23 09:42:12.837 +07:00 [DBG] Connection id "0HN6RF5A1L9O2" started.
2024-09-23 09:42:12.854 +07:00 [DBG] Connection id "0HN6RF5A1L9O2" received FIN.
2024-09-23 09:42:12.854 +07:00 [DBG] Connection id "0HN6RF5A1L9O1" received FIN.
2024-09-23 09:42:12.869 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 09:42:12.869 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 09:42:12.896 +07:00 [DBG] Connection id "0HN6RF5A1L9O1" stopped.
2024-09-23 09:42:12.896 +07:00 [DBG] Connection id "0HN6RF5A1L9O2" stopped.
2024-09-23 09:42:12.899 +07:00 [DBG] Connection id "0HN6RF5A1L9O2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 09:42:12.899 +07:00 [DBG] Connection id "0HN6RF5A1L9O1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 09:42:13.082 +07:00 [DBG] Connection id "0HN6RF5A1L9O3" accepted.
2024-09-23 09:42:13.092 +07:00 [DBG] Connection id "0HN6RF5A1L9O3" started.
2024-09-23 09:42:13.160 +07:00 [DBG] Connection 0HN6RF5A1L9O3 established using the following protocol: "Tls12"
2024-09-23 09:42:13.294 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 09:42:13.337 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 09:42:13.581 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 09:42:13.605 +07:00 [DBG] Connection id "0HN6RF5A1L9O4" accepted.
2024-09-23 09:42:13.606 +07:00 [DBG] Connection id "0HN6RF5A1L9O4" started.
2024-09-23 09:42:13.608 +07:00 [DBG] Connection id "0HN6RF5A1L9O5" accepted.
2024-09-23 09:42:13.608 +07:00 [DBG] Connection id "0HN6RF5A1L9O4" received FIN.
2024-09-23 09:42:13.615 +07:00 [DBG] Connection id "0HN6RF5A1L9O5" started.
2024-09-23 09:42:13.617 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 09:42:13.619 +07:00 [DBG] Connection id "0HN6RF5A1L9O4" stopped.
2024-09-23 09:42:13.619 +07:00 [DBG] Connection id "0HN6RF5A1L9O4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 09:42:13.620 +07:00 [DBG] Connection 0HN6RF5A1L9O5 established using the following protocol: "Tls12"
2024-09-23 09:42:13.630 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 09:42:13.633 +07:00 [DBG] PUT requests are not supported
2024-09-23 09:42:13.655 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 09:42:13.660 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 09:42:13.661 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 09:42:13.667 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 09:42:13.700 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 09:42:13.703 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 09:42:13.704 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 09:42:13.707 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 416.0401ms
2024-09-23 09:42:13.719 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 15.1731ms
2024-09-23 09:42:13.720 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 09:42:13.722 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 09:42:13.722 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 09:42:13.723 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 09:42:13.724 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 09:42:13.724 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 09:42:13.725 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 09:42:13.741 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 37.5220ms
2024-09-23 09:42:13.772 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 09:42:13.860 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 09:42:13.926 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 153.9239ms
2024-09-23 09:42:13.982 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 09:42:13.990 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 09:42:13.992 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 09:42:13.993 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:42:13.993 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:42:13.994 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 09:42:13.997 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:42:14.001 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 09:42:14.002 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 09:42:14.003 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 09:42:14.003 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 09:42:14.004 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 09:42:14.004 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 09:42:14.005 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 09:42:14.006 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-09-23 09:42:14.007 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-23 09:42:14.008 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-23 09:42:14.019 +07:00 [DBG] Connection id "0HN6RF5A1L9O5", Request id "0HN6RF5A1L9O5:00000002": started reading request body.
2024-09-23 09:42:14.019 +07:00 [DBG] Connection id "0HN6RF5A1L9O5", Request id "0HN6RF5A1L9O5:00000002": done reading request body.
2024-09-23 09:42:14.117 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 09:42:14.117 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 09:42:14.118 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 09:42:14.123 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 09:42:14.762 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 09:42:14.798 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-23 09:42:14.988 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 09:42:15.029 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 09:42:15.070 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (37ms).
2024-09-23 09:42:15.083 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:42:15.104 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:42:15.116 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 09:42:15.135 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 09:42:15.144 +07:00 [DBG] A data reader was disposed.
2024-09-23 09:42:15.149 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:42:15.153 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:42:22.438 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-23 09:42:22.469 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 09:42:22.476 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 09:42:22.476 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 09:42:22.477 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:42:22.477 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:42:22.478 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 09:42:22.479 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 09:42:22.491 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 09:42:22.510 +07:00 [DBG] A data reader was disposed.
2024-09-23 09:42:22.511 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:42:22.511 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:42:22.549 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API) in 8819.0397ms
2024-09-23 09:42:22.552 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 09:42:22.553 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestForUpdateDto -> List`1
CityInfo.API.Models.PointOfInterestForUpdateDto -> System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method61(Closure , PointOfInterestForUpdateDto , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointsofinterestId, PointOfInterestForUpdateDto pointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 112
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 09:42:22.569 +07:00 [DBG] Connection id "0HN6RF5A1L9O5" completed keep alive response.
2024-09-23 09:42:22.572 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 09:42:22.575 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 8944.2841ms
2024-09-23 09:42:30.583 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 09:42:30.690 +07:00 [DBG] Hosting starting
2024-09-23 09:42:30.800 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 09:42:30.825 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 09:42:30.825 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 09:42:30.826 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 09:42:30.826 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 09:42:30.827 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 09:42:30.827 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 09:42:30.828 +07:00 [INF] Hosting environment: Development
2024-09-23 09:42:30.829 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 09:42:30.829 +07:00 [DBG] Hosting started
2024-09-23 09:42:30.951 +07:00 [DBG] Connection id "0HN6RF5FEDLOR" accepted.
2024-09-23 09:42:30.951 +07:00 [DBG] Connection id "0HN6RF5FEDLOQ" accepted.
2024-09-23 09:42:30.953 +07:00 [DBG] Connection id "0HN6RF5FEDLOQ" started.
2024-09-23 09:42:30.953 +07:00 [DBG] Connection id "0HN6RF5FEDLOR" started.
2024-09-23 09:42:31.055 +07:00 [DBG] Connection id "0HN6RF5FEDLOR" received FIN.
2024-09-23 09:42:31.055 +07:00 [DBG] Connection id "0HN6RF5FEDLOQ" received FIN.
2024-09-23 09:42:31.069 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 09:42:31.069 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 09:42:31.103 +07:00 [DBG] Connection id "0HN6RF5FEDLOQ" stopped.
2024-09-23 09:42:31.103 +07:00 [DBG] Connection id "0HN6RF5FEDLOR" stopped.
2024-09-23 09:42:31.106 +07:00 [DBG] Connection id "0HN6RF5FEDLOR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 09:42:31.106 +07:00 [DBG] Connection id "0HN6RF5FEDLOQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 09:42:31.188 +07:00 [DBG] Connection id "0HN6RF5FEDLOS" accepted.
2024-09-23 09:42:31.189 +07:00 [DBG] Connection id "0HN6RF5FEDLOS" started.
2024-09-23 09:42:31.241 +07:00 [DBG] Connection 0HN6RF5FEDLOS established using the following protocol: "Tls12"
2024-09-23 09:42:31.419 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 09:42:31.481 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 09:42:31.763 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 09:42:31.896 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 09:42:31.903 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 492.7868ms
2024-09-23 09:42:31.906 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 09:42:31.906 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 09:42:31.922 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 15.9956ms
2024-09-23 09:42:31.937 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.1863ms
2024-09-23 09:42:31.976 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 09:42:32.138 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 161.6175ms
2024-09-23 09:42:57.392 +07:00 [DBG] Connection id "0HN6RF5FEDLOT" accepted.
2024-09-23 09:42:57.396 +07:00 [DBG] Connection id "0HN6RF5FEDLOT" received FIN.
2024-09-23 09:42:57.396 +07:00 [DBG] Connection id "0HN6RF5FEDLOT" started.
2024-09-23 09:42:57.396 +07:00 [DBG] Connection id "0HN6RF5FEDLOU" accepted.
2024-09-23 09:42:57.399 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 09:42:57.399 +07:00 [DBG] Connection id "0HN6RF5FEDLOU" started.
2024-09-23 09:42:57.404 +07:00 [DBG] Connection id "0HN6RF5FEDLOT" stopped.
2024-09-23 09:42:57.404 +07:00 [DBG] Connection id "0HN6RF5FEDLOT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 09:42:57.408 +07:00 [DBG] Connection 0HN6RF5FEDLOU established using the following protocol: "Tls12"
2024-09-23 09:42:57.415 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 09:42:57.418 +07:00 [DBG] PUT requests are not supported
2024-09-23 09:42:57.434 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 09:42:57.439 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 09:42:57.440 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 09:42:57.442 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 09:42:57.478 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 09:42:57.479 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 09:42:57.480 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 09:42:57.480 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 09:42:57.482 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 09:42:57.482 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 09:42:57.483 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 09:42:57.582 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 09:42:57.691 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 09:42:57.701 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 09:42:57.702 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 09:42:57.703 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:42:57.704 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:42:57.704 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 09:42:57.705 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:42:57.707 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 09:42:57.707 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 09:42:57.708 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 09:42:57.708 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 09:42:57.708 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 09:42:57.709 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 09:42:57.709 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 09:42:57.710 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-09-23 09:42:57.711 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-23 09:42:57.712 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-23 09:42:57.724 +07:00 [DBG] Connection id "0HN6RF5FEDLOU", Request id "0HN6RF5FEDLOU:00000002": started reading request body.
2024-09-23 09:42:57.724 +07:00 [DBG] Connection id "0HN6RF5FEDLOU", Request id "0HN6RF5FEDLOU:00000002": done reading request body.
2024-09-23 09:42:57.811 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 09:42:57.812 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 09:42:57.812 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 09:42:57.819 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 09:42:58.426 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 09:42:58.463 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-23 09:42:58.659 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 09:42:58.705 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 09:42:58.751 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (42ms).
2024-09-23 09:42:58.761 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:42:58.773 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:42:58.786 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 09:42:58.806 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 09:42:58.814 +07:00 [DBG] A data reader was disposed.
2024-09-23 09:42:58.821 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:42:58.825 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:43:07.689 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-23 09:43:07.718 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 09:43:07.725 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 09:43:07.725 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 09:43:07.725 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:43:07.726 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:43:07.726 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 09:43:07.727 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 09:43:07.741 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 09:43:07.760 +07:00 [DBG] A data reader was disposed.
2024-09-23 09:43:07.761 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:43:07.761 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:43:31.172 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API) in 33683.9059ms
2024-09-23 09:43:31.175 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 09:43:31.178 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestForUpdateDto -> List`1
CityInfo.API.Models.PointOfInterestForUpdateDto -> System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method61(Closure , PointOfInterestForUpdateDto , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointsofinterestId, PointOfInterestForUpdateDto pointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 112
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 09:43:31.192 +07:00 [DBG] Connection id "0HN6RF5FEDLOU" completed keep alive response.
2024-09-23 09:43:31.196 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 09:43:31.198 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 33781.4792ms
2024-09-23 09:45:47.173 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 09:45:47.265 +07:00 [DBG] Hosting starting
2024-09-23 09:45:47.383 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 09:45:47.411 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 09:45:47.414 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 09:45:47.415 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 09:45:47.417 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 09:45:47.417 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 09:45:47.418 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 09:45:47.419 +07:00 [INF] Hosting environment: Development
2024-09-23 09:45:47.421 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 09:45:47.424 +07:00 [DBG] Hosting started
2024-09-23 09:45:47.598 +07:00 [DBG] Connection id "0HN6RF7A1PV7S" accepted.
2024-09-23 09:45:47.598 +07:00 [DBG] Connection id "0HN6RF7A1PV7R" accepted.
2024-09-23 09:45:47.599 +07:00 [DBG] Connection id "0HN6RF7A1PV7R" started.
2024-09-23 09:45:47.599 +07:00 [DBG] Connection id "0HN6RF7A1PV7S" started.
2024-09-23 09:45:47.619 +07:00 [DBG] Connection id "0HN6RF7A1PV7R" received FIN.
2024-09-23 09:45:47.619 +07:00 [DBG] Connection id "0HN6RF7A1PV7S" received FIN.
2024-09-23 09:45:47.648 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 09:45:47.648 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 09:45:47.691 +07:00 [DBG] Connection id "0HN6RF7A1PV7R" stopped.
2024-09-23 09:45:47.691 +07:00 [DBG] Connection id "0HN6RF7A1PV7S" stopped.
2024-09-23 09:45:47.701 +07:00 [DBG] Connection id "0HN6RF7A1PV7R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 09:45:47.702 +07:00 [DBG] Connection id "0HN6RF7A1PV7S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 09:45:47.741 +07:00 [DBG] Connection id "0HN6RF7A1PV7T" accepted.
2024-09-23 09:45:47.742 +07:00 [DBG] Connection id "0HN6RF7A1PV7T" started.
2024-09-23 09:45:47.786 +07:00 [DBG] Connection 0HN6RF7A1PV7T established using the following protocol: "Tls12"
2024-09-23 09:45:47.894 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 09:45:47.932 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 09:45:48.135 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 09:45:48.243 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 09:45:48.248 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 361.2832ms
2024-09-23 09:45:48.249 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 09:45:48.249 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 09:45:48.264 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 15.0808ms
2024-09-23 09:45:48.278 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.7123ms
2024-09-23 09:45:48.303 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 09:45:48.445 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.8181ms
2024-09-23 09:45:50.103 +07:00 [DBG] Connection id "0HN6RF7A1PV7U" accepted.
2024-09-23 09:45:50.103 +07:00 [DBG] Connection id "0HN6RF7A1PV7U" received FIN.
2024-09-23 09:45:50.106 +07:00 [DBG] Connection id "0HN6RF7A1PV7U" started.
2024-09-23 09:45:50.107 +07:00 [DBG] Connection id "0HN6RF7A1PV7V" accepted.
2024-09-23 09:45:50.112 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 09:45:50.113 +07:00 [DBG] Connection id "0HN6RF7A1PV7V" started.
2024-09-23 09:45:50.116 +07:00 [DBG] Connection id "0HN6RF7A1PV7U" stopped.
2024-09-23 09:45:50.117 +07:00 [DBG] Connection id "0HN6RF7A1PV7U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 09:45:50.120 +07:00 [DBG] Connection 0HN6RF7A1PV7V established using the following protocol: "Tls12"
2024-09-23 09:45:50.129 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 09:45:50.131 +07:00 [DBG] PUT requests are not supported
2024-09-23 09:45:50.148 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 09:45:50.152 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 09:45:50.153 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 09:45:50.155 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 09:45:50.187 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 09:45:50.190 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 09:45:50.191 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 09:45:50.191 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 09:45:50.193 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 09:45:50.193 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 09:45:50.194 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 09:45:50.304 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 09:45:50.409 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 09:45:50.417 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 09:45:50.419 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 09:45:50.420 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:45:50.420 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:45:50.420 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 09:45:50.423 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 09:45:50.425 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 09:45:50.425 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 09:45:50.426 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 09:45:50.426 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 09:45:50.427 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 09:45:50.429 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 09:45:50.429 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 09:45:50.430 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-09-23 09:45:50.431 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-23 09:45:50.432 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-23 09:45:50.443 +07:00 [DBG] Connection id "0HN6RF7A1PV7V", Request id "0HN6RF7A1PV7V:00000002": started reading request body.
2024-09-23 09:45:50.445 +07:00 [DBG] Connection id "0HN6RF7A1PV7V", Request id "0HN6RF7A1PV7V:00000002": done reading request body.
2024-09-23 09:45:50.541 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 09:45:50.542 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 09:45:50.542 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 09:45:50.547 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 09:45:51.162 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 09:45:51.200 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-23 09:45:51.399 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 09:45:51.441 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 09:45:51.484 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2024-09-23 09:45:51.496 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:45:51.513 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:45:51.525 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 09:45:51.545 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 09:45:51.553 +07:00 [DBG] A data reader was disposed.
2024-09-23 09:45:51.560 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:45:51.564 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:45:51.570 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-23 09:45:51.596 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 09:45:51.603 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 09:45:51.603 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 09:45:51.603 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:45:51.604 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:45:51.605 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 09:45:51.606 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 09:45:51.617 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 09:45:51.636 +07:00 [DBG] A data reader was disposed.
2024-09-23 09:45:51.637 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 09:45:51.637 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 09:45:51.697 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API) in 1498.9382ms
2024-09-23 09:45:51.699 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 09:45:51.700 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
List`1 -> PointOfInterestForUpdateDto
System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> CityInfo.API.Models.PointOfInterestForUpdateDto
   at lambda_method61(Closure , Object , PointOfInterestForUpdateDto , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointsofinterestId, PointOfInterestForUpdateDto pointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 112
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 09:45:51.716 +07:00 [DBG] Connection id "0HN6RF7A1PV7V" completed keep alive response.
2024-09-23 09:45:51.720 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 09:45:51.726 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 1596.3203ms
2024-09-23 10:02:26.432 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 10:02:26.524 +07:00 [DBG] Hosting starting
2024-09-23 10:02:26.666 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 10:02:26.692 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 10:02:26.692 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 10:02:26.692 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 10:02:26.693 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 10:02:26.693 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 10:02:26.694 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 10:02:26.695 +07:00 [INF] Hosting environment: Development
2024-09-23 10:02:26.695 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 10:02:26.695 +07:00 [DBG] Hosting started
2024-09-23 10:02:27.108 +07:00 [DBG] Connection id "0HN6RFGJTSS33" received FIN.
2024-09-23 10:02:27.115 +07:00 [DBG] Connection id "0HN6RFGJTSS33" accepted.
2024-09-23 10:02:27.117 +07:00 [DBG] Connection id "0HN6RFGJTSS33" started.
2024-09-23 10:02:27.133 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:02:27.162 +07:00 [DBG] Connection id "0HN6RFGJTSS33" stopped.
2024-09-23 10:02:27.165 +07:00 [DBG] Connection id "0HN6RFGJTSS33" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:02:27.196 +07:00 [DBG] Connection id "0HN6RFGJTSS34" accepted.
2024-09-23 10:02:27.197 +07:00 [DBG] Connection id "0HN6RFGJTSS34" started.
2024-09-23 10:02:27.255 +07:00 [DBG] Connection 0HN6RFGJTSS34 established using the following protocol: "Tls12"
2024-09-23 10:02:27.321 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 10:02:27.359 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 10:02:27.550 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 10:02:27.661 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 10:02:27.672 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 351.8835ms
2024-09-23 10:02:27.672 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 10:02:27.675 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 10:02:27.686 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 12.8114ms
2024-09-23 10:02:27.708 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 33.2684ms
2024-09-23 10:02:27.740 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 10:02:27.891 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 150.9199ms
2024-09-23 10:02:30.830 +07:00 [DBG] Connection id "0HN6RFGJTSS35" accepted.
2024-09-23 10:02:30.830 +07:00 [DBG] Connection id "0HN6RFGJTSS35" received FIN.
2024-09-23 10:02:30.832 +07:00 [DBG] Connection id "0HN6RFGJTSS35" started.
2024-09-23 10:02:30.833 +07:00 [DBG] Connection id "0HN6RFGJTSS36" accepted.
2024-09-23 10:02:30.835 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:02:30.836 +07:00 [DBG] Connection id "0HN6RFGJTSS36" started.
2024-09-23 10:02:30.841 +07:00 [DBG] Connection id "0HN6RFGJTSS35" stopped.
2024-09-23 10:02:30.842 +07:00 [DBG] Connection id "0HN6RFGJTSS35" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:02:30.845 +07:00 [DBG] Connection 0HN6RFGJTSS36 established using the following protocol: "Tls12"
2024-09-23 10:02:30.850 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 10:02:30.852 +07:00 [DBG] PUT requests are not supported
2024-09-23 10:02:30.870 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:02:30.875 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:02:30.876 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:02:30.878 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:02:30.909 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 10:02:30.910 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:02:30.911 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:02:30.911 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:02:30.912 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:02:30.913 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:02:30.913 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:02:31.057 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 10:02:31.166 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:02:31.175 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:02:31.177 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 10:02:31.178 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:02:31.178 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:02:31.178 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:02:31.180 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:02:31.182 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:02:31.182 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 10:02:31.183 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:02:31.183 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:02:31.183 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:02:31.184 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:02:31.184 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:02:31.185 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-09-23 10:02:31.187 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-23 10:02:31.188 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-23 10:02:31.198 +07:00 [DBG] Connection id "0HN6RFGJTSS36", Request id "0HN6RFGJTSS36:00000002": started reading request body.
2024-09-23 10:02:31.198 +07:00 [DBG] Connection id "0HN6RFGJTSS36", Request id "0HN6RFGJTSS36:00000002": done reading request body.
2024-09-23 10:02:31.289 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:02:31.290 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:02:31.290 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:02:31.295 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:02:31.898 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 10:02:31.936 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-23 10:02:32.132 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 10:02:32.174 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:02:32.272 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (94ms).
2024-09-23 10:02:32.283 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:02:32.297 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:02:32.309 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:02:32.330 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:02:32.339 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:02:32.345 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:02:32.349 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:02:32.355 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-23 10:02:32.381 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 10:02:32.389 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:02:32.390 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:02:32.391 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:02:32.391 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:02:32.392 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 10:02:32.393 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 10:02:32.411 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:02:32.430 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:02:32.431 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:02:32.431 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:02:32.512 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API) in 1595.158ms
2024-09-23 10:02:32.514 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:02:32.515 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
List`1 -> PointOfInterestForUpdateDto
System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> CityInfo.API.Models.PointOfInterestForUpdateDto
   at lambda_method61(Closure , Object , PointOfInterestForUpdateDto , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointsofinterestId, PointOfInterestForUpdateDto pointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 112
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 10:02:32.541 +07:00 [DBG] Connection id "0HN6RFGJTSS36" completed keep alive response.
2024-09-23 10:02:32.546 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 10:02:32.548 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 1697.9213ms
2024-09-23 10:03:06.001 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 10:03:06.115 +07:00 [DBG] Hosting starting
2024-09-23 10:03:06.295 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 10:03:06.330 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 10:03:06.337 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 10:03:06.337 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 10:03:06.339 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 10:03:06.340 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 10:03:06.340 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 10:03:06.341 +07:00 [INF] Hosting environment: Development
2024-09-23 10:03:06.342 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 10:03:06.342 +07:00 [DBG] Hosting started
2024-09-23 10:03:06.763 +07:00 [DBG] Connection id "0HN6RFGVO2358" accepted.
2024-09-23 10:03:06.765 +07:00 [DBG] Connection id "0HN6RFGVO2358" started.
2024-09-23 10:03:06.767 +07:00 [DBG] Connection id "0HN6RFGVO2359" accepted.
2024-09-23 10:03:06.768 +07:00 [DBG] Connection id "0HN6RFGVO2359" started.
2024-09-23 10:03:06.777 +07:00 [DBG] Connection id "0HN6RFGVO2358" received FIN.
2024-09-23 10:03:06.783 +07:00 [DBG] Connection id "0HN6RFGVO2359" received FIN.
2024-09-23 10:03:06.800 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:03:06.800 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:03:06.844 +07:00 [DBG] Connection id "0HN6RFGVO2358" stopped.
2024-09-23 10:03:06.844 +07:00 [DBG] Connection id "0HN6RFGVO2359" stopped.
2024-09-23 10:03:06.846 +07:00 [DBG] Connection id "0HN6RFGVO2359" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:03:06.846 +07:00 [DBG] Connection id "0HN6RFGVO2358" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:03:06.876 +07:00 [DBG] Connection id "0HN6RFGVO235A" accepted.
2024-09-23 10:03:06.878 +07:00 [DBG] Connection id "0HN6RFGVO235A" started.
2024-09-23 10:03:06.945 +07:00 [DBG] Connection 0HN6RFGVO235A established using the following protocol: "Tls12"
2024-09-23 10:03:07.016 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 10:03:07.078 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 10:03:07.275 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 10:03:07.382 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 10:03:07.386 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 10:03:07.391 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 10:03:07.395 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 381.0458ms
2024-09-23 10:03:07.399 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 13.2942ms
2024-09-23 10:03:07.414 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 22.6030ms
2024-09-23 10:03:07.446 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 10:03:07.583 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 136.9481ms
2024-09-23 10:03:10.551 +07:00 [DBG] Connection id "0HN6RFGVO235B" accepted.
2024-09-23 10:03:10.551 +07:00 [DBG] Connection id "0HN6RFGVO235B" received FIN.
2024-09-23 10:03:10.552 +07:00 [DBG] Connection id "0HN6RFGVO235B" started.
2024-09-23 10:03:10.553 +07:00 [DBG] Connection id "0HN6RFGVO235C" accepted.
2024-09-23 10:03:10.556 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:03:10.557 +07:00 [DBG] Connection id "0HN6RFGVO235C" started.
2024-09-23 10:03:10.560 +07:00 [DBG] Connection id "0HN6RFGVO235B" stopped.
2024-09-23 10:03:10.560 +07:00 [DBG] Connection id "0HN6RFGVO235B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:03:10.563 +07:00 [DBG] Connection 0HN6RFGVO235C established using the following protocol: "Tls12"
2024-09-23 10:03:10.569 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 10:03:10.570 +07:00 [DBG] PUT requests are not supported
2024-09-23 10:03:10.588 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:03:10.593 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:03:10.594 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:03:10.596 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:03:10.626 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 10:03:10.627 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:03:10.628 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:03:10.629 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:03:10.629 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:03:10.630 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:03:10.631 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:03:10.732 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 10:03:10.838 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:03:10.846 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:03:10.847 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 10:03:10.848 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:03:10.848 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:03:10.849 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:03:10.850 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:03:10.851 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:03:10.852 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 10:03:10.852 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:03:10.853 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:03:10.853 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:03:10.854 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:03:10.855 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:03:10.856 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-09-23 10:03:10.857 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-23 10:03:10.858 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-23 10:03:10.867 +07:00 [DBG] Connection id "0HN6RFGVO235C", Request id "0HN6RFGVO235C:00000002": started reading request body.
2024-09-23 10:03:10.868 +07:00 [DBG] Connection id "0HN6RFGVO235C", Request id "0HN6RFGVO235C:00000002": done reading request body.
2024-09-23 10:03:10.961 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:03:10.962 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:03:10.962 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:03:10.966 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:03:11.573 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 10:03:11.616 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-23 10:03:11.812 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 10:03:11.856 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:03:11.899 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2024-09-23 10:03:11.910 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:03:11.925 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:03:11.936 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:03:11.956 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:03:11.965 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:03:11.970 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:03:11.975 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:03:11.981 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-23 10:03:12.022 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 10:03:12.029 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:03:12.029 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:03:12.030 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:03:12.030 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:03:12.031 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 10:03:12.032 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 10:03:12.044 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:03:12.063 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:03:12.063 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:03:12.064 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:03:12.132 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API) in 1498.5345ms
2024-09-23 10:03:12.134 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:03:12.135 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> IEnumerable`1
System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IEnumerable`1[[CityInfo.API.Models.PointOfInterestForUpdateDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterest -> PointOfInterestForUpdateDto
CityInfo.API.Entities.PointOfInterest -> CityInfo.API.Models.PointOfInterestForUpdateDto
   at lambda_method62(Closure , PointOfInterest , PointOfInterestForUpdateDto , ResolutionContext )
   at lambda_method61(Closure , Object , IEnumerable`1 , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method61(Closure , Object , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointsofinterestId, PointOfInterestForUpdateDto pointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 112
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 10:03:12.152 +07:00 [DBG] Connection id "0HN6RFGVO235C" completed keep alive response.
2024-09-23 10:03:12.156 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 10:03:12.159 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 1590.0606ms
2024-09-23 10:03:59.082 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 10:03:59.174 +07:00 [DBG] Hosting starting
2024-09-23 10:03:59.352 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 10:03:59.394 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 10:03:59.394 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 10:03:59.395 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 10:03:59.395 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 10:03:59.396 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 10:03:59.405 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 10:03:59.411 +07:00 [INF] Hosting environment: Development
2024-09-23 10:03:59.412 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 10:03:59.413 +07:00 [DBG] Hosting started
2024-09-23 10:03:59.419 +07:00 [DBG] Connection id "0HN6RFHFE7EKJ" received FIN.
2024-09-23 10:03:59.419 +07:00 [DBG] Connection id "0HN6RFHFE7EKI" received FIN.
2024-09-23 10:03:59.421 +07:00 [DBG] Connection id "0HN6RFHFE7EKJ" accepted.
2024-09-23 10:03:59.421 +07:00 [DBG] Connection id "0HN6RFHFE7EKI" accepted.
2024-09-23 10:03:59.429 +07:00 [DBG] Connection id "0HN6RFHFE7EKJ" started.
2024-09-23 10:03:59.429 +07:00 [DBG] Connection id "0HN6RFHFE7EKI" started.
2024-09-23 10:03:59.457 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:03:59.457 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:03:59.502 +07:00 [DBG] Connection id "0HN6RFHFE7EKJ" stopped.
2024-09-23 10:03:59.502 +07:00 [DBG] Connection id "0HN6RFHFE7EKI" stopped.
2024-09-23 10:03:59.508 +07:00 [DBG] Connection id "0HN6RFHFE7EKJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:03:59.510 +07:00 [DBG] Connection id "0HN6RFHFE7EKI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:03:59.545 +07:00 [DBG] Connection id "0HN6RFHFE7EKK" accepted.
2024-09-23 10:03:59.553 +07:00 [DBG] Connection id "0HN6RFHFE7EKK" started.
2024-09-23 10:03:59.630 +07:00 [DBG] Connection 0HN6RFHFE7EKK established using the following protocol: "Tls12"
2024-09-23 10:03:59.748 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 10:03:59.844 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 10:04:00.011 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 10:04:00.129 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 10:04:00.130 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 10:04:00.134 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 10:04:00.134 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 394.2763ms
2024-09-23 10:04:00.135 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 5.1063ms
2024-09-23 10:04:00.170 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.5666ms
2024-09-23 10:04:00.228 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 10:04:00.414 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 186.1689ms
2024-09-23 10:04:03.865 +07:00 [DBG] Connection id "0HN6RFHFE7EKL" accepted.
2024-09-23 10:04:03.866 +07:00 [DBG] Connection id "0HN6RFHFE7EKL" received FIN.
2024-09-23 10:04:03.866 +07:00 [DBG] Connection id "0HN6RFHFE7EKL" started.
2024-09-23 10:04:03.867 +07:00 [DBG] Connection id "0HN6RFHFE7EKM" accepted.
2024-09-23 10:04:03.869 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:04:03.869 +07:00 [DBG] Connection id "0HN6RFHFE7EKM" started.
2024-09-23 10:04:03.870 +07:00 [DBG] Connection id "0HN6RFHFE7EKL" stopped.
2024-09-23 10:04:03.870 +07:00 [DBG] Connection id "0HN6RFHFE7EKL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:04:03.875 +07:00 [DBG] Connection 0HN6RFHFE7EKM established using the following protocol: "Tls12"
2024-09-23 10:04:03.883 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 10:04:03.884 +07:00 [DBG] PUT requests are not supported
2024-09-23 10:04:03.902 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:04:03.908 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:04:03.909 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:04:03.911 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:04:03.942 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 10:04:03.943 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:04:03.944 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:04:03.944 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:04:03.945 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:04:03.946 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:04:03.947 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:04:04.057 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 10:04:04.167 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:04:04.177 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:04:04.179 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 10:04:04.180 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:04:04.180 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:04:04.180 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:04:04.181 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:04:04.183 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:04:04.183 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 10:04:04.184 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:04:04.184 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:04:04.185 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:04:04.185 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:04:04.186 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:04:04.187 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-09-23 10:04:04.188 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-23 10:04:04.188 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-23 10:04:04.199 +07:00 [DBG] Connection id "0HN6RFHFE7EKM", Request id "0HN6RFHFE7EKM:00000002": started reading request body.
2024-09-23 10:04:04.200 +07:00 [DBG] Connection id "0HN6RFHFE7EKM", Request id "0HN6RFHFE7EKM:00000002": done reading request body.
2024-09-23 10:04:04.293 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:04:04.294 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:04:04.294 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:04:04.298 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:04:04.918 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 10:04:04.956 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-23 10:04:05.156 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 10:04:05.198 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:04:05.247 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (45ms).
2024-09-23 10:04:05.258 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:04:05.270 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:04:05.284 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:04:05.305 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:04:05.315 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:04:05.320 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:04:05.325 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:04:05.330 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-23 10:04:05.358 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 10:04:05.365 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:04:05.365 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:04:05.366 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:04:05.366 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:04:05.367 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 10:04:05.367 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 10:04:05.379 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:04:05.399 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:04:05.400 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:04:05.400 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:04:05.464 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API) in 1514.0503ms
2024-09-23 10:04:05.466 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:04:05.467 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestForUpdateDto -> List`1
CityInfo.API.Models.PointOfInterestForUpdateDto -> System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method62(Closure , PointOfInterestForUpdateDto , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointsofinterestId, PointOfInterestForUpdateDto pointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 115
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 10:04:05.484 +07:00 [DBG] Connection id "0HN6RFHFE7EKM" completed keep alive response.
2024-09-23 10:04:05.490 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 10:04:05.493 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 1610.5118ms
2024-09-23 10:04:20.089 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 10:04:20.224 +07:00 [DBG] Hosting starting
2024-09-23 10:04:20.345 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 10:04:20.371 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 10:04:20.372 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 10:04:20.374 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 10:04:20.375 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 10:04:20.375 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 10:04:20.376 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 10:04:20.377 +07:00 [INF] Hosting environment: Development
2024-09-23 10:04:20.378 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 10:04:20.378 +07:00 [DBG] Hosting started
2024-09-23 10:04:20.803 +07:00 [DBG] Connection id "0HN6RFHLQ5U8B" received FIN.
2024-09-23 10:04:20.803 +07:00 [DBG] Connection id "0HN6RFHLQ5U8C" received FIN.
2024-09-23 10:04:20.812 +07:00 [DBG] Connection id "0HN6RFHLQ5U8C" accepted.
2024-09-23 10:04:20.812 +07:00 [DBG] Connection id "0HN6RFHLQ5U8B" accepted.
2024-09-23 10:04:20.813 +07:00 [DBG] Connection id "0HN6RFHLQ5U8C" started.
2024-09-23 10:04:20.813 +07:00 [DBG] Connection id "0HN6RFHLQ5U8B" started.
2024-09-23 10:04:20.838 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:04:20.838 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:04:20.884 +07:00 [DBG] Connection id "0HN6RFHLQ5U8C" stopped.
2024-09-23 10:04:20.884 +07:00 [DBG] Connection id "0HN6RFHLQ5U8B" stopped.
2024-09-23 10:04:20.886 +07:00 [DBG] Connection id "0HN6RFHLQ5U8C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:04:20.886 +07:00 [DBG] Connection id "0HN6RFHLQ5U8B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:04:20.902 +07:00 [DBG] Connection id "0HN6RFHLQ5U8D" accepted.
2024-09-23 10:04:20.908 +07:00 [DBG] Connection id "0HN6RFHLQ5U8D" started.
2024-09-23 10:04:20.974 +07:00 [DBG] Connection 0HN6RFHLQ5U8D established using the following protocol: "Tls12"
2024-09-23 10:04:21.051 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 10:04:21.090 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 10:04:21.296 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 10:04:21.401 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 10:04:21.401 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 10:04:21.404 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 10:04:21.417 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 14.3021ms
2024-09-23 10:04:21.417 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 377.9140ms
2024-09-23 10:04:21.433 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.5468ms
2024-09-23 10:04:21.465 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 10:04:21.634 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 168.4212ms
2024-09-23 10:04:24.177 +07:00 [DBG] Connection id "0HN6RFHLQ5U8E" accepted.
2024-09-23 10:04:24.177 +07:00 [DBG] Connection id "0HN6RFHLQ5U8E" received FIN.
2024-09-23 10:04:24.178 +07:00 [DBG] Connection id "0HN6RFHLQ5U8E" started.
2024-09-23 10:04:24.178 +07:00 [DBG] Connection id "0HN6RFHLQ5U8F" accepted.
2024-09-23 10:04:24.179 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:04:24.179 +07:00 [DBG] Connection id "0HN6RFHLQ5U8F" started.
2024-09-23 10:04:24.180 +07:00 [DBG] Connection id "0HN6RFHLQ5U8E" stopped.
2024-09-23 10:04:24.181 +07:00 [DBG] Connection id "0HN6RFHLQ5U8E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:04:24.183 +07:00 [DBG] Connection 0HN6RFHLQ5U8F established using the following protocol: "Tls12"
2024-09-23 10:04:24.189 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 10:04:24.192 +07:00 [DBG] PUT requests are not supported
2024-09-23 10:04:24.208 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:04:24.213 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:04:24.214 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:04:24.216 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:04:24.248 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 10:04:24.250 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:04:24.250 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:04:24.251 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:04:24.251 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:04:24.252 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:04:24.253 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:04:24.361 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 10:04:24.466 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:04:24.477 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:04:24.479 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 10:04:24.480 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:04:24.480 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:04:24.481 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:04:24.482 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:04:24.483 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:04:24.484 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 10:04:24.484 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:04:24.485 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:04:24.485 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:04:24.486 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:04:24.486 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:04:24.487 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-09-23 10:04:24.488 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-23 10:04:24.490 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-23 10:04:24.502 +07:00 [DBG] Connection id "0HN6RFHLQ5U8F", Request id "0HN6RFHLQ5U8F:00000002": started reading request body.
2024-09-23 10:04:24.502 +07:00 [DBG] Connection id "0HN6RFHLQ5U8F", Request id "0HN6RFHLQ5U8F:00000002": done reading request body.
2024-09-23 10:04:24.591 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:04:24.592 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:04:24.593 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:04:24.597 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:04:25.195 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 10:04:25.233 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-23 10:04:25.436 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 10:04:25.479 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:04:25.525 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (41ms).
2024-09-23 10:04:25.536 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:04:25.548 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:04:25.560 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:04:25.579 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:04:25.588 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:04:25.594 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:04:25.598 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:04:25.604 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-23 10:04:25.634 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 10:04:25.642 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:04:25.643 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:04:25.643 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:04:25.644 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:04:25.644 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 10:04:25.645 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 10:04:25.656 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:04:25.676 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:04:25.676 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:04:25.677 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:04:25.762 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API) in 1503.5859ms
2024-09-23 10:04:25.764 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:04:25.765 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
List`1 -> PointOfInterest
System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> CityInfo.API.Entities.PointOfInterest
   at lambda_method61(Closure , Object , PointOfInterest , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointsofinterestId, PointOfInterestForUpdateDto pointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 113
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 10:04:25.781 +07:00 [DBG] Connection id "0HN6RFHLQ5U8F" completed keep alive response.
2024-09-23 10:04:25.785 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 10:04:25.787 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 1598.4566ms
2024-09-23 10:06:37.784 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 10:06:37.893 +07:00 [DBG] Hosting starting
2024-09-23 10:06:38.038 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 10:06:38.081 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 10:06:38.085 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 10:06:38.086 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 10:06:38.086 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 10:06:38.087 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 10:06:38.088 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 10:06:38.090 +07:00 [INF] Hosting environment: Development
2024-09-23 10:06:38.090 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 10:06:38.090 +07:00 [DBG] Hosting started
2024-09-23 10:06:38.385 +07:00 [DBG] Connection id "0HN6RFIUQ8FMV" received FIN.
2024-09-23 10:06:38.385 +07:00 [DBG] Connection id "0HN6RFIUQ8FMU" received FIN.
2024-09-23 10:06:38.400 +07:00 [DBG] Connection id "0HN6RFIUQ8FMV" accepted.
2024-09-23 10:06:38.400 +07:00 [DBG] Connection id "0HN6RFIUQ8FMU" accepted.
2024-09-23 10:06:38.403 +07:00 [DBG] Connection id "0HN6RFIUQ8FMV" started.
2024-09-23 10:06:38.403 +07:00 [DBG] Connection id "0HN6RFIUQ8FMU" started.
2024-09-23 10:06:38.418 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:06:38.418 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:06:38.448 +07:00 [DBG] Connection id "0HN6RFIUQ8FMU" stopped.
2024-09-23 10:06:38.448 +07:00 [DBG] Connection id "0HN6RFIUQ8FMV" stopped.
2024-09-23 10:06:38.451 +07:00 [DBG] Connection id "0HN6RFIUQ8FMU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:06:38.451 +07:00 [DBG] Connection id "0HN6RFIUQ8FMV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:06:38.473 +07:00 [DBG] Connection id "0HN6RFIUQ8FN0" accepted.
2024-09-23 10:06:38.473 +07:00 [DBG] Connection id "0HN6RFIUQ8FN0" started.
2024-09-23 10:06:38.521 +07:00 [DBG] Connection 0HN6RFIUQ8FN0 established using the following protocol: "Tls12"
2024-09-23 10:06:38.585 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 10:06:38.621 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 10:06:38.811 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 10:06:38.920 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 10:06:38.927 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 345.9370ms
2024-09-23 10:06:38.934 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 10:06:38.935 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 10:06:38.952 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 17.4304ms
2024-09-23 10:06:38.966 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.2512ms
2024-09-23 10:06:38.990 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 10:06:39.134 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 143.5961ms
2024-09-23 10:06:42.556 +07:00 [DBG] Connection id "0HN6RFIUQ8FN1" accepted.
2024-09-23 10:06:42.556 +07:00 [DBG] Connection id "0HN6RFIUQ8FN1" received FIN.
2024-09-23 10:06:42.558 +07:00 [DBG] Connection id "0HN6RFIUQ8FN1" started.
2024-09-23 10:06:42.559 +07:00 [DBG] Connection id "0HN6RFIUQ8FN2" accepted.
2024-09-23 10:06:42.561 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:06:42.561 +07:00 [DBG] Connection id "0HN6RFIUQ8FN2" started.
2024-09-23 10:06:42.567 +07:00 [DBG] Connection id "0HN6RFIUQ8FN1" stopped.
2024-09-23 10:06:42.569 +07:00 [DBG] Connection id "0HN6RFIUQ8FN1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:06:42.574 +07:00 [DBG] Connection 0HN6RFIUQ8FN2 established using the following protocol: "Tls12"
2024-09-23 10:06:42.583 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities - -
2024-09-23 10:06:42.585 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 10:06:42.602 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 10:06:42.606 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 10:06:42.607 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 10:06:42.609 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 10:06:42.632 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 10:06:42.633 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:06:42.633 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:06:42.634 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:06:42.635 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:06:42.635 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:06:42.636 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 10:06:42.739 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 10:06:42.783 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 10:06:43.371 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 10:06:43.410 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-09-23 10:06:43.625 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 10:06:43.658 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:06:43.700 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (38ms).
2024-09-23 10:06:43.709 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:06:43.723 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:06:43.733 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-23 10:06:43.763 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-23 10:06:43.778 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:06:43.796 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:06:43.797 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:06:43.802 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:06:43.808 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:06:43.812 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:06:43.897 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1255.9897ms
2024-09-23 10:06:43.901 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 10:06:43.902 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> IEnumerable`1
System.Collections.Generic.List`1[[CityInfo.API.Entities.City, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IEnumerable`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
City -> CityDto
CityInfo.API.Entities.City -> CityInfo.API.Models.CityDto
   at lambda_method58(Closure , City , CityDto , ResolutionContext )
   at lambda_method57(Closure , Object , IEnumerable`1 , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method57(Closure , Object , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCities() in D:\C#-Project\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 37
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 10:06:43.933 +07:00 [DBG] Connection id "0HN6RFIUQ8FN2" completed keep alive response.
2024-09-23 10:06:43.936 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 10:06:43.939 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities - - - 500 - text/plain;+charset=utf-8 1355.6561ms
2024-09-23 10:07:04.961 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 10:07:05.057 +07:00 [DBG] Hosting starting
2024-09-23 10:07:05.176 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 10:07:05.204 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 10:07:05.205 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 10:07:05.205 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 10:07:05.206 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 10:07:05.206 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 10:07:05.207 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 10:07:05.208 +07:00 [INF] Hosting environment: Development
2024-09-23 10:07:05.208 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 10:07:05.209 +07:00 [DBG] Hosting started
2024-09-23 10:07:05.424 +07:00 [DBG] Connection id "0HN6RFJ6S45KR" received FIN.
2024-09-23 10:07:05.427 +07:00 [DBG] Connection id "0HN6RFJ6S45KR" accepted.
2024-09-23 10:07:05.428 +07:00 [DBG] Connection id "0HN6RFJ6S45KR" started.
2024-09-23 10:07:05.443 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:07:05.468 +07:00 [DBG] Connection id "0HN6RFJ6S45KR" stopped.
2024-09-23 10:07:05.470 +07:00 [DBG] Connection id "0HN6RFJ6S45KR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:07:05.917 +07:00 [DBG] Connection id "0HN6RFJ6S45KS" accepted.
2024-09-23 10:07:05.919 +07:00 [DBG] Connection id "0HN6RFJ6S45KS" started.
2024-09-23 10:07:05.981 +07:00 [DBG] Connection 0HN6RFJ6S45KS established using the following protocol: "Tls12"
2024-09-23 10:07:06.043 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 10:07:06.107 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 10:07:06.351 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 10:07:06.460 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 10:07:06.469 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 429.3201ms
2024-09-23 10:07:06.471 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 10:07:06.471 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 10:07:06.492 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 21.0941ms
2024-09-23 10:07:06.508 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 37.6538ms
2024-09-23 10:07:06.535 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 10:07:06.679 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 143.6174ms
2024-09-23 10:07:07.787 +07:00 [DBG] Connection id "0HN6RFJ6S45KT" accepted.
2024-09-23 10:07:07.789 +07:00 [DBG] Connection id "0HN6RFJ6S45KT" started.
2024-09-23 10:07:07.794 +07:00 [DBG] Connection id "0HN6RFJ6S45KT" received FIN.
2024-09-23 10:07:07.794 +07:00 [DBG] Connection id "0HN6RFJ6S45KU" accepted.
2024-09-23 10:07:07.798 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:07:07.799 +07:00 [DBG] Connection id "0HN6RFJ6S45KU" started.
2024-09-23 10:07:07.803 +07:00 [DBG] Connection id "0HN6RFJ6S45KT" stopped.
2024-09-23 10:07:07.804 +07:00 [DBG] Connection id "0HN6RFJ6S45KT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:07:07.806 +07:00 [DBG] Connection 0HN6RFJ6S45KU established using the following protocol: "Tls12"
2024-09-23 10:07:07.817 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities - -
2024-09-23 10:07:07.818 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 10:07:07.835 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 10:07:07.840 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 10:07:07.841 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 10:07:07.843 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 10:07:07.865 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 10:07:07.866 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:07:07.867 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:07:07.868 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:07:07.868 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:07:07.869 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:07:07.870 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 10:07:07.972 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 10:07:08.015 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 10:07:08.606 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 10:07:08.644 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-09-23 10:07:08.873 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 10:07:08.909 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:07:08.957 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (44ms).
2024-09-23 10:07:08.966 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:07:08.980 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:07:08.992 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-23 10:07:09.010 +07:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-23 10:07:09.026 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:07:09.044 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:07:09.045 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:07:09.050 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:07:09.056 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:07:09.060 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:07:09.136 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1262.8225ms
2024-09-23 10:07:09.138 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 10:07:09.139 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> IEnumerable`1
System.Collections.Generic.List`1[[CityInfo.API.Entities.City, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IEnumerable`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
City -> CityDto
CityInfo.API.Entities.City -> CityInfo.API.Models.CityDto
   at lambda_method58(Closure , City , CityDto , ResolutionContext )
   at lambda_method57(Closure , Object , IEnumerable`1 , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method57(Closure , Object , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCities() in D:\C#-Project\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 37
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 10:07:09.160 +07:00 [DBG] Connection id "0HN6RFJ6S45KU" completed keep alive response.
2024-09-23 10:07:09.168 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 10:07:09.173 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities - - - 500 - text/plain;+charset=utf-8 1356.1243ms
2024-09-23 10:07:11.679 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1 - -
2024-09-23 10:07:11.680 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 10:07:11.682 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-23 10:07:11.684 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-23 10:07:11.686 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-23 10:07:11.686 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-23 10:07:11.696 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 10:07:11.697 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:07:11.698 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:07:11.699 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:07:11.700 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:07:11.700 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:07:11.701 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 10:07:11.707 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 10:07:11.711 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-23 10:07:11.713 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-23 10:07:11.715 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-23 10:07:11.716 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-23 10:07:11.716 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-23 10:07:11.718 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-23 10:07:11.720 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-23 10:07:11.720 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name '' in request data ...
2024-09-23 10:07:11.721 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-23 10:07:11.721 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-23 10:07:11.722 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-23 10:07:11.722 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-23 10:07:11.722 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-23 10:07:11.726 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 10:07:11.737 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-23 10:07:11.761 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 10:07:11.773 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:07:11.773 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:07:11.775 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:07:11.775 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:07:11.779 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-23 10:07:11.785 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-23 10:07:11.786 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:07:11.786 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:07:11.787 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:07:11.787 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:07:11.812 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 111.2395ms
2024-09-23 10:07:11.813 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-23 10:07:11.814 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
City -> CityWithoutPointOfInterestDto
CityInfo.API.Entities.City -> CityInfo.API.Models.CityWithoutPointOfInterestDto
   at lambda_method69(Closure , Object , CityWithoutPointOfInterestDto , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 54
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 10:07:11.818 +07:00 [DBG] Connection id "0HN6RFJ6S45KU" completed keep alive response.
2024-09-23 10:07:11.818 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 10:07:11.819 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1 - - - 500 - text/plain;+charset=utf-8 139.3741ms
2024-09-23 10:14:24.841 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 10:14:24.962 +07:00 [DBG] Hosting starting
2024-09-23 10:14:25.135 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 10:14:25.164 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 10:14:25.165 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 10:14:25.165 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 10:14:25.166 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 10:14:25.166 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 10:14:25.167 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 10:14:25.168 +07:00 [INF] Hosting environment: Development
2024-09-23 10:14:25.169 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 10:14:25.169 +07:00 [DBG] Hosting started
2024-09-23 10:14:25.520 +07:00 [DBG] Connection id "0HN6RFNA156NT" accepted.
2024-09-23 10:14:25.521 +07:00 [DBG] Connection id "0HN6RFNA156NT" received FIN.
2024-09-23 10:14:25.520 +07:00 [DBG] Connection id "0HN6RFNA156NU" accepted.
2024-09-23 10:14:25.521 +07:00 [DBG] Connection id "0HN6RFNA156NU" received FIN.
2024-09-23 10:14:25.523 +07:00 [DBG] Connection id "0HN6RFNA156NT" started.
2024-09-23 10:14:25.523 +07:00 [DBG] Connection id "0HN6RFNA156NU" started.
2024-09-23 10:14:25.549 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:14:25.549 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:14:25.586 +07:00 [DBG] Connection id "0HN6RFNA156NT" stopped.
2024-09-23 10:14:25.587 +07:00 [DBG] Connection id "0HN6RFNA156NU" stopped.
2024-09-23 10:14:25.590 +07:00 [DBG] Connection id "0HN6RFNA156NT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:14:25.590 +07:00 [DBG] Connection id "0HN6RFNA156NU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:14:25.619 +07:00 [DBG] Connection id "0HN6RFNA156NV" accepted.
2024-09-23 10:14:25.627 +07:00 [DBG] Connection id "0HN6RFNA156NV" started.
2024-09-23 10:14:25.742 +07:00 [DBG] Connection 0HN6RFNA156NV established using the following protocol: "Tls12"
2024-09-23 10:14:25.849 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 10:14:25.908 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 10:14:26.105 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 10:14:26.210 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 10:14:26.222 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 375.0886ms
2024-09-23 10:14:26.225 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 10:14:26.225 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 10:14:26.237 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 12.1703ms
2024-09-23 10:14:26.253 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.1873ms
2024-09-23 10:14:26.277 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 10:14:26.417 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 139.7565ms
2024-09-23 10:14:29.460 +07:00 [DBG] Connection id "0HN6RFNA156O0" accepted.
2024-09-23 10:14:29.460 +07:00 [DBG] Connection id "0HN6RFNA156O0" received FIN.
2024-09-23 10:14:29.461 +07:00 [DBG] Connection id "0HN6RFNA156O0" started.
2024-09-23 10:14:29.462 +07:00 [DBG] Connection id "0HN6RFNA156O1" accepted.
2024-09-23 10:14:29.464 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:14:29.464 +07:00 [DBG] Connection id "0HN6RFNA156O1" started.
2024-09-23 10:14:29.467 +07:00 [DBG] Connection id "0HN6RFNA156O0" stopped.
2024-09-23 10:14:29.469 +07:00 [DBG] Connection id "0HN6RFNA156O0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:14:29.473 +07:00 [DBG] Connection 0HN6RFNA156O1 established using the following protocol: "Tls12"
2024-09-23 10:14:29.481 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1 - -
2024-09-23 10:14:29.483 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 10:14:29.500 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-23 10:14:29.505 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-23 10:14:29.506 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-23 10:14:29.507 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-23 10:14:29.540 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 10:14:29.542 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:14:29.542 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:14:29.543 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:14:29.543 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:14:29.544 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:14:29.545 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 10:14:29.648 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 10:14:29.766 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 10:14:29.774 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-23 10:14:29.775 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-23 10:14:29.776 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-23 10:14:29.777 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-23 10:14:29.777 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-23 10:14:29.778 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-23 10:14:29.781 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-23 10:14:29.782 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name '' in request data ...
2024-09-23 10:14:29.783 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-23 10:14:29.784 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-23 10:14:29.785 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-23 10:14:29.785 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-23 10:14:29.786 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-23 10:14:30.379 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 10:14:30.433 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-23 10:14:30.644 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 10:14:30.687 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:14:30.729 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (38ms).
2024-09-23 10:14:30.739 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:14:30.752 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:14:30.764 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-23 10:14:30.785 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-23 10:14:30.800 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:14:30.823 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:14:30.828 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:14:30.833 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:14:30.840 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 10:14:30.843 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 10:14:30.843 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 10:14:30.843 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 10:14:30.844 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 10:14:30.844 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2024-09-23 10:14:30.959 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1410.5996ms
2024-09-23 10:14:30.960 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-23 10:14:30.961 +07:00 [DBG] Connection id "0HN6RFNA156O1" completed keep alive response.
2024-09-23 10:14:30.966 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 10:14:30.970 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1 - - - 200 74 application/json;+charset=utf-8 1488.7634ms
2024-09-23 10:14:33.427 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7139/api/cities/1 - 0
2024-09-23 10:14:33.428 +07:00 [DBG] PUT requests are not supported
2024-09-23 10:14:33.428 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-23 10:14:33.429 +07:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-23 10:14:33.429 +07:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-09-23 10:14:33.429 +07:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-09-23 10:14:33.430 +07:00 [DBG] Connection id "0HN6RFNA156O1" completed keep alive response.
2024-09-23 10:14:33.431 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7139/api/cities/1 - 0 - 405 0 - 3.8075ms
2024-09-23 10:14:42.443 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 10:14:42.444 +07:00 [DBG] PUT requests are not supported
2024-09-23 10:14:42.444 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:14:42.445 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:14:42.446 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:14:42.447 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:14:42.454 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 10:14:42.455 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:14:42.457 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:14:42.458 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:14:42.459 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:14:42.459 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:14:42.460 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:14:42.468 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:14:42.469 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:14:42.469 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 10:14:42.470 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:14:42.470 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:14:42.471 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:14:42.471 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:14:42.471 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:14:42.472 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 10:14:42.473 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:14:42.473 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:14:42.474 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:14:42.474 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:14:42.474 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:14:42.475 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-09-23 10:14:42.476 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-23 10:14:42.477 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-23 10:14:42.485 +07:00 [DBG] Connection id "0HN6RFNA156O1", Request id "0HN6RFNA156O1:00000004": started reading request body.
2024-09-23 10:14:42.485 +07:00 [DBG] Connection id "0HN6RFNA156O1", Request id "0HN6RFNA156O1:00000004": done reading request body.
2024-09-23 10:14:42.518 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:14:42.519 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:14:42.519 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:14:42.525 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:14:42.528 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 10:14:42.534 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-23 10:14:42.541 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 10:14:42.550 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:14:42.551 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:14:42.551 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:14:42.551 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:14:42.552 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:14:42.553 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:14:42.554 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:14:42.555 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:14:42.555 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:14:42.560 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-23 10:14:42.563 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 10:14:42.566 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:14:42.566 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:14:42.567 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:14:42.567 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:14:42.568 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 10:14:42.569 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 10:14:42.571 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:14:42.574 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:14:42.575 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:14:42.575 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:14:42.627 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API) in 167.2476ms
2024-09-23 10:14:42.628 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:14:42.629 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestForUpdateDto -> List`1
CityInfo.API.Models.PointOfInterestForUpdateDto -> System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method94(Closure , PointOfInterestForUpdateDto , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointsofinterestId, PointOfInterestForUpdateDto pointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 115
   at lambda_method64(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 10:14:42.645 +07:00 [DBG] Connection id "0HN6RFNA156O1" completed keep alive response.
2024-09-23 10:14:42.645 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 10:14:42.646 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 202.5094ms
2024-09-23 10:24:47.898 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 10:24:48.020 +07:00 [DBG] Hosting starting
2024-09-23 10:24:48.161 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 10:24:48.213 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 10:24:48.214 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 10:24:48.215 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 10:24:48.215 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 10:24:48.215 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 10:24:48.216 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 10:24:48.217 +07:00 [INF] Hosting environment: Development
2024-09-23 10:24:48.217 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 10:24:48.217 +07:00 [DBG] Hosting started
2024-09-23 10:24:48.602 +07:00 [DBG] Connection id "0HN6RFT3NC8C7" received FIN.
2024-09-23 10:24:48.603 +07:00 [DBG] Connection id "0HN6RFT3NC8C8" received FIN.
2024-09-23 10:24:48.618 +07:00 [DBG] Connection id "0HN6RFT3NC8C7" accepted.
2024-09-23 10:24:48.619 +07:00 [DBG] Connection id "0HN6RFT3NC8C8" accepted.
2024-09-23 10:24:48.629 +07:00 [DBG] Connection id "0HN6RFT3NC8C8" started.
2024-09-23 10:24:48.629 +07:00 [DBG] Connection id "0HN6RFT3NC8C7" started.
2024-09-23 10:24:48.661 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:24:48.661 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:24:48.760 +07:00 [DBG] Connection id "0HN6RFT3NC8C7" stopped.
2024-09-23 10:24:48.760 +07:00 [DBG] Connection id "0HN6RFT3NC8C8" stopped.
2024-09-23 10:24:48.773 +07:00 [DBG] Connection id "0HN6RFT3NC8C7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:24:48.773 +07:00 [DBG] Connection id "0HN6RFT3NC8C8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:24:48.788 +07:00 [DBG] Connection id "0HN6RFT3NC8C9" accepted.
2024-09-23 10:24:48.800 +07:00 [DBG] Connection id "0HN6RFT3NC8C9" started.
2024-09-23 10:24:48.934 +07:00 [DBG] Connection 0HN6RFT3NC8C9 established using the following protocol: "Tls12"
2024-09-23 10:24:49.018 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 10:24:49.076 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 10:24:49.263 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 10:24:49.372 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 10:24:49.381 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 362.9381ms
2024-09-23 10:24:49.383 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 10:24:49.383 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 10:24:49.400 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 17.0813ms
2024-09-23 10:24:49.414 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.7424ms
2024-09-23 10:24:49.442 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 10:24:49.591 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 149.1433ms
2024-09-23 10:24:51.211 +07:00 [DBG] Connection id "0HN6RFT3NC8CA" accepted.
2024-09-23 10:24:51.212 +07:00 [DBG] Connection id "0HN6RFT3NC8CA" received FIN.
2024-09-23 10:24:51.213 +07:00 [DBG] Connection id "0HN6RFT3NC8CA" started.
2024-09-23 10:24:51.213 +07:00 [DBG] Connection id "0HN6RFT3NC8CB" accepted.
2024-09-23 10:24:51.215 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:24:51.216 +07:00 [DBG] Connection id "0HN6RFT3NC8CB" started.
2024-09-23 10:24:51.217 +07:00 [DBG] Connection id "0HN6RFT3NC8CA" stopped.
2024-09-23 10:24:51.217 +07:00 [DBG] Connection id "0HN6RFT3NC8CA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:24:51.222 +07:00 [DBG] Connection 0HN6RFT3NC8CB established using the following protocol: "Tls12"
2024-09-23 10:24:51.230 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 10:24:51.231 +07:00 [DBG] PUT requests are not supported
2024-09-23 10:24:51.249 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:24:51.256 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:24:51.258 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:24:51.260 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:24:51.298 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 10:24:51.299 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:24:51.300 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:24:51.301 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:24:51.302 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:24:51.302 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:24:51.304 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:24:51.421 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 10:24:51.544 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:24:51.553 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:24:51.555 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 10:24:51.556 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:24:51.557 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:24:51.557 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:24:51.559 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:24:51.561 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:24:51.561 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 10:24:51.562 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:24:51.562 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:24:51.563 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:24:51.563 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:24:51.564 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:24:51.565 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-09-23 10:24:51.566 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-23 10:24:51.567 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-23 10:24:51.580 +07:00 [DBG] Connection id "0HN6RFT3NC8CB", Request id "0HN6RFT3NC8CB:00000002": started reading request body.
2024-09-23 10:24:51.581 +07:00 [DBG] Connection id "0HN6RFT3NC8CB", Request id "0HN6RFT3NC8CB:00000002": done reading request body.
2024-09-23 10:24:51.669 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:24:51.670 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:24:51.671 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:24:51.676 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:24:52.296 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 10:24:52.335 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-23 10:24:52.539 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 10:24:52.584 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:24:52.627 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (39ms).
2024-09-23 10:24:52.639 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:24:52.651 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:24:52.662 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:24:52.682 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:24:52.693 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:24:52.698 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:24:52.702 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:24:52.709 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-23 10:24:52.738 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 10:24:52.745 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:24:52.745 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:24:52.746 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:24:52.746 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:24:52.747 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 10:24:52.748 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 10:24:52.759 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:24:52.782 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:24:52.783 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:24:52.783 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:24:52.842 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API) in 1534.6853ms
2024-09-23 10:24:52.844 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:24:52.844 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestForUpdateDto -> IEnumerable`1
CityInfo.API.Models.PointOfInterestForUpdateDto -> System.Collections.Generic.IEnumerable`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method61(Closure , Object , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointsofinterestId, PointOfInterestForUpdateDto pointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 115
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 10:24:52.862 +07:00 [DBG] Connection id "0HN6RFT3NC8CB" completed keep alive response.
2024-09-23 10:24:52.865 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 10:24:52.868 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 1638.0159ms
2024-09-23 10:25:43.009 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 10:25:43.135 +07:00 [DBG] Hosting starting
2024-09-23 10:25:43.272 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 10:25:43.296 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 10:25:43.298 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 10:25:43.299 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 10:25:43.300 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 10:25:43.301 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 10:25:43.301 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 10:25:43.302 +07:00 [INF] Hosting environment: Development
2024-09-23 10:25:43.302 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 10:25:43.303 +07:00 [DBG] Hosting started
2024-09-23 10:25:43.460 +07:00 [DBG] Connection id "0HN6RFTK2HCOQ" received FIN.
2024-09-23 10:25:43.460 +07:00 [DBG] Connection id "0HN6RFTK2HCOR" received FIN.
2024-09-23 10:25:43.463 +07:00 [DBG] Connection id "0HN6RFTK2HCOQ" accepted.
2024-09-23 10:25:43.463 +07:00 [DBG] Connection id "0HN6RFTK2HCOP" accepted.
2024-09-23 10:25:43.469 +07:00 [DBG] Connection id "0HN6RFTK2HCOP" started.
2024-09-23 10:25:43.469 +07:00 [DBG] Connection id "0HN6RFTK2HCOQ" started.
2024-09-23 10:25:43.484 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:25:43.484 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:25:43.511 +07:00 [DBG] Connection id "0HN6RFTK2HCOQ" stopped.
2024-09-23 10:25:43.511 +07:00 [DBG] Connection id "0HN6RFTK2HCOP" stopped.
2024-09-23 10:25:43.513 +07:00 [DBG] Connection id "0HN6RFTK2HCOQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:25:43.513 +07:00 [DBG] Connection id "0HN6RFTK2HCOP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:25:43.722 +07:00 [DBG] Connection id "0HN6RFTK2HCOS" accepted.
2024-09-23 10:25:43.723 +07:00 [DBG] Connection id "0HN6RFTK2HCOS" started.
2024-09-23 10:25:43.764 +07:00 [DBG] Connection 0HN6RFTK2HCOS established using the following protocol: "Tls12"
2024-09-23 10:25:43.848 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 10:25:43.888 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 10:25:44.078 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 10:25:44.182 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 10:25:44.189 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 351.0893ms
2024-09-23 10:25:44.192 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 10:25:44.192 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 10:25:44.203 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 11.2921ms
2024-09-23 10:25:44.218 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 26.3450ms
2024-09-23 10:25:44.247 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 10:25:44.386 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 139.5743ms
2024-09-23 10:26:16.048 +07:00 [DBG] Connection id "0HN6RFTK2HCOT" accepted.
2024-09-23 10:26:16.051 +07:00 [DBG] Connection id "0HN6RFTK2HCOT" received FIN.
2024-09-23 10:26:16.052 +07:00 [DBG] Connection id "0HN6RFTK2HCOT" started.
2024-09-23 10:26:16.052 +07:00 [DBG] Connection id "0HN6RFTK2HCOU" accepted.
2024-09-23 10:26:16.060 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:26:16.060 +07:00 [DBG] Connection id "0HN6RFTK2HCOU" started.
2024-09-23 10:26:16.062 +07:00 [DBG] Connection id "0HN6RFTK2HCOT" stopped.
2024-09-23 10:26:16.062 +07:00 [DBG] Connection id "0HN6RFTK2HCOT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:26:16.076 +07:00 [DBG] Connection 0HN6RFTK2HCOU established using the following protocol: "Tls12"
2024-09-23 10:26:16.085 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 10:26:16.087 +07:00 [DBG] PUT requests are not supported
2024-09-23 10:26:16.105 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:26:16.110 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:26:16.111 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:26:16.113 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:26:16.143 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 10:26:16.145 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:26:16.145 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:26:16.146 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:26:16.146 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:26:16.147 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:26:16.148 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:26:16.245 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 10:26:16.361 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:26:16.369 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:26:16.371 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 10:26:16.372 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:26:16.373 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:26:16.373 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:26:16.375 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:26:16.377 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:26:16.377 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 10:26:16.378 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:26:16.378 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:26:16.378 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:26:16.379 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:26:16.379 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:26:16.380 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-09-23 10:26:16.381 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-23 10:26:16.382 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-23 10:26:16.393 +07:00 [DBG] Connection id "0HN6RFTK2HCOU", Request id "0HN6RFTK2HCOU:00000002": started reading request body.
2024-09-23 10:26:16.393 +07:00 [DBG] Connection id "0HN6RFTK2HCOU", Request id "0HN6RFTK2HCOU:00000002": done reading request body.
2024-09-23 10:26:16.483 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:26:16.484 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:26:16.485 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:26:16.492 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:26:17.106 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 10:26:17.148 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-23 10:26:17.344 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 10:26:17.387 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:26:17.433 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (43ms).
2024-09-23 10:26:17.445 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:26:17.457 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:26:17.469 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:26:17.487 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:26:17.497 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:26:17.503 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:26:17.509 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:26:17.515 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-23 10:26:17.549 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 10:26:17.557 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:26:17.558 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:26:17.558 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:26:17.559 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:26:17.559 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 10:26:17.560 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 10:26:17.572 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:26:17.592 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:26:17.592 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:26:17.593 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:26:17.653 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API) in 1501.9753ms
2024-09-23 10:26:17.655 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:26:17.657 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterest -> List`1
CityInfo.API.Entities.PointOfInterest -> System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method62(Closure , PointOfInterest , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointsofinterestId, PointOfInterestForUpdateDto pointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 117
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 10:26:17.671 +07:00 [DBG] Connection id "0HN6RFTK2HCOU" completed keep alive response.
2024-09-23 10:26:17.676 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 10:26:17.679 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 1593.9255ms
2024-09-23 10:27:51.647 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 10:27:51.748 +07:00 [DBG] Hosting starting
2024-09-23 10:27:52.003 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 10:27:52.066 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 10:27:52.066 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 10:27:52.067 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 10:27:52.067 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 10:27:52.068 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 10:27:52.068 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 10:27:52.069 +07:00 [INF] Hosting environment: Development
2024-09-23 10:27:52.069 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 10:27:52.070 +07:00 [DBG] Hosting started
2024-09-23 10:27:52.196 +07:00 [DBG] Connection id "0HN6RFUQE6QOG" accepted.
2024-09-23 10:27:52.196 +07:00 [DBG] Connection id "0HN6RFUQE6QOH" accepted.
2024-09-23 10:27:52.199 +07:00 [DBG] Connection id "0HN6RFUQE6QOG" started.
2024-09-23 10:27:52.199 +07:00 [DBG] Connection id "0HN6RFUQE6QOH" started.
2024-09-23 10:27:52.219 +07:00 [DBG] Connection id "0HN6RFUQE6QOG" received FIN.
2024-09-23 10:27:52.219 +07:00 [DBG] Connection id "0HN6RFUQE6QOH" received FIN.
2024-09-23 10:27:52.253 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:27:52.253 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:27:52.303 +07:00 [DBG] Connection id "0HN6RFUQE6QOH" stopped.
2024-09-23 10:27:52.303 +07:00 [DBG] Connection id "0HN6RFUQE6QOG" stopped.
2024-09-23 10:27:52.305 +07:00 [DBG] Connection id "0HN6RFUQE6QOH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:27:52.305 +07:00 [DBG] Connection id "0HN6RFUQE6QOG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:27:52.318 +07:00 [DBG] Connection id "0HN6RFUQE6QOI" accepted.
2024-09-23 10:27:52.322 +07:00 [DBG] Connection id "0HN6RFUQE6QOI" started.
2024-09-23 10:27:52.388 +07:00 [DBG] Connection 0HN6RFUQE6QOI established using the following protocol: "Tls12"
2024-09-23 10:27:52.500 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 10:27:52.556 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 10:27:52.779 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 10:27:52.890 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 10:27:52.899 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 408.4636ms
2024-09-23 10:27:52.911 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 10:27:52.918 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 10:27:52.918 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 6.8536ms
2024-09-23 10:27:52.941 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.2543ms
2024-09-23 10:27:52.973 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 10:27:53.132 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 158.9548ms
2024-09-23 10:27:54.504 +07:00 [DBG] Connection id "0HN6RFUQE6QOJ" accepted.
2024-09-23 10:27:54.505 +07:00 [DBG] Connection id "0HN6RFUQE6QOJ" received FIN.
2024-09-23 10:27:54.505 +07:00 [DBG] Connection id "0HN6RFUQE6QOJ" started.
2024-09-23 10:27:54.506 +07:00 [DBG] Connection id "0HN6RFUQE6QOK" accepted.
2024-09-23 10:27:54.507 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:27:54.508 +07:00 [DBG] Connection id "0HN6RFUQE6QOK" started.
2024-09-23 10:27:54.513 +07:00 [DBG] Connection id "0HN6RFUQE6QOJ" stopped.
2024-09-23 10:27:54.514 +07:00 [DBG] Connection id "0HN6RFUQE6QOJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:27:54.517 +07:00 [DBG] Connection 0HN6RFUQE6QOK established using the following protocol: "Tls12"
2024-09-23 10:27:54.523 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 10:27:54.524 +07:00 [DBG] PUT requests are not supported
2024-09-23 10:27:54.542 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:27:54.547 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:27:54.549 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:27:54.551 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:27:54.584 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 10:27:54.586 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:27:54.586 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:27:54.587 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:27:54.587 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:27:54.588 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:27:54.589 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:27:54.687 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:27:54.698 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:27:54.699 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 10:27:54.701 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:27:54.701 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:27:54.702 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:27:54.703 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:27:54.704 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:27:54.705 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 10:27:54.706 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:27:54.706 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:27:54.706 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:27:54.707 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:27:54.707 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:27:54.708 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-09-23 10:27:54.710 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-23 10:27:54.711 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-23 10:27:54.721 +07:00 [DBG] Connection id "0HN6RFUQE6QOK", Request id "0HN6RFUQE6QOK:00000002": started reading request body.
2024-09-23 10:27:54.721 +07:00 [DBG] Connection id "0HN6RFUQE6QOK", Request id "0HN6RFUQE6QOK:00000002": done reading request body.
2024-09-23 10:27:54.818 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:27:54.819 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:27:54.820 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:27:54.824 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:32:33.622 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 10:32:33.778 +07:00 [DBG] Hosting starting
2024-09-23 10:32:33.921 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 10:32:33.961 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 10:32:33.961 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 10:32:33.962 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 10:32:33.962 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 10:32:33.963 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 10:32:33.963 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 10:32:33.964 +07:00 [INF] Hosting environment: Development
2024-09-23 10:32:33.964 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 10:32:33.965 +07:00 [DBG] Hosting started
2024-09-23 10:32:34.344 +07:00 [DBG] Connection id "0HN6RG1EH1CNH" received FIN.
2024-09-23 10:32:34.344 +07:00 [DBG] Connection id "0HN6RG1EH1CNI" received FIN.
2024-09-23 10:32:34.350 +07:00 [DBG] Connection id "0HN6RG1EH1CNH" accepted.
2024-09-23 10:32:34.350 +07:00 [DBG] Connection id "0HN6RG1EH1CNI" accepted.
2024-09-23 10:32:34.352 +07:00 [DBG] Connection id "0HN6RG1EH1CNI" started.
2024-09-23 10:32:34.352 +07:00 [DBG] Connection id "0HN6RG1EH1CNH" started.
2024-09-23 10:32:34.367 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:32:34.367 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:32:34.393 +07:00 [DBG] Connection id "0HN6RG1EH1CNH" stopped.
2024-09-23 10:32:34.393 +07:00 [DBG] Connection id "0HN6RG1EH1CNI" stopped.
2024-09-23 10:32:34.398 +07:00 [DBG] Connection id "0HN6RG1EH1CNI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:32:34.398 +07:00 [DBG] Connection id "0HN6RG1EH1CNH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:32:34.819 +07:00 [DBG] Connection id "0HN6RG1EH1CNJ" accepted.
2024-09-23 10:32:34.820 +07:00 [DBG] Connection id "0HN6RG1EH1CNJ" started.
2024-09-23 10:32:34.867 +07:00 [DBG] Connection 0HN6RG1EH1CNJ established using the following protocol: "Tls12"
2024-09-23 10:32:34.930 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 10:32:34.977 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 10:32:35.163 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 10:32:35.267 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 10:32:35.275 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 347.7277ms
2024-09-23 10:32:35.282 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 10:32:35.282 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 10:32:35.292 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 10.2128ms
2024-09-23 10:32:35.306 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.9965ms
2024-09-23 10:32:35.336 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 10:32:35.488 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 152.1658ms
2024-09-23 10:32:37.991 +07:00 [DBG] Connection id "0HN6RG1EH1CNK" accepted.
2024-09-23 10:32:37.991 +07:00 [DBG] Connection id "0HN6RG1EH1CNK" received FIN.
2024-09-23 10:32:37.991 +07:00 [DBG] Connection id "0HN6RG1EH1CNK" started.
2024-09-23 10:32:37.992 +07:00 [DBG] Connection id "0HN6RG1EH1CNL" accepted.
2024-09-23 10:32:37.993 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:32:37.994 +07:00 [DBG] Connection id "0HN6RG1EH1CNL" started.
2024-09-23 10:32:37.995 +07:00 [DBG] Connection id "0HN6RG1EH1CNK" stopped.
2024-09-23 10:32:37.995 +07:00 [DBG] Connection id "0HN6RG1EH1CNK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:32:37.999 +07:00 [DBG] Connection 0HN6RG1EH1CNL established using the following protocol: "Tls12"
2024-09-23 10:32:38.015 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 10:32:38.020 +07:00 [DBG] PUT requests are not supported
2024-09-23 10:32:38.045 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:32:38.051 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:32:38.053 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:32:38.056 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:32:38.100 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 10:32:38.101 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:32:38.102 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:32:38.103 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:32:38.104 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:32:38.104 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:32:38.105 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:32:38.198 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:32:38.207 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:32:38.208 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 10:32:38.209 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:32:38.210 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:32:38.210 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:32:38.211 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:32:38.213 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:32:38.213 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 10:32:38.214 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:32:38.214 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:32:38.215 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:32:38.215 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:32:38.216 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:32:38.217 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-09-23 10:32:38.219 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-23 10:32:38.222 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-23 10:32:38.233 +07:00 [DBG] Connection id "0HN6RG1EH1CNL", Request id "0HN6RG1EH1CNL:00000002": started reading request body.
2024-09-23 10:32:38.233 +07:00 [DBG] Connection id "0HN6RG1EH1CNL", Request id "0HN6RG1EH1CNL:00000002": done reading request body.
2024-09-23 10:32:38.330 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:32:38.330 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:32:38.331 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:32:38.336 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:32:46.357 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API) in 8248.1474ms
2024-09-23 10:32:46.361 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:32:46.364 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at CityInfo.API.Models.Services.CityInfoRepository.CityExistsAsync(Int32 cityId) in D:\C#-Project\CityInfo\CityInfo.API\Models\Services\CityInfoRepository.cs:line 30
   at CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointsofinterestId, PointOfInterestForUpdateDto pointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 101
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 10:32:46.378 +07:00 [DBG] Connection id "0HN6RG1EH1CNL" completed keep alive response.
2024-09-23 10:32:46.379 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 8364.3355ms
2024-09-23 10:33:46.398 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 10:33:46.490 +07:00 [DBG] Hosting starting
2024-09-23 10:33:46.676 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 10:33:46.719 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 10:33:46.720 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 10:33:46.720 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 10:33:46.721 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 10:33:46.721 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 10:33:46.722 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 10:33:46.724 +07:00 [INF] Hosting environment: Development
2024-09-23 10:33:46.724 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 10:33:46.725 +07:00 [DBG] Hosting started
2024-09-23 10:33:47.193 +07:00 [DBG] Connection id "0HN6RG247P8S6" received FIN.
2024-09-23 10:33:47.193 +07:00 [DBG] Connection id "0HN6RG247P8S7" received FIN.
2024-09-23 10:33:47.201 +07:00 [DBG] Connection id "0HN6RG247P8S7" accepted.
2024-09-23 10:33:47.201 +07:00 [DBG] Connection id "0HN6RG247P8S6" accepted.
2024-09-23 10:33:47.204 +07:00 [DBG] Connection id "0HN6RG247P8S6" started.
2024-09-23 10:33:47.205 +07:00 [DBG] Connection id "0HN6RG247P8S7" started.
2024-09-23 10:33:47.236 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:33:47.236 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:33:47.268 +07:00 [DBG] Connection id "0HN6RG247P8S7" stopped.
2024-09-23 10:33:47.268 +07:00 [DBG] Connection id "0HN6RG247P8S6" stopped.
2024-09-23 10:33:47.272 +07:00 [DBG] Connection id "0HN6RG247P8S7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:33:47.272 +07:00 [DBG] Connection id "0HN6RG247P8S6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:33:47.301 +07:00 [DBG] Connection id "0HN6RG247P8S8" accepted.
2024-09-23 10:33:47.302 +07:00 [DBG] Connection id "0HN6RG247P8S8" started.
2024-09-23 10:33:47.348 +07:00 [DBG] Connection 0HN6RG247P8S8 established using the following protocol: "Tls12"
2024-09-23 10:33:47.430 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 10:33:47.484 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 10:33:47.747 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 10:33:47.853 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 10:33:47.862 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 436.3995ms
2024-09-23 10:33:47.864 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 10:33:47.864 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 10:33:47.880 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 15.9062ms
2024-09-23 10:33:47.901 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 37.4198ms
2024-09-23 10:33:47.927 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 10:33:48.069 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.8923ms
2024-09-23 10:33:58.864 +07:00 [DBG] Connection id "0HN6RG247P8S9" accepted.
2024-09-23 10:33:58.864 +07:00 [DBG] Connection id "0HN6RG247P8S9" received FIN.
2024-09-23 10:33:58.866 +07:00 [DBG] Connection id "0HN6RG247P8S9" started.
2024-09-23 10:33:58.866 +07:00 [DBG] Connection id "0HN6RG247P8SA" accepted.
2024-09-23 10:33:58.869 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:33:58.869 +07:00 [DBG] Connection id "0HN6RG247P8SA" started.
2024-09-23 10:33:58.871 +07:00 [DBG] Connection id "0HN6RG247P8S9" stopped.
2024-09-23 10:33:58.872 +07:00 [DBG] Connection id "0HN6RG247P8S9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:33:58.878 +07:00 [DBG] Connection 0HN6RG247P8SA established using the following protocol: "Tls12"
2024-09-23 10:33:58.884 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 10:33:58.886 +07:00 [DBG] PUT requests are not supported
2024-09-23 10:33:58.904 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:33:58.910 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:33:58.911 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:33:58.913 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:33:58.946 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 10:33:58.948 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:33:58.948 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:33:58.949 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:33:58.949 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:33:58.950 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:33:58.951 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:33:59.045 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:33:59.053 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:33:59.055 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 10:33:59.057 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:33:59.057 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:33:59.058 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:33:59.059 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:33:59.061 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:33:59.061 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 10:33:59.062 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:33:59.062 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:33:59.062 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:33:59.063 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:33:59.064 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:33:59.065 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-09-23 10:33:59.066 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-23 10:33:59.066 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-23 10:33:59.077 +07:00 [DBG] Connection id "0HN6RG247P8SA", Request id "0HN6RG247P8SA:00000002": started reading request body.
2024-09-23 10:33:59.078 +07:00 [DBG] Connection id "0HN6RG247P8SA", Request id "0HN6RG247P8SA:00000002": done reading request body.
2024-09-23 10:33:59.168 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:33:59.169 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:33:59.170 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:33:59.176 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:34:40.416 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API) in 41460.4713ms
2024-09-23 10:34:40.419 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:34:40.422 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at CityInfo.API.Models.Services.CityInfoRepository.CityExistsAsync(Int32 cityId) in D:\C#-Project\CityInfo\CityInfo.API\Models\Services\CityInfoRepository.cs:line 30
   at CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointsofinterestId, PointOfInterestForUpdateDto pointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 101
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 10:34:40.435 +07:00 [DBG] Connection id "0HN6RG247P8SA" completed keep alive response.
2024-09-23 10:34:40.436 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 41549.8970ms
2024-09-23 10:36:15.073 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 10:36:15.183 +07:00 [DBG] Hosting starting
2024-09-23 10:36:15.301 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 10:36:15.333 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 10:36:15.334 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 10:36:15.334 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 10:36:15.334 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 10:36:15.335 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 10:36:15.335 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 10:36:15.336 +07:00 [INF] Hosting environment: Development
2024-09-23 10:36:15.337 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 10:36:15.337 +07:00 [DBG] Hosting started
2024-09-23 10:36:15.688 +07:00 [DBG] Connection id "0HN6RG3GFU8U1" received FIN.
2024-09-23 10:36:15.688 +07:00 [DBG] Connection id "0HN6RG3GFU8U0" received FIN.
2024-09-23 10:36:15.697 +07:00 [DBG] Connection id "0HN6RG3GFU8U1" accepted.
2024-09-23 10:36:15.697 +07:00 [DBG] Connection id "0HN6RG3GFU8U0" accepted.
2024-09-23 10:36:15.700 +07:00 [DBG] Connection id "0HN6RG3GFU8U0" started.
2024-09-23 10:36:15.700 +07:00 [DBG] Connection id "0HN6RG3GFU8U1" started.
2024-09-23 10:36:15.722 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:36:15.722 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:36:15.774 +07:00 [DBG] Connection id "0HN6RG3GFU8U1" stopped.
2024-09-23 10:36:15.774 +07:00 [DBG] Connection id "0HN6RG3GFU8U0" stopped.
2024-09-23 10:36:15.780 +07:00 [DBG] Connection id "0HN6RG3GFU8U2" accepted.
2024-09-23 10:36:15.790 +07:00 [DBG] Connection id "0HN6RG3GFU8U1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:36:15.790 +07:00 [DBG] Connection id "0HN6RG3GFU8U0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:36:15.790 +07:00 [DBG] Connection id "0HN6RG3GFU8U2" started.
2024-09-23 10:36:15.888 +07:00 [DBG] Connection 0HN6RG3GFU8U2 established using the following protocol: "Tls12"
2024-09-23 10:36:15.972 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 10:36:16.039 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 10:36:16.224 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 10:36:16.334 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 10:36:16.341 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 372.4118ms
2024-09-23 10:36:16.345 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 10:36:16.345 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 10:36:16.357 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 12.1991ms
2024-09-23 10:36:16.373 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.3245ms
2024-09-23 10:36:16.399 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 10:36:16.569 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 170.1527ms
2024-09-23 10:36:26.133 +07:00 [DBG] Connection id "0HN6RG3GFU8U3" accepted.
2024-09-23 10:36:26.133 +07:00 [DBG] Connection id "0HN6RG3GFU8U3" received FIN.
2024-09-23 10:36:26.134 +07:00 [DBG] Connection id "0HN6RG3GFU8U3" started.
2024-09-23 10:36:26.134 +07:00 [DBG] Connection id "0HN6RG3GFU8U4" accepted.
2024-09-23 10:36:26.136 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:36:26.136 +07:00 [DBG] Connection id "0HN6RG3GFU8U4" started.
2024-09-23 10:36:26.138 +07:00 [DBG] Connection id "0HN6RG3GFU8U3" stopped.
2024-09-23 10:36:26.138 +07:00 [DBG] Connection id "0HN6RG3GFU8U3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:36:26.145 +07:00 [DBG] Connection 0HN6RG3GFU8U4 established using the following protocol: "Tls12"
2024-09-23 10:36:26.154 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities - -
2024-09-23 10:36:26.156 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 10:36:26.173 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 10:36:26.178 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 10:36:26.179 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 10:36:26.181 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 10:36:26.203 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 10:36:26.204 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:36:26.205 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:36:26.205 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:36:26.206 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:36:26.207 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:36:26.208 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 10:36:26.309 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 10:36:48.945 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 22732.5092ms
2024-09-23 10:36:48.949 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 10:36:48.951 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at CityInfo.API.Models.Services.CityInfoRepository.GetCitiesAsync() in D:\C#-Project\CityInfo\CityInfo.API\Models\Services\CityInfoRepository.cs:line 14
   at CityInfo.API.Controllers.CitiesController.GetCities() in D:\C#-Project\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 23
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 10:36:48.969 +07:00 [DBG] Connection id "0HN6RG3GFU8U4" completed keep alive response.
2024-09-23 10:36:48.970 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities - - - 500 - text/plain;+charset=utf-8 22814.5245ms
2024-09-23 10:38:18.801 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 10:38:18.940 +07:00 [DBG] Hosting starting
2024-09-23 10:38:19.095 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 10:38:19.133 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 10:38:19.134 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 10:38:19.134 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 10:38:19.134 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 10:38:19.135 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 10:38:19.135 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 10:38:19.136 +07:00 [INF] Hosting environment: Development
2024-09-23 10:38:19.136 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 10:38:19.137 +07:00 [DBG] Hosting started
2024-09-23 10:38:19.630 +07:00 [DBG] Connection id "0HN6RG4LDTCNN" accepted.
2024-09-23 10:38:19.630 +07:00 [DBG] Connection id "0HN6RG4LDTCNO" accepted.
2024-09-23 10:38:19.695 +07:00 [DBG] Connection id "0HN6RG4LDTCNN" started.
2024-09-23 10:38:19.701 +07:00 [DBG] Connection id "0HN6RG4LDTCNO" started.
2024-09-23 10:38:19.702 +07:00 [DBG] Connection id "0HN6RG4LDTCNN" received FIN.
2024-09-23 10:38:19.702 +07:00 [DBG] Connection id "0HN6RG4LDTCNO" received FIN.
2024-09-23 10:38:19.729 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:38:19.729 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:38:19.767 +07:00 [DBG] Connection id "0HN6RG4LDTCNN" stopped.
2024-09-23 10:38:19.767 +07:00 [DBG] Connection id "0HN6RG4LDTCNO" stopped.
2024-09-23 10:38:19.769 +07:00 [DBG] Connection id "0HN6RG4LDTCNN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:38:19.769 +07:00 [DBG] Connection id "0HN6RG4LDTCNO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:38:19.808 +07:00 [DBG] Connection id "0HN6RG4LDTCNP" accepted.
2024-09-23 10:38:19.810 +07:00 [DBG] Connection id "0HN6RG4LDTCNP" started.
2024-09-23 10:38:19.864 +07:00 [DBG] Connection 0HN6RG4LDTCNP established using the following protocol: "Tls12"
2024-09-23 10:38:19.935 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 10:38:19.972 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 10:38:20.159 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 10:38:20.268 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 10:38:20.273 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 344.6141ms
2024-09-23 10:38:20.275 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 10:38:20.275 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 10:38:20.291 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 15.4695ms
2024-09-23 10:38:20.314 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 38.8079ms
2024-09-23 10:38:20.338 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 10:38:20.510 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 172.0061ms
2024-09-23 10:38:22.055 +07:00 [DBG] Connection id "0HN6RG4LDTCNQ" accepted.
2024-09-23 10:38:22.055 +07:00 [DBG] Connection id "0HN6RG4LDTCNQ" received FIN.
2024-09-23 10:38:22.055 +07:00 [DBG] Connection id "0HN6RG4LDTCNQ" started.
2024-09-23 10:38:22.055 +07:00 [DBG] Connection id "0HN6RG4LDTCNR" accepted.
2024-09-23 10:38:22.057 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:38:22.057 +07:00 [DBG] Connection id "0HN6RG4LDTCNR" started.
2024-09-23 10:38:22.059 +07:00 [DBG] Connection id "0HN6RG4LDTCNQ" stopped.
2024-09-23 10:38:22.060 +07:00 [DBG] Connection id "0HN6RG4LDTCNQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:38:22.062 +07:00 [DBG] Connection 0HN6RG4LDTCNR established using the following protocol: "Tls12"
2024-09-23 10:38:22.071 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities - -
2024-09-23 10:38:22.072 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 10:38:22.093 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 10:38:22.098 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 10:38:22.100 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 10:38:22.103 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 10:38:22.126 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 10:38:22.127 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:38:22.128 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:38:22.129 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:38:22.130 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:38:22.131 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:38:22.134 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 10:38:22.230 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 10:43:58.625 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 10:43:58.771 +07:00 [DBG] Hosting starting
2024-09-23 10:43:59.038 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 10:43:59.079 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 10:43:59.080 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 10:43:59.080 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 10:43:59.080 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 10:43:59.081 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 10:43:59.081 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 10:43:59.082 +07:00 [INF] Hosting environment: Development
2024-09-23 10:43:59.083 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 10:43:59.083 +07:00 [DBG] Hosting started
2024-09-23 10:43:59.269 +07:00 [DBG] Connection id "0HN6RG7QKUJJ7" accepted.
2024-09-23 10:43:59.269 +07:00 [DBG] Connection id "0HN6RG7QKUJJ8" accepted.
2024-09-23 10:43:59.271 +07:00 [DBG] Connection id "0HN6RG7QKUJJ7" started.
2024-09-23 10:43:59.271 +07:00 [DBG] Connection id "0HN6RG7QKUJJ8" started.
2024-09-23 10:43:59.271 +07:00 [DBG] Connection id "0HN6RG7QKUJJ8" received FIN.
2024-09-23 10:43:59.271 +07:00 [DBG] Connection id "0HN6RG7QKUJJ7" received FIN.
2024-09-23 10:43:59.288 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:43:59.288 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:43:59.315 +07:00 [DBG] Connection id "0HN6RG7QKUJJ7" stopped.
2024-09-23 10:43:59.315 +07:00 [DBG] Connection id "0HN6RG7QKUJJ8" stopped.
2024-09-23 10:43:59.317 +07:00 [DBG] Connection id "0HN6RG7QKUJJ8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:43:59.317 +07:00 [DBG] Connection id "0HN6RG7QKUJJ7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:43:59.370 +07:00 [DBG] Connection id "0HN6RG7QKUJJ9" accepted.
2024-09-23 10:43:59.374 +07:00 [DBG] Connection id "0HN6RG7QKUJJ9" started.
2024-09-23 10:43:59.431 +07:00 [DBG] Connection 0HN6RG7QKUJJ9 established using the following protocol: "Tls12"
2024-09-23 10:43:59.496 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 10:43:59.530 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 10:43:59.721 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 10:43:59.836 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 10:43:59.845 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 353.4055ms
2024-09-23 10:43:59.847 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 10:43:59.847 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 10:43:59.863 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 14.3978ms
2024-09-23 10:43:59.879 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.1023ms
2024-09-23 10:43:59.903 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 10:44:00.048 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 145.6588ms
2024-09-23 10:44:03.499 +07:00 [DBG] Connection id "0HN6RG7QKUJJA" accepted.
2024-09-23 10:44:03.499 +07:00 [DBG] Connection id "0HN6RG7QKUJJA" received FIN.
2024-09-23 10:44:03.500 +07:00 [DBG] Connection id "0HN6RG7QKUJJA" started.
2024-09-23 10:44:03.500 +07:00 [DBG] Connection id "0HN6RG7QKUJJB" accepted.
2024-09-23 10:44:03.502 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:44:03.502 +07:00 [DBG] Connection id "0HN6RG7QKUJJB" started.
2024-09-23 10:44:03.503 +07:00 [DBG] Connection id "0HN6RG7QKUJJA" stopped.
2024-09-23 10:44:03.504 +07:00 [DBG] Connection id "0HN6RG7QKUJJA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:44:03.508 +07:00 [DBG] Connection 0HN6RG7QKUJJB established using the following protocol: "Tls12"
2024-09-23 10:44:03.517 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1 - -
2024-09-23 10:44:03.519 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 10:44:03.535 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-23 10:44:03.541 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-23 10:44:03.543 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-23 10:44:03.545 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-23 10:44:03.578 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 10:44:03.581 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:44:03.582 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:44:03.584 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:44:03.585 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:44:03.586 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:44:03.587 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 10:44:03.683 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 10:44:03.691 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-23 10:44:03.693 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-23 10:44:03.695 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-23 10:44:03.695 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-23 10:44:03.696 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-23 10:44:03.697 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-23 10:44:03.699 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-23 10:44:03.699 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name '' in request data ...
2024-09-23 10:44:03.700 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-23 10:44:03.700 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-23 10:44:03.701 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-23 10:44:03.701 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-23 10:44:03.702 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-23 10:44:34.996 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 10:44:35.117 +07:00 [DBG] Hosting starting
2024-09-23 10:44:35.282 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 10:44:35.337 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 10:44:35.340 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 10:44:35.341 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 10:44:35.341 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 10:44:35.342 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 10:44:35.344 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 10:44:35.345 +07:00 [INF] Hosting environment: Development
2024-09-23 10:44:35.346 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 10:44:35.346 +07:00 [DBG] Hosting started
2024-09-23 10:44:35.716 +07:00 [DBG] Connection id "0HN6RG85GGTO3" accepted.
2024-09-23 10:44:35.716 +07:00 [DBG] Connection id "0HN6RG85GGTO2" accepted.
2024-09-23 10:44:35.718 +07:00 [DBG] Connection id "0HN6RG85GGTO3" started.
2024-09-23 10:44:35.718 +07:00 [DBG] Connection id "0HN6RG85GGTO2" started.
2024-09-23 10:44:35.735 +07:00 [DBG] Connection id "0HN6RG85GGTO2" received FIN.
2024-09-23 10:44:35.735 +07:00 [DBG] Connection id "0HN6RG85GGTO3" received FIN.
2024-09-23 10:44:35.748 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:44:35.748 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:44:35.781 +07:00 [DBG] Connection id "0HN6RG85GGTO3" stopped.
2024-09-23 10:44:35.781 +07:00 [DBG] Connection id "0HN6RG85GGTO2" stopped.
2024-09-23 10:44:35.783 +07:00 [DBG] Connection id "0HN6RG85GGTO3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:44:35.783 +07:00 [DBG] Connection id "0HN6RG85GGTO2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:44:35.948 +07:00 [DBG] Connection id "0HN6RG85GGTO4" accepted.
2024-09-23 10:44:35.951 +07:00 [DBG] Connection id "0HN6RG85GGTO4" started.
2024-09-23 10:44:36.048 +07:00 [DBG] Connection 0HN6RG85GGTO4 established using the following protocol: "Tls12"
2024-09-23 10:44:36.104 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 10:44:36.142 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 10:44:36.337 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 10:44:36.448 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 10:44:36.454 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 353.2509ms
2024-09-23 10:44:36.456 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 10:44:36.456 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 10:44:36.473 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 17.5457ms
2024-09-23 10:44:36.504 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 48.7676ms
2024-09-23 10:44:36.529 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 10:44:36.667 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 137.3075ms
2024-09-23 10:44:45.050 +07:00 [DBG] Connection id "0HN6RG85GGTO5" accepted.
2024-09-23 10:44:45.050 +07:00 [DBG] Connection id "0HN6RG85GGTO5" received FIN.
2024-09-23 10:44:45.051 +07:00 [DBG] Connection id "0HN6RG85GGTO5" started.
2024-09-23 10:44:45.052 +07:00 [DBG] Connection id "0HN6RG85GGTO6" accepted.
2024-09-23 10:44:45.054 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:44:45.054 +07:00 [DBG] Connection id "0HN6RG85GGTO6" started.
2024-09-23 10:44:45.056 +07:00 [DBG] Connection id "0HN6RG85GGTO5" stopped.
2024-09-23 10:44:45.057 +07:00 [DBG] Connection id "0HN6RG85GGTO5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:44:45.061 +07:00 [DBG] Connection 0HN6RG85GGTO6 established using the following protocol: "Tls12"
2024-09-23 10:44:45.070 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1 - -
2024-09-23 10:44:45.071 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 10:44:45.088 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-23 10:44:45.095 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-23 10:44:45.096 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-23 10:44:45.098 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-23 10:44:45.129 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 10:44:45.131 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:44:45.131 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:44:45.132 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:44:45.133 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:44:45.133 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:44:45.134 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 10:44:45.243 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 10:44:45.358 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 10:44:45.367 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-23 10:44:45.368 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-23 10:44:45.369 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-23 10:44:45.370 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-23 10:44:45.370 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-23 10:44:45.371 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-23 10:44:45.373 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-23 10:44:45.373 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name '' in request data ...
2024-09-23 10:44:45.374 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-23 10:44:45.375 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-23 10:44:45.375 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-23 10:44:45.376 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-23 10:44:45.376 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-23 10:44:45.973 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 10:44:46.033 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-23 10:44:46.260 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 10:44:46.305 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:44:46.350 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (41ms).
2024-09-23 10:44:46.361 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:44:46.375 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:44:46.388 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-23 10:44:46.410 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-23 10:44:46.427 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:44:46.454 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:44:46.461 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:44:46.466 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:44:46.474 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 10:44:46.477 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 10:44:46.478 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 10:44:46.479 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 10:44:46.479 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 10:44:46.480 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2024-09-23 10:44:46.601 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1463.0475ms
2024-09-23 10:44:46.603 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-23 10:44:46.603 +07:00 [DBG] Connection id "0HN6RG85GGTO6" completed keep alive response.
2024-09-23 10:44:46.607 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 10:44:46.611 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1 - - - 200 74 application/json;+charset=utf-8 1541.1491ms
2024-09-23 10:44:48.990 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 10:44:48.990 +07:00 [DBG] PUT requests are not supported
2024-09-23 10:44:48.991 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:44:48.991 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:44:48.992 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:44:48.993 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:44:48.999 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 10:44:49.000 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:44:49.000 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:44:49.001 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:44:49.002 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:44:49.005 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:44:49.006 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:44:49.015 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:44:49.015 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:44:49.016 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 10:44:49.016 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:44:49.017 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:44:49.017 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:44:49.018 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:44:49.018 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:44:49.019 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 10:44:49.021 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:44:49.022 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:44:49.022 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:44:49.023 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:44:49.023 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:44:49.024 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-09-23 10:44:49.026 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-23 10:44:49.027 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-23 10:44:49.034 +07:00 [DBG] Connection id "0HN6RG85GGTO6", Request id "0HN6RG85GGTO6:00000003": started reading request body.
2024-09-23 10:44:49.036 +07:00 [DBG] Connection id "0HN6RG85GGTO6", Request id "0HN6RG85GGTO6:00000003": done reading request body.
2024-09-23 10:44:49.069 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:44:49.070 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:44:49.071 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:44:49.077 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:44:49.081 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 10:44:49.083 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-23 10:44:49.090 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 10:44:49.099 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:44:49.100 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:44:49.100 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:44:49.101 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:44:49.101 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:44:49.102 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:44:49.104 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:44:49.104 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:44:49.104 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:44:49.110 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-23 10:44:49.114 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 10:44:49.116 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:44:49.117 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:44:49.117 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:44:49.118 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:44:49.118 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 10:44:49.119 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 10:44:49.122 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:44:49.125 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:44:49.125 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:44:49.126 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:44:49.194 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API) in 187.764ms
2024-09-23 10:44:49.197 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:44:49.198 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestForUpdateDto -> List`1
CityInfo.API.Models.PointOfInterestForUpdateDto -> System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method94(Closure , PointOfInterestForUpdateDto , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointsofinterestId, PointOfInterestForUpdateDto pointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 116
   at lambda_method64(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 10:44:49.219 +07:00 [DBG] Connection id "0HN6RG85GGTO6" completed keep alive response.
2024-09-23 10:44:49.219 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 10:44:49.220 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 230.0884ms
2024-09-23 10:48:03.803 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 10:48:03.884 +07:00 [DBG] Hosting starting
2024-09-23 10:48:04.013 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 10:48:04.036 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 10:48:04.036 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 10:48:04.036 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 10:48:04.037 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 10:48:04.037 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 10:48:04.038 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 10:48:04.038 +07:00 [INF] Hosting environment: Development
2024-09-23 10:48:04.039 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 10:48:04.039 +07:00 [DBG] Hosting started
2024-09-23 10:48:04.461 +07:00 [DBG] Connection id "0HN6RGA3NACAQ" received FIN.
2024-09-23 10:48:04.461 +07:00 [DBG] Connection id "0HN6RGA3NACAP" received FIN.
2024-09-23 10:48:04.463 +07:00 [DBG] Connection id "0HN6RGA3NACAP" accepted.
2024-09-23 10:48:04.463 +07:00 [DBG] Connection id "0HN6RGA3NACAQ" accepted.
2024-09-23 10:48:04.465 +07:00 [DBG] Connection id "0HN6RGA3NACAQ" started.
2024-09-23 10:48:04.465 +07:00 [DBG] Connection id "0HN6RGA3NACAP" started.
2024-09-23 10:48:04.482 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:48:04.482 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:48:04.515 +07:00 [DBG] Connection id "0HN6RGA3NACAQ" stopped.
2024-09-23 10:48:04.522 +07:00 [DBG] Connection id "0HN6RGA3NACAP" stopped.
2024-09-23 10:48:04.529 +07:00 [DBG] Connection id "0HN6RGA3NACAP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:48:04.529 +07:00 [DBG] Connection id "0HN6RGA3NACAQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:48:04.548 +07:00 [DBG] Connection id "0HN6RGA3NACAR" accepted.
2024-09-23 10:48:04.552 +07:00 [DBG] Connection id "0HN6RGA3NACAR" started.
2024-09-23 10:48:04.613 +07:00 [DBG] Connection 0HN6RGA3NACAR established using the following protocol: "Tls12"
2024-09-23 10:48:04.678 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 10:48:04.725 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 10:48:04.926 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 10:48:05.026 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 10:48:05.031 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 356.5615ms
2024-09-23 10:48:05.043 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 10:48:05.043 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 10:48:05.057 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 13.5800ms
2024-09-23 10:48:05.076 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.2919ms
2024-09-23 10:48:05.103 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 10:48:05.242 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 139.0550ms
2024-09-23 10:48:06.343 +07:00 [DBG] Connection id "0HN6RGA3NACAS" accepted.
2024-09-23 10:48:06.343 +07:00 [DBG] Connection id "0HN6RGA3NACAS" received FIN.
2024-09-23 10:48:06.344 +07:00 [DBG] Connection id "0HN6RGA3NACAS" started.
2024-09-23 10:48:06.345 +07:00 [DBG] Connection id "0HN6RGA3NACAT" accepted.
2024-09-23 10:48:06.348 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:48:06.349 +07:00 [DBG] Connection id "0HN6RGA3NACAT" started.
2024-09-23 10:48:06.356 +07:00 [DBG] Connection id "0HN6RGA3NACAS" stopped.
2024-09-23 10:48:06.357 +07:00 [DBG] Connection id "0HN6RGA3NACAS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:48:06.361 +07:00 [DBG] Connection 0HN6RGA3NACAT established using the following protocol: "Tls12"
2024-09-23 10:48:06.369 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 10:48:06.372 +07:00 [DBG] PUT requests are not supported
2024-09-23 10:48:06.388 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:48:06.393 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:48:06.394 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:48:06.396 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:48:06.427 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 10:48:06.429 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:48:06.429 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:48:06.430 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:48:06.431 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:48:06.432 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:48:06.434 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:48:06.539 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 10:48:06.648 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:48:06.657 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:48:06.659 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 10:48:06.660 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:48:06.660 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:48:06.661 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:48:06.662 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:48:06.663 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:48:06.664 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 10:48:06.665 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:48:06.665 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:48:06.668 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:48:06.668 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:48:06.669 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:48:06.670 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-09-23 10:48:06.671 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-23 10:48:06.672 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-23 10:48:06.684 +07:00 [DBG] Connection id "0HN6RGA3NACAT", Request id "0HN6RGA3NACAT:00000002": started reading request body.
2024-09-23 10:48:06.686 +07:00 [DBG] Connection id "0HN6RGA3NACAT", Request id "0HN6RGA3NACAT:00000002": done reading request body.
2024-09-23 10:48:06.777 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:48:06.778 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:48:06.779 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:48:06.785 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:48:07.390 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 10:48:07.428 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-23 10:48:07.625 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 10:48:07.672 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:48:07.719 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (43ms).
2024-09-23 10:48:07.729 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:48:07.744 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:48:07.757 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:48:07.779 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:48:07.790 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:48:07.795 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:48:07.800 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:48:07.806 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-23 10:48:07.835 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 10:48:07.842 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:48:07.842 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:48:07.842 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:48:07.843 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:48:07.843 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 10:48:07.844 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 10:48:07.857 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:48:07.876 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:48:07.876 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:48:07.877 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:48:07.939 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API) in 1502.6812ms
2024-09-23 10:48:07.941 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:48:07.943 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterest -> List`1
CityInfo.API.Entities.PointOfInterest -> System.Collections.Generic.List`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method62(Closure , PointOfInterest , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointsofinterestId, PointOfInterestForUpdateDto pointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 117
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 10:48:07.966 +07:00 [DBG] Connection id "0HN6RGA3NACAT" completed keep alive response.
2024-09-23 10:48:07.971 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 10:48:07.974 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 1604.9059ms
2024-09-23 10:48:25.076 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 10:48:25.156 +07:00 [DBG] Hosting starting
2024-09-23 10:48:25.268 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 10:48:25.290 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 10:48:25.290 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 10:48:25.291 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 10:48:25.291 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 10:48:25.292 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 10:48:25.292 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 10:48:25.293 +07:00 [INF] Hosting environment: Development
2024-09-23 10:48:25.294 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 10:48:25.294 +07:00 [DBG] Hosting started
2024-09-23 10:48:25.387 +07:00 [DBG] Connection id "0HN6RGA9USNOG" received FIN.
2024-09-23 10:48:25.387 +07:00 [DBG] Connection id "0HN6RGA9USNOF" received FIN.
2024-09-23 10:48:25.394 +07:00 [DBG] Connection id "0HN6RGA9USNOF" accepted.
2024-09-23 10:48:25.394 +07:00 [DBG] Connection id "0HN6RGA9USNOG" accepted.
2024-09-23 10:48:25.395 +07:00 [DBG] Connection id "0HN6RGA9USNOF" started.
2024-09-23 10:48:25.395 +07:00 [DBG] Connection id "0HN6RGA9USNOG" started.
2024-09-23 10:48:25.407 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:48:25.407 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:48:25.440 +07:00 [DBG] Connection id "0HN6RGA9USNOG" stopped.
2024-09-23 10:48:25.440 +07:00 [DBG] Connection id "0HN6RGA9USNOF" stopped.
2024-09-23 10:48:25.445 +07:00 [DBG] Connection id "0HN6RGA9USNOF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:48:25.445 +07:00 [DBG] Connection id "0HN6RGA9USNOG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:48:25.574 +07:00 [DBG] Connection id "0HN6RGA9USNOH" accepted.
2024-09-23 10:48:25.579 +07:00 [DBG] Connection id "0HN6RGA9USNOH" started.
2024-09-23 10:48:25.658 +07:00 [DBG] Connection 0HN6RGA9USNOH established using the following protocol: "Tls12"
2024-09-23 10:48:25.832 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 10:48:25.889 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 10:48:26.083 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 10:48:26.191 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 10:48:26.191 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 10:48:26.193 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 10:48:26.206 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 379.7397ms
2024-09-23 10:48:26.206 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 11.0782ms
2024-09-23 10:48:26.221 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.9385ms
2024-09-23 10:48:26.253 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 10:48:26.462 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 209.6267ms
2024-09-23 10:48:29.341 +07:00 [DBG] Connection id "0HN6RGA9USNOI" accepted.
2024-09-23 10:48:29.341 +07:00 [DBG] Connection id "0HN6RGA9USNOI" received FIN.
2024-09-23 10:48:29.342 +07:00 [DBG] Connection id "0HN6RGA9USNOI" started.
2024-09-23 10:48:29.343 +07:00 [DBG] Connection id "0HN6RGA9USNOJ" accepted.
2024-09-23 10:48:29.344 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:48:29.344 +07:00 [DBG] Connection id "0HN6RGA9USNOJ" started.
2024-09-23 10:48:29.346 +07:00 [DBG] Connection id "0HN6RGA9USNOI" stopped.
2024-09-23 10:48:29.347 +07:00 [DBG] Connection id "0HN6RGA9USNOI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:48:29.349 +07:00 [DBG] Connection 0HN6RGA9USNOJ established using the following protocol: "Tls12"
2024-09-23 10:48:29.359 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 10:48:29.361 +07:00 [DBG] PUT requests are not supported
2024-09-23 10:48:29.385 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:48:29.390 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:48:29.391 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:48:29.393 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:48:29.426 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 10:48:29.427 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:48:29.428 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:48:29.429 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:48:29.429 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:48:29.430 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:48:29.431 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:48:29.532 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 10:48:29.648 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:48:29.657 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:48:29.658 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 10:48:29.659 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:48:29.660 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:48:29.660 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:48:29.662 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:48:29.664 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:48:29.664 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 10:48:29.665 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:48:29.666 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:48:29.666 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:48:29.667 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:48:29.668 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:48:29.670 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-09-23 10:48:29.671 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-23 10:48:29.672 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-23 10:48:29.681 +07:00 [DBG] Connection id "0HN6RGA9USNOJ", Request id "0HN6RGA9USNOJ:00000002": started reading request body.
2024-09-23 10:48:29.682 +07:00 [DBG] Connection id "0HN6RGA9USNOJ", Request id "0HN6RGA9USNOJ:00000002": done reading request body.
2024-09-23 10:48:29.769 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:48:29.770 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:48:29.771 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:48:29.776 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:48:30.378 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 10:48:30.419 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-23 10:48:30.622 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 10:48:30.667 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:48:30.710 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2024-09-23 10:48:30.723 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:48:30.737 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:48:30.748 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:48:30.769 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:48:30.778 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:48:30.784 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:48:30.788 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:48:30.794 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-23 10:48:30.821 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 10:48:30.829 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:48:30.830 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:48:30.830 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:48:30.831 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:48:30.831 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 10:48:30.833 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 10:48:30.846 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:48:30.864 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:48:30.865 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:48:30.866 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:48:30.927 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API) in 1492.8312ms
2024-09-23 10:48:30.929 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:48:30.930 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestForUpdateDto -> IEnumerable`1
CityInfo.API.Models.PointOfInterestForUpdateDto -> System.Collections.Generic.IEnumerable`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method61(Closure , Object , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointsofinterestId, PointOfInterestForUpdateDto pointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 115
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 10:48:30.953 +07:00 [DBG] Connection id "0HN6RGA9USNOJ" completed keep alive response.
2024-09-23 10:48:30.957 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 10:48:30.960 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 1600.5990ms
2024-09-23 10:49:28.811 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 10:49:28.897 +07:00 [DBG] Hosting starting
2024-09-23 10:49:29.000 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 10:49:29.025 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 10:49:29.025 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 10:49:29.026 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 10:49:29.026 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 10:49:29.027 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 10:49:29.027 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 10:49:29.028 +07:00 [INF] Hosting environment: Development
2024-09-23 10:49:29.029 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 10:49:29.029 +07:00 [DBG] Hosting started
2024-09-23 10:49:29.114 +07:00 [DBG] Connection id "0HN6RGASUKMEV" received FIN.
2024-09-23 10:49:29.114 +07:00 [DBG] Connection id "0HN6RGASUKMEU" received FIN.
2024-09-23 10:49:29.122 +07:00 [DBG] Connection id "0HN6RGASUKMEU" accepted.
2024-09-23 10:49:29.122 +07:00 [DBG] Connection id "0HN6RGASUKMEV" accepted.
2024-09-23 10:49:29.123 +07:00 [DBG] Connection id "0HN6RGASUKMEV" started.
2024-09-23 10:49:29.123 +07:00 [DBG] Connection id "0HN6RGASUKMEU" started.
2024-09-23 10:49:29.140 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:49:29.140 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:49:29.198 +07:00 [DBG] Connection id "0HN6RGASUKMEU" stopped.
2024-09-23 10:49:29.198 +07:00 [DBG] Connection id "0HN6RGASUKMEV" stopped.
2024-09-23 10:49:29.205 +07:00 [DBG] Connection id "0HN6RGASUKMEU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:49:29.211 +07:00 [DBG] Connection id "0HN6RGASUKMEV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:49:29.259 +07:00 [DBG] Connection id "0HN6RGASUKMF0" accepted.
2024-09-23 10:49:29.261 +07:00 [DBG] Connection id "0HN6RGASUKMF0" started.
2024-09-23 10:49:29.314 +07:00 [DBG] Connection 0HN6RGASUKMF0 established using the following protocol: "Tls12"
2024-09-23 10:49:29.437 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 10:49:29.523 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 10:49:29.825 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 10:49:29.932 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 10:49:29.932 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 10:49:29.934 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 10:49:29.947 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 517.7795ms
2024-09-23 10:49:29.947 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 14.2967ms
2024-09-23 10:49:29.962 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.1119ms
2024-09-23 10:49:29.989 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 10:49:30.225 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 235.8086ms
2024-09-23 10:49:31.278 +07:00 [DBG] Connection id "0HN6RGASUKMF1" accepted.
2024-09-23 10:49:31.278 +07:00 [DBG] Connection id "0HN6RGASUKMF1" received FIN.
2024-09-23 10:49:31.280 +07:00 [DBG] Connection id "0HN6RGASUKMF1" started.
2024-09-23 10:49:31.281 +07:00 [DBG] Connection id "0HN6RGASUKMF2" accepted.
2024-09-23 10:49:31.283 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:49:31.283 +07:00 [DBG] Connection id "0HN6RGASUKMF2" started.
2024-09-23 10:49:31.291 +07:00 [DBG] Connection id "0HN6RGASUKMF1" stopped.
2024-09-23 10:49:31.292 +07:00 [DBG] Connection id "0HN6RGASUKMF1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:49:31.296 +07:00 [DBG] Connection 0HN6RGASUKMF2 established using the following protocol: "Tls12"
2024-09-23 10:49:31.302 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 10:49:31.306 +07:00 [DBG] PUT requests are not supported
2024-09-23 10:49:31.324 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:49:31.329 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:49:31.330 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:49:31.332 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:49:31.364 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 10:49:31.367 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:49:31.367 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:49:31.368 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:49:31.370 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:49:31.370 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:49:31.372 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:49:31.475 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 10:49:31.584 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:49:31.594 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:49:31.596 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 10:49:31.597 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:49:31.598 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:49:31.599 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:49:31.604 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:49:31.606 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:49:31.607 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 10:49:31.608 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:49:31.609 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:49:31.609 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:49:31.610 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:49:31.610 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:49:31.612 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-09-23 10:49:31.613 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-23 10:49:31.614 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-23 10:49:31.626 +07:00 [DBG] Connection id "0HN6RGASUKMF2", Request id "0HN6RGASUKMF2:00000002": started reading request body.
2024-09-23 10:49:31.627 +07:00 [DBG] Connection id "0HN6RGASUKMF2", Request id "0HN6RGASUKMF2:00000002": done reading request body.
2024-09-23 10:49:31.714 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:49:31.715 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:49:31.715 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:49:31.720 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:49:32.323 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 10:49:32.364 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-23 10:49:32.575 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 10:49:32.618 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:49:32.667 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (46ms).
2024-09-23 10:49:32.679 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:49:32.694 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:49:32.708 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:49:32.728 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:49:32.739 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:49:32.745 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:49:32.749 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:49:32.757 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)'
2024-09-23 10:49:32.784 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 10:49:32.792 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:49:32.793 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:49:32.793 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:49:32.794 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:49:32.794 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 10:49:32.795 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
2024-09-23 10:49:32.808 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:49:32.827 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:49:32.827 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:49:32.828 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:49:32.891 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API) in 1516.2998ms
2024-09-23 10:49:32.894 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:49:32.895 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestForUpdateDto -> IEnumerable`1
CityInfo.API.Models.PointOfInterestForUpdateDto -> System.Collections.Generic.IEnumerable`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method61(Closure , Object , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointsofinterestId, PointOfInterestForUpdateDto pointOfInterest) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 115
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 10:49:32.916 +07:00 [DBG] Connection id "0HN6RGASUKMF2" completed keep alive response.
2024-09-23 10:49:32.920 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 10:49:32.923 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 1621.0694ms
2024-09-23 10:55:16.496 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 10:55:16.582 +07:00 [DBG] Hosting starting
2024-09-23 10:55:16.698 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 10:55:16.728 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 10:55:16.731 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 10:55:16.732 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 10:55:16.733 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 10:55:16.733 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 10:55:16.734 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 10:55:16.736 +07:00 [INF] Hosting environment: Development
2024-09-23 10:55:16.736 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 10:55:16.736 +07:00 [DBG] Hosting started
2024-09-23 10:55:17.016 +07:00 [DBG] Connection id "0HN6RGE4KFR9M" received FIN.
2024-09-23 10:55:17.016 +07:00 [DBG] Connection id "0HN6RGE4KFR9N" received FIN.
2024-09-23 10:55:17.020 +07:00 [DBG] Connection id "0HN6RGE4KFR9M" accepted.
2024-09-23 10:55:17.020 +07:00 [DBG] Connection id "0HN6RGE4KFR9N" accepted.
2024-09-23 10:55:17.022 +07:00 [DBG] Connection id "0HN6RGE4KFR9N" started.
2024-09-23 10:55:17.022 +07:00 [DBG] Connection id "0HN6RGE4KFR9M" started.
2024-09-23 10:55:17.058 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:55:17.058 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:55:17.114 +07:00 [DBG] Connection id "0HN6RGE4KFR9N" stopped.
2024-09-23 10:55:17.116 +07:00 [DBG] Connection id "0HN6RGE4KFR9M" stopped.
2024-09-23 10:55:17.121 +07:00 [DBG] Connection id "0HN6RGE4KFR9N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:55:17.121 +07:00 [DBG] Connection id "0HN6RGE4KFR9M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:55:17.152 +07:00 [DBG] Connection id "0HN6RGE4KFR9O" accepted.
2024-09-23 10:55:17.161 +07:00 [DBG] Connection id "0HN6RGE4KFR9O" started.
2024-09-23 10:55:17.237 +07:00 [DBG] Connection 0HN6RGE4KFR9O established using the following protocol: "Tls12"
2024-09-23 10:55:17.372 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 10:55:17.429 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 10:55:17.762 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 10:55:17.875 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 10:55:17.877 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 10:55:17.883 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 10:55:17.885 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 8.9410ms
2024-09-23 10:55:17.886 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 525.4011ms
2024-09-23 10:55:17.913 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.6250ms
2024-09-23 10:55:17.945 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 10:55:18.091 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 146.0329ms
2024-09-23 10:55:18.458 +07:00 [DBG] Connection id "0HN6RGE4KFR9P" accepted.
2024-09-23 10:55:18.458 +07:00 [DBG] Connection id "0HN6RGE4KFR9P" received FIN.
2024-09-23 10:55:18.459 +07:00 [DBG] Connection id "0HN6RGE4KFR9P" started.
2024-09-23 10:55:18.460 +07:00 [DBG] Connection id "0HN6RGE4KFR9Q" accepted.
2024-09-23 10:55:18.462 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:55:18.462 +07:00 [DBG] Connection id "0HN6RGE4KFR9Q" started.
2024-09-23 10:55:18.469 +07:00 [DBG] Connection id "0HN6RGE4KFR9P" stopped.
2024-09-23 10:55:18.470 +07:00 [DBG] Connection id "0HN6RGE4KFR9P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:55:18.473 +07:00 [DBG] Connection 0HN6RGE4KFR9Q established using the following protocol: "Tls12"
2024-09-23 10:55:18.479 +07:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 10:55:18.481 +07:00 [DBG] PUT requests are not supported
2024-09-23 10:55:18.499 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:55:18.504 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:55:18.505 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:55:18.507 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:55:18.539 +07:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 10:55:18.540 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:55:18.541 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:55:18.541 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:55:18.542 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:55:18.543 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:55:18.544 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:55:18.656 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 10:55:18.785 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:55:18.795 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:55:18.799 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 10:55:18.801 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:55:18.801 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:55:18.802 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:55:18.804 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:55:18.806 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:55:18.806 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 10:55:18.807 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:55:18.807 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:55:18.808 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:55:18.810 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:55:18.810 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:55:18.812 +07:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-09-23 10:55:18.814 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-23 10:55:18.816 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-23 10:55:18.828 +07:00 [DBG] Connection id "0HN6RGE4KFR9Q", Request id "0HN6RGE4KFR9Q:00000002": started reading request body.
2024-09-23 10:55:18.828 +07:00 [DBG] Connection id "0HN6RGE4KFR9Q", Request id "0HN6RGE4KFR9Q:00000002": done reading request body.
2024-09-23 10:55:18.919 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:55:18.921 +07:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:55:18.921 +07:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-09-23 10:55:18.926 +07:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-09-23 10:55:19.564 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 10:55:19.602 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-23 10:55:19.800 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 10:55:19.844 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:55:19.893 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (46ms).
2024-09-23 10:55:19.905 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:55:19.918 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:55:19.930 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:55:19.951 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:55:19.960 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:55:19.966 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:55:19.970 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:55:19.974 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2024-09-23 10:55:20.003 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 10:55:20.014 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:55:20.014 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:55:20.015 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:55:20.016 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:55:20.016 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 10:55:20.017 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 10:55:20.039 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:55:20.060 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:55:20.061 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:55:20.062 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:55:20.075 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-09-23 10:55:20.092 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-09-23 10:55:20.105 +07:00 [DBG] The unchanged property 'PointOfInterest.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-23 10:55:20.113 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:55:20.116 +07:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-23 10:55:20.120 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-09-23 10:55:20.140 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:55:20.140 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:55:20.142 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-23 10:55:20.157 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-23 10:55:20.205 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:55:20.205 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:55:20.207 +07:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 59), @p1='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointOfInterests" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2024-09-23 10:55:20.212 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 59), @p1='?' (Size = 22)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointOfInterests" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2024-09-23 10:55:20.218 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:55:20.223 +07:00 [DBG] Committing transaction.
2024-09-23 10:55:20.290 +07:00 [DBG] Committed transaction.
2024-09-23 10:55:20.295 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:55:20.295 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:55:20.300 +07:00 [DBG] Disposing transaction.
2024-09-23 10:55:20.306 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:55:20.309 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-09-23 10:55:20.314 +07:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-09-23 10:55:20.320 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API) in 1772.7198ms
2024-09-23 10:55:20.322 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-09-23 10:55:20.323 +07:00 [DBG] Connection id "0HN6RGE4KFR9Q" completed keep alive response.
2024-09-23 10:55:20.327 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 10:55:20.330 +07:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122 - 204 - - 1850.5975ms
2024-09-23 10:55:24.947 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 10:55:24.950 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 10:55:24.951 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:55:24.952 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:55:24.953 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 10:55:24.954 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 10:55:24.957 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 10:55:24.960 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:55:24.961 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:55:24.964 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:55:24.969 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:55:24.971 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:55:24.972 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:55:24.988 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:55:24.990 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:55:24.991 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 10:55:24.992 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:55:24.992 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:55:24.993 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:55:24.993 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:55:24.994 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:55:24.994 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 10:55:24.995 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:55:24.995 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:55:24.996 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:55:24.997 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:55:25.000 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 10:55:25.009 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:55:25.009 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:55:25.010 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:55:25.011 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:55:25.012 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:55:25.016 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:55:25.018 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:55:25.019 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:55:25.021 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:55:25.022 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:55:25.022 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:55:25.022 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:55:25.023 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:55:25.023 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 10:55:25.024 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 10:55:25.025 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:55:25.026 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:55:25.027 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:55:25.027 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:55:25.072 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 99.27ms
2024-09-23 10:55:25.073 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 10:55:25.074 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterest -> IEnumerable`1
CityInfo.API.Entities.PointOfInterest -> System.Collections.Generic.IEnumerable`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method83(Closure , Object , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointsofinterestId) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 60
   at lambda_method78(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 10:55:25.098 +07:00 [DBG] Connection id "0HN6RGE4KFR9Q" completed keep alive response.
2024-09-23 10:55:25.099 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 10:55:25.100 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 152.5829ms
2024-09-23 10:55:25.100 +07:00 [DBG] Connection id "0HN6RGE4KFR9Q", Request id "0HN6RGE4KFR9Q:00000003": started reading request body.
2024-09-23 10:55:25.101 +07:00 [DBG] Connection id "0HN6RGE4KFR9Q", Request id "0HN6RGE4KFR9Q:00000003": done reading request body.
2024-09-23 10:55:32.546 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1 - -
2024-09-23 10:55:32.546 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 10:55:32.547 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-23 10:55:32.548 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-23 10:55:32.549 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-23 10:55:32.549 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-23 10:55:32.552 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 10:55:32.553 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:55:32.553 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:55:32.554 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:55:32.555 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:55:32.555 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:55:32.556 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 10:55:32.558 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 10:55:32.559 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-23 10:55:32.560 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-23 10:55:32.561 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-23 10:55:32.561 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-23 10:55:32.562 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-23 10:55:32.562 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-23 10:55:32.563 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-23 10:55:32.563 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name '' in request data ...
2024-09-23 10:55:32.565 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-23 10:55:32.566 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-23 10:55:32.566 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-23 10:55:32.567 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-23 10:55:32.568 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-23 10:55:32.607 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 10:55:32.609 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-23 10:55:32.612 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 10:55:32.615 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:55:32.616 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:55:32.616 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:55:32.617 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:55:32.617 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-23 10:55:32.618 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-23 10:55:32.621 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:55:32.625 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:55:32.625 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:55:32.626 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:55:32.628 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 10:55:32.633 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 10:55:32.633 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 10:55:32.634 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 10:55:32.635 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 10:55:32.635 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2024-09-23 10:55:32.671 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 115.0446ms
2024-09-23 10:55:32.672 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-23 10:55:32.672 +07:00 [DBG] Connection id "0HN6RGE4KFR9Q" completed keep alive response.
2024-09-23 10:55:32.673 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 10:55:32.673 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1 - - - 200 74 application/json;+charset=utf-8 127.8031ms
2024-09-23 10:55:40.545 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122
2024-09-23 10:55:40.547 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 10:55:40.550 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:55:40.552 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:55:40.554 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 10:55:40.554 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 10:55:40.555 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 10:55:40.556 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:55:40.559 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:55:40.559 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:55:40.560 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:55:40.561 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:55:40.561 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:55:40.562 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:55:40.563 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:55:40.564 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 10:55:40.566 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:55:40.567 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:55:40.568 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:55:40.568 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:55:40.569 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:55:40.569 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 10:55:40.570 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:55:40.570 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:55:40.571 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:55:40.571 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:55:40.572 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 10:55:40.574 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:55:40.575 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:55:40.575 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:55:40.576 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:55:40.576 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:55:40.577 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:55:40.578 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:55:40.579 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:55:40.579 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:55:40.580 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:55:40.581 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:55:40.582 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:55:40.582 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:55:40.583 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 10:55:40.584 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 10:55:40.585 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:55:40.586 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:55:40.586 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:55:40.586 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:55:40.603 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 41.1167ms
2024-09-23 10:55:40.603 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 10:55:40.604 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterest -> IEnumerable`1
CityInfo.API.Entities.PointOfInterest -> System.Collections.Generic.IEnumerable`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method83(Closure , Object , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointsofinterestId) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 60
   at lambda_method78(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 10:55:40.611 +07:00 [DBG] Connection id "0HN6RGE4KFR9Q" completed keep alive response.
2024-09-23 10:55:40.611 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 10:55:40.612 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 122 - 500 - text/plain;+charset=utf-8 66.2124ms
2024-09-23 10:55:40.612 +07:00 [DBG] Connection id "0HN6RGE4KFR9Q", Request id "0HN6RGE4KFR9Q:00000005": started reading request body.
2024-09-23 10:55:40.613 +07:00 [DBG] Connection id "0HN6RGE4KFR9Q", Request id "0HN6RGE4KFR9Q:00000005": done reading request body.
2024-09-23 10:55:53.940 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities - -
2024-09-23 10:55:53.941 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 10:55:53.941 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 10:55:53.942 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 10:55:53.942 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 10:55:53.943 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 10:55:53.945 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 10:55:53.946 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:55:53.946 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:55:53.947 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:55:53.950 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:55:53.950 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:55:53.951 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 10:55:53.952 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 10:55:53.954 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 10:55:53.958 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-09-23 10:55:53.964 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 10:55:53.966 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:55:53.966 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:55:53.967 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:55:53.967 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:55:53.968 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-23 10:55:53.970 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-23 10:55:53.971 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:55:53.972 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:55:53.972 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:55:53.973 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:55:53.973 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:55:53.974 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:55:53.981 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 10:55:53.982 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 10:55:53.983 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 10:55:53.983 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 10:55:53.984 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 10:55:53.984 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 10:55:53.994 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 43.0101ms
2024-09-23 10:55:53.995 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 10:55:53.995 +07:00 [DBG] Connection id "0HN6RGE4KFR9Q" completed keep alive response.
2024-09-23 10:55:53.995 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 10:55:53.996 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities - - - 200 380 application/json;+charset=utf-8 55.5616ms
2024-09-23 10:55:58.255 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest - -
2024-09-23 10:55:58.255 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 10:55:58.256 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2024-09-23 10:55:58.256 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest'
2024-09-23 10:55:58.257 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 10:55:58.258 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 10:55:58.261 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointOfInterest(Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 10:55:58.262 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:55:58.263 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:55:58.264 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:55:58.265 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:55:58.267 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:55:58.269 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:55:58.270 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:55:58.270 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:55:58.271 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 10:55:58.271 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:55:58.272 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:55:58.272 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:55:58.273 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:55:58.274 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 10:55:58.275 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:55:58.275 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:55:58.276 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:55:58.276 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:55:58.277 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:55:58.278 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:55:58.279 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:55:58.279 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:55:58.280 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:55:58.282 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(c => c.Id == __cityId_0)'
2024-09-23 10:55:58.286 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.Id == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 10:55:58.288 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:55:58.288 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:55:58.289 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:55:58.290 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:55:58.291 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-23 10:55:58.293 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE "p"."Id" = @__cityId_0
2024-09-23 10:55:58.295 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:55:58.296 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:55:58.296 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:55:58.297 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:55:58.300 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 10:55:58.302 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 10:55:58.302 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 10:55:58.302 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 10:55:58.303 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 10:55:58.304 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 10:55:58.305 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 35.8693ms
2024-09-23 10:55:58.305 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 10:55:58.306 +07:00 [DBG] Connection id "0HN6RGE4KFR9Q" completed keep alive response.
2024-09-23 10:55:58.307 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 10:55:58.307 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest - - - 200 118 application/json;+charset=utf-8 52.7637ms
2024-09-23 10:56:04.832 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - -
2024-09-23 10:56:04.835 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 10:56:04.836 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:56:04.836 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:56:04.837 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 10:56:04.838 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 10:56:04.838 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 10:56:04.839 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:56:04.840 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:56:04.841 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:56:04.841 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:56:04.842 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:56:04.843 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:56:04.843 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:56:04.846 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:56:04.846 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 10:56:04.847 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:56:04.848 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:56:04.848 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:56:04.850 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:56:04.851 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:56:04.851 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 10:56:04.852 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:56:04.852 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:56:04.853 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:56:04.853 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:56:04.854 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 10:56:04.855 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:56:04.855 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:56:04.856 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:56:04.856 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:56:04.857 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:56:04.858 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:56:04.859 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:56:04.859 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:56:04.862 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:56:04.862 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:56:04.863 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:56:04.863 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:56:04.864 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:56:04.865 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 10:56:04.867 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 10:56:04.868 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:56:04.868 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:56:04.869 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:56:04.869 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:56:04.886 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 42.9494ms
2024-09-23 10:56:04.887 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 10:56:04.887 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterest -> IEnumerable`1
CityInfo.API.Entities.PointOfInterest -> System.Collections.Generic.IEnumerable`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method83(Closure , Object , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest(Int32 cityId, Int32 pointsofinterestId) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\PointOfInterestController.cs:line 60
   at lambda_method78(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 10:56:04.897 +07:00 [DBG] Connection id "0HN6RGE4KFR9Q" completed keep alive response.
2024-09-23 10:56:04.898 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 10:56:04.899 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - - - 500 - text/plain;+charset=utf-8 66.9454ms
2024-09-23 10:57:16.215 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 10:57:16.356 +07:00 [DBG] Hosting starting
2024-09-23 10:57:16.578 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 10:57:16.626 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 10:57:16.627 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 10:57:16.627 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 10:57:16.627 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 10:57:16.628 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 10:57:16.629 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 10:57:16.630 +07:00 [INF] Hosting environment: Development
2024-09-23 10:57:16.631 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 10:57:16.631 +07:00 [DBG] Hosting started
2024-09-23 10:57:17.028 +07:00 [DBG] Connection id "0HN6RGF8D0T0Q" received FIN.
2024-09-23 10:57:17.028 +07:00 [DBG] Connection id "0HN6RGF8D0T0P" received FIN.
2024-09-23 10:57:17.036 +07:00 [DBG] Connection id "0HN6RGF8D0T0Q" accepted.
2024-09-23 10:57:17.036 +07:00 [DBG] Connection id "0HN6RGF8D0T0P" accepted.
2024-09-23 10:57:17.037 +07:00 [DBG] Connection id "0HN6RGF8D0T0P" started.
2024-09-23 10:57:17.037 +07:00 [DBG] Connection id "0HN6RGF8D0T0Q" started.
2024-09-23 10:57:17.050 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:57:17.050 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:57:17.076 +07:00 [DBG] Connection id "0HN6RGF8D0T0P" stopped.
2024-09-23 10:57:17.076 +07:00 [DBG] Connection id "0HN6RGF8D0T0Q" stopped.
2024-09-23 10:57:17.081 +07:00 [DBG] Connection id "0HN6RGF8D0T0P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:57:17.081 +07:00 [DBG] Connection id "0HN6RGF8D0T0Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:57:17.411 +07:00 [DBG] Connection id "0HN6RGF8D0T0R" accepted.
2024-09-23 10:57:17.429 +07:00 [DBG] Connection id "0HN6RGF8D0T0R" started.
2024-09-23 10:57:17.578 +07:00 [DBG] Connection 0HN6RGF8D0T0R established using the following protocol: "Tls12"
2024-09-23 10:57:17.688 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 10:57:17.726 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 10:57:17.824 +07:00 [DBG] Connection id "0HN6RGF8D0T0S" accepted.
2024-09-23 10:57:17.824 +07:00 [DBG] Connection id "0HN6RGF8D0T0S" received FIN.
2024-09-23 10:57:17.825 +07:00 [DBG] Connection id "0HN6RGF8D0T0S" started.
2024-09-23 10:57:17.825 +07:00 [DBG] Connection id "0HN6RGF8D0T0T" accepted.
2024-09-23 10:57:17.826 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 10:57:17.826 +07:00 [DBG] Connection id "0HN6RGF8D0T0T" started.
2024-09-23 10:57:17.828 +07:00 [DBG] Connection id "0HN6RGF8D0T0S" stopped.
2024-09-23 10:57:17.829 +07:00 [DBG] Connection id "0HN6RGF8D0T0S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 10:57:17.834 +07:00 [DBG] Connection 0HN6RGF8D0T0T established using the following protocol: "Tls12"
2024-09-23 10:57:17.842 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - -
2024-09-23 10:57:17.844 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 10:57:17.864 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:57:17.873 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 10:57:17.875 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 10:57:17.878 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 10:57:17.918 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 10:57:17.920 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 10:57:17.921 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 10:57:17.922 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 10:57:17.922 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 10:57:17.923 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 10:57:17.924 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:57:17.926 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 10:57:18.047 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 10:57:18.052 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 10:57:18.057 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 376.5872ms
2024-09-23 10:57:18.076 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 10:57:18.077 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 10:57:18.087 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 9.8588ms
2024-09-23 10:57:18.104 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 27.0124ms
2024-09-23 10:57:18.140 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 10:57:18.241 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 10:57:18.249 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:57:18.254 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 10:57:18.255 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:57:18.256 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:57:18.256 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 10:57:18.258 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 10:57:18.259 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:57:18.259 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 10:57:18.260 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:57:18.261 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:57:18.261 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 10:57:18.261 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 10:57:18.296 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 156.3727ms
2024-09-23 10:57:18.948 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 10:57:18.994 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-23 10:57:19.202 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 10:57:19.246 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:57:19.290 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2024-09-23 10:57:19.301 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:57:19.314 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:57:19.327 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:57:19.348 +07:00 [INF] Executed DbCommand (26ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 10:57:19.360 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:57:19.366 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:57:19.374 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:57:19.377 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2024-09-23 10:57:19.410 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 10:57:19.422 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 10:57:19.422 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 10:57:19.423 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:57:19.423 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:57:19.424 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 10:57:19.425 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 10:57:19.437 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 10:57:19.457 +07:00 [DBG] A data reader was disposed.
2024-09-23 10:57:19.458 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 10:57:19.458 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 10:57:19.467 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 10:57:19.471 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 10:57:19.471 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 10:57:19.472 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 10:57:19.472 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 10:57:19.473 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-09-23 10:57:19.568 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 1640.2637ms
2024-09-23 10:57:19.570 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 10:57:19.571 +07:00 [DBG] Connection id "0HN6RGF8D0T0T" completed keep alive response.
2024-09-23 10:57:19.576 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 10:57:19.579 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - - - 200 116 application/json;+charset=utf-8 1736.3722ms
2024-09-23 11:06:37.977 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 11:06:38.102 +07:00 [DBG] Hosting starting
2024-09-23 11:06:38.265 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 11:06:38.305 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 11:06:38.305 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 11:06:38.306 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 11:06:38.306 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 11:06:38.306 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 11:06:38.307 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 11:06:38.308 +07:00 [INF] Hosting environment: Development
2024-09-23 11:06:38.308 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 11:06:38.309 +07:00 [DBG] Hosting started
2024-09-23 11:06:38.813 +07:00 [DBG] Connection id "0HN6RGKFQJSIL" received FIN.
2024-09-23 11:06:38.813 +07:00 [DBG] Connection id "0HN6RGKFQJSIM" received FIN.
2024-09-23 11:06:38.826 +07:00 [DBG] Connection id "0HN6RGKFQJSIL" accepted.
2024-09-23 11:06:38.826 +07:00 [DBG] Connection id "0HN6RGKFQJSIM" accepted.
2024-09-23 11:06:38.828 +07:00 [DBG] Connection id "0HN6RGKFQJSIL" started.
2024-09-23 11:06:38.828 +07:00 [DBG] Connection id "0HN6RGKFQJSIM" started.
2024-09-23 11:06:38.853 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 11:06:38.853 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 11:06:38.891 +07:00 [DBG] Connection id "0HN6RGKFQJSIL" stopped.
2024-09-23 11:06:38.891 +07:00 [DBG] Connection id "0HN6RGKFQJSIM" stopped.
2024-09-23 11:06:38.897 +07:00 [DBG] Connection id "0HN6RGKFQJSIM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 11:06:38.897 +07:00 [DBG] Connection id "0HN6RGKFQJSIL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 11:06:39.064 +07:00 [DBG] Connection id "0HN6RGKFQJSIN" accepted.
2024-09-23 11:06:39.065 +07:00 [DBG] Connection id "0HN6RGKFQJSIN" started.
2024-09-23 11:06:39.122 +07:00 [DBG] Connection 0HN6RGKFQJSIN established using the following protocol: "Tls12"
2024-09-23 11:06:39.202 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 11:06:39.239 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 11:06:39.426 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 11:06:39.529 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 11:06:39.531 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 11:06:39.531 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 11:06:39.538 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 339.9749ms
2024-09-23 11:06:39.549 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 17.0206ms
2024-09-23 11:06:39.567 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 35.5423ms
2024-09-23 11:06:39.597 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 11:06:39.740 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 142.9842ms
2024-09-23 11:06:52.859 +07:00 [DBG] Connection id "0HN6RGKFQJSIO" accepted.
2024-09-23 11:06:52.859 +07:00 [DBG] Connection id "0HN6RGKFQJSIO" received FIN.
2024-09-23 11:06:52.860 +07:00 [DBG] Connection id "0HN6RGKFQJSIO" started.
2024-09-23 11:06:52.861 +07:00 [DBG] Connection id "0HN6RGKFQJSIP" accepted.
2024-09-23 11:06:52.862 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 11:06:52.862 +07:00 [DBG] Connection id "0HN6RGKFQJSIP" started.
2024-09-23 11:06:52.864 +07:00 [DBG] Connection id "0HN6RGKFQJSIO" stopped.
2024-09-23 11:06:52.865 +07:00 [DBG] Connection id "0HN6RGKFQJSIO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 11:06:52.875 +07:00 [DBG] Connection 0HN6RGKFQJSIP established using the following protocol: "Tls12"
2024-09-23 11:06:52.881 +07:00 [INF] Request starting HTTP/1.1 PATCH https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 106
2024-09-23 11:06:52.882 +07:00 [DBG] PATCH requests are not supported
2024-09-23 11:06:52.900 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 11:06:52.906 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 11:06:52.908 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2024-09-23 11:06:52.910 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2024-09-23 11:06:52.941 +07:00 [INF] Route matched with {action = "PartiallyUpdatePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] PartiallyUpdatePointOfInterest(Int32, Int32, Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 11:06:52.943 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 11:06:52.943 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 11:06:52.944 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 11:06:52.945 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 11:06:52.945 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 11:06:52.947 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 11:06:53.052 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 11:06:53.163 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 11:06:53.173 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 11:06:53.175 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 11:06:53.176 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 11:06:53.176 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 11:06:53.176 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 11:06:53.178 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 11:06:53.179 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 11:06:53.180 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 11:06:53.180 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 11:06:53.181 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 11:06:53.181 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 11:06:53.182 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 11:06:53.182 +07:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2024-09-23 11:06:53.185 +07:00 [DBG] Attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' using the name '' in request data ...
2024-09-23 11:06:53.188 +07:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-09-23 11:06:53.189 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-09-23 11:06:53.199 +07:00 [DBG] Connection id "0HN6RGKFQJSIP", Request id "0HN6RGKFQJSIP:00000002": started reading request body.
2024-09-23 11:06:53.200 +07:00 [DBG] Connection id "0HN6RGKFQJSIP", Request id "0HN6RGKFQJSIP:00000002": done reading request body.
2024-09-23 11:06:53.343 +07:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2024-09-23 11:06:53.344 +07:00 [DBG] Done attempting to bind parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2024-09-23 11:06:53.344 +07:00 [DBG] Attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]' ...
2024-09-23 11:06:53.349 +07:00 [DBG] Done attempting to validate the bound parameter 'patchDocument' of type 'Microsoft.AspNetCore.JsonPatch.JsonPatchDocument`1[CityInfo.API.Models.PointOfInterestForUpdateDto]'.
2024-09-23 11:06:53.964 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 11:06:54.003 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-23 11:06:54.196 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 11:06:54.242 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 11:06:54.286 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2024-09-23 11:06:54.297 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:06:54.311 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:06:54.323 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 11:06:54.344 +07:00 [INF] Executed DbCommand (25ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 11:06:54.354 +07:00 [DBG] A data reader was disposed.
2024-09-23 11:06:54.359 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:06:54.364 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:06:54.367 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2024-09-23 11:06:54.398 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 11:06:54.410 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 11:06:54.410 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 11:06:54.411 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:06:54.411 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:06:54.412 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 11:06:54.413 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 11:06:54.426 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:06:54.447 +07:00 [DBG] A data reader was disposed.
2024-09-23 11:06:54.447 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:06:54.448 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:06:54.470 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-09-23 11:06:54.472 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-09-23 11:06:54.483 +07:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-23 11:06:54.492 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:06:54.495 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-09-23 11:06:54.511 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:06:54.511 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:06:54.513 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-23 11:06:54.518 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-23 11:06:54.552 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 11:06:54.552 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 11:06:54.554 +07:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointOfInterests" SET "Name" = @p0
WHERE "Id" = @p1;
SELECT changes();
2024-09-23 11:06:54.556 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 27)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointOfInterests" SET "Name" = @p0
WHERE "Id" = @p1;
SELECT changes();
2024-09-23 11:06:54.561 +07:00 [DBG] A data reader was disposed.
2024-09-23 11:06:54.565 +07:00 [DBG] Committing transaction.
2024-09-23 11:06:54.588 +07:00 [DBG] Committed transaction.
2024-09-23 11:06:54.592 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:06:54.593 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:06:54.596 +07:00 [DBG] Disposing transaction.
2024-09-23 11:06:54.604 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:06:54.607 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-09-23 11:06:54.611 +07:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-09-23 11:06:54.615 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API) in 1665.0158ms
2024-09-23 11:06:54.616 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.PartiallyUpdatePointOfInterest (CityInfo.API)'
2024-09-23 11:06:54.618 +07:00 [DBG] Connection id "0HN6RGKFQJSIP" completed keep alive response.
2024-09-23 11:06:54.622 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 11:06:54.625 +07:00 [INF] Request finished HTTP/1.1 PATCH https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 106 - 204 - - 1744.0592ms
2024-09-23 11:06:57.607 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 106
2024-09-23 11:06:57.610 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 11:06:57.611 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 11:06:57.612 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 11:06:57.613 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 11:06:57.614 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 11:06:57.619 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 11:06:57.622 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 11:06:57.622 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 11:06:57.623 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 11:06:57.624 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 11:06:57.625 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 11:06:57.625 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 11:06:57.631 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 11:06:57.634 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 11:06:57.636 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 11:06:57.638 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 11:06:57.638 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 11:06:57.639 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 11:06:57.639 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 11:06:57.640 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 11:06:57.640 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 11:06:57.641 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 11:06:57.641 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 11:06:57.642 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 11:06:57.642 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 11:06:57.645 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 11:06:57.658 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 11:06:57.658 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 11:06:57.659 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:06:57.659 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:06:57.660 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 11:06:57.661 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 11:06:57.662 +07:00 [DBG] A data reader was disposed.
2024-09-23 11:06:57.662 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:06:57.663 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:06:57.665 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 11:06:57.665 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 11:06:57.665 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:06:57.666 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:06:57.667 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 11:06:57.668 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 11:06:57.670 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:06:57.671 +07:00 [DBG] A data reader was disposed.
2024-09-23 11:06:57.671 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:06:57.672 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:06:57.674 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 11:06:57.677 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 11:06:57.677 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 11:06:57.678 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 11:06:57.678 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 11:06:57.679 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-09-23 11:06:57.712 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 86.3694ms
2024-09-23 11:06:57.713 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 11:06:57.713 +07:00 [DBG] Connection id "0HN6RGKFQJSIP" completed keep alive response.
2024-09-23 11:06:57.714 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 11:06:57.714 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 application/json 106 - 200 121 application/json;+charset=utf-8 106.7128ms
2024-09-23 11:06:57.715 +07:00 [DBG] Connection id "0HN6RGKFQJSIP", Request id "0HN6RGKFQJSIP:00000003": started reading request body.
2024-09-23 11:06:57.715 +07:00 [DBG] Connection id "0HN6RGKFQJSIP", Request id "0HN6RGKFQJSIP:00000003": done reading request body.
2024-09-23 11:11:19.268 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 11:11:19.363 +07:00 [DBG] Hosting starting
2024-09-23 11:11:19.521 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 11:11:19.555 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 11:11:19.556 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 11:11:19.556 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 11:11:19.556 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 11:11:19.557 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 11:11:19.557 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 11:11:19.559 +07:00 [INF] Hosting environment: Development
2024-09-23 11:11:19.560 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 11:11:19.560 +07:00 [DBG] Hosting started
2024-09-23 11:11:19.606 +07:00 [DBG] Connection id "0HN6RGN3GC7HL" accepted.
2024-09-23 11:11:19.611 +07:00 [DBG] Connection id "0HN6RGN3GC7HL" received FIN.
2024-09-23 11:11:19.606 +07:00 [DBG] Connection id "0HN6RGN3GC7HK" accepted.
2024-09-23 11:11:19.611 +07:00 [DBG] Connection id "0HN6RGN3GC7HK" received FIN.
2024-09-23 11:11:19.612 +07:00 [DBG] Connection id "0HN6RGN3GC7HL" started.
2024-09-23 11:11:19.612 +07:00 [DBG] Connection id "0HN6RGN3GC7HK" started.
2024-09-23 11:11:19.630 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 11:11:19.630 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 11:11:19.667 +07:00 [DBG] Connection id "0HN6RGN3GC7HK" stopped.
2024-09-23 11:11:19.667 +07:00 [DBG] Connection id "0HN6RGN3GC7HL" stopped.
2024-09-23 11:11:19.670 +07:00 [DBG] Connection id "0HN6RGN3GC7HK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 11:11:19.670 +07:00 [DBG] Connection id "0HN6RGN3GC7HL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 11:11:19.861 +07:00 [DBG] Connection id "0HN6RGN3GC7HM" accepted.
2024-09-23 11:11:19.863 +07:00 [DBG] Connection id "0HN6RGN3GC7HM" started.
2024-09-23 11:11:19.997 +07:00 [DBG] Connection 0HN6RGN3GC7HM established using the following protocol: "Tls12"
2024-09-23 11:11:20.090 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 11:11:20.180 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 11:11:20.436 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 11:11:20.552 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 11:11:20.559 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 473.6064ms
2024-09-23 11:11:20.579 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 11:11:20.579 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 11:11:20.584 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 5.2098ms
2024-09-23 11:11:20.611 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.7009ms
2024-09-23 11:11:20.631 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 11:11:20.768 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 136.5952ms
2024-09-23 11:11:28.552 +07:00 [DBG] Connection id "0HN6RGN3GC7HN" accepted.
2024-09-23 11:11:28.553 +07:00 [DBG] Connection id "0HN6RGN3GC7HN" received FIN.
2024-09-23 11:11:28.555 +07:00 [DBG] Connection id "0HN6RGN3GC7HN" started.
2024-09-23 11:11:28.557 +07:00 [DBG] Connection id "0HN6RGN3GC7HO" accepted.
2024-09-23 11:11:28.564 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 11:11:28.565 +07:00 [DBG] Connection id "0HN6RGN3GC7HO" started.
2024-09-23 11:11:28.569 +07:00 [DBG] Connection id "0HN6RGN3GC7HN" stopped.
2024-09-23 11:11:28.570 +07:00 [DBG] Connection id "0HN6RGN3GC7HN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 11:11:28.573 +07:00 [DBG] Connection 0HN6RGN3GC7HO established using the following protocol: "Tls12"
2024-09-23 11:11:28.584 +07:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7139/api/cities/1/pointsofinterest/1 - -
2024-09-23 11:11:28.586 +07:00 [DBG] DELETE requests are not supported
2024-09-23 11:11:28.604 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 11:11:28.610 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 11:11:28.611 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-09-23 11:11:28.613 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-09-23 11:11:28.644 +07:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 11:11:28.646 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 11:11:28.647 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 11:11:28.647 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 11:11:28.649 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 11:11:28.650 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 11:11:28.652 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 11:11:28.758 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 11:11:28.878 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 11:11:28.886 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 11:11:28.888 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 11:11:28.889 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 11:11:28.889 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 11:11:28.890 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 11:11:28.891 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 11:11:28.894 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 11:11:28.895 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 11:11:28.895 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 11:11:28.896 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 11:11:28.896 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 11:11:28.897 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 11:11:29.502 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 11:11:29.543 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-23 11:11:29.738 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 11:11:29.782 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 11:11:29.838 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (53ms).
2024-09-23 11:11:29.849 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:11:29.862 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:11:29.874 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 11:11:29.899 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 11:11:29.909 +07:00 [DBG] A data reader was disposed.
2024-09-23 11:11:29.917 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:11:29.921 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:11:29.924 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2024-09-23 11:11:29.957 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 11:11:29.968 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 11:11:29.968 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 11:11:29.969 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:11:29.969 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:11:29.970 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 11:11:29.972 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 11:11:29.985 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:11:30.004 +07:00 [DBG] A data reader was disposed.
2024-09-23 11:11:30.004 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:11:30.005 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:11:30.017 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:11:30.026 +07:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-09-23 11:11:30.030 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.DeletePointOfInterest (CityInfo.API) in 1375.9408ms
2024-09-23 11:11:30.032 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-09-23 11:11:30.033 +07:00 [DBG] Connection id "0HN6RGN3GC7HO" completed keep alive response.
2024-09-23 11:11:30.037 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 11:11:30.039 +07:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7139/api/cities/1/pointsofinterest/1 - - - 204 - - 1454.7490ms
2024-09-23 11:11:33.167 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - -
2024-09-23 11:11:33.168 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 11:11:33.169 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 11:11:33.169 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 11:11:33.170 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 11:11:33.171 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 11:11:33.173 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 11:11:33.174 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 11:11:33.175 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 11:11:33.176 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 11:11:33.177 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 11:11:33.178 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 11:11:33.179 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 11:11:33.185 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 11:11:33.186 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 11:11:33.186 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 11:11:33.187 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 11:11:33.187 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 11:11:33.188 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 11:11:33.189 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 11:11:33.189 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 11:11:33.190 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 11:11:33.191 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 11:11:33.191 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 11:11:33.192 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 11:11:33.194 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 11:11:33.198 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 11:11:33.206 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 11:11:33.206 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 11:11:33.207 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:11:33.208 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:11:33.209 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 11:11:33.211 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 11:11:33.212 +07:00 [DBG] A data reader was disposed.
2024-09-23 11:11:33.213 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:11:33.215 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:11:33.215 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 11:11:33.216 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 11:11:33.216 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:11:33.217 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:11:33.218 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 11:11:33.219 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 11:11:33.220 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:11:33.221 +07:00 [DBG] A data reader was disposed.
2024-09-23 11:11:33.221 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:11:33.222 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:11:33.231 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 11:11:33.235 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 11:11:33.235 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 11:11:33.236 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 11:11:33.237 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 11:11:33.237 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-09-23 11:11:33.333 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 154.6222ms
2024-09-23 11:11:33.335 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 11:11:33.335 +07:00 [DBG] Connection id "0HN6RGN3GC7HO" completed keep alive response.
2024-09-23 11:11:33.335 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 11:11:33.336 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - - - 200 121 application/json;+charset=utf-8 168.4702ms
2024-09-23 11:11:38.384 +07:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7139/api/cities/1/pointsofinterest/1 - -
2024-09-23 11:11:38.385 +07:00 [DBG] DELETE requests are not supported
2024-09-23 11:11:38.386 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 11:11:38.388 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 11:11:38.391 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-09-23 11:11:38.393 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-09-23 11:11:38.398 +07:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 11:11:38.400 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 11:11:38.401 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 11:11:38.402 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 11:11:38.404 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 11:11:38.405 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 11:11:38.406 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 11:11:38.408 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 11:11:38.412 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 11:11:38.412 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 11:11:38.413 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 11:11:38.413 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 11:11:38.414 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 11:11:38.414 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 11:11:38.415 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 11:11:38.415 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 11:11:38.416 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 11:11:38.416 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 11:11:38.417 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 11:11:38.417 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 11:11:38.453 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 11:11:38.455 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 11:11:38.455 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 11:11:38.456 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:11:38.456 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:11:38.457 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 11:11:38.459 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 11:11:38.461 +07:00 [DBG] A data reader was disposed.
2024-09-23 11:11:38.461 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:11:38.462 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:11:38.462 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 11:11:38.463 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 11:11:38.463 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:11:38.464 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:11:38.464 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 11:11:38.465 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 11:11:38.466 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:11:38.467 +07:00 [DBG] A data reader was disposed.
2024-09-23 11:11:38.467 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:11:38.468 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:11:38.468 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:11:38.469 +07:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-09-23 11:11:38.470 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.DeletePointOfInterest (CityInfo.API) in 63.5199ms
2024-09-23 11:11:38.470 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-09-23 11:11:38.471 +07:00 [DBG] Connection id "0HN6RGN3GC7HO" completed keep alive response.
2024-09-23 11:11:38.471 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 11:11:38.472 +07:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7139/api/cities/1/pointsofinterest/1 - - - 204 - - 87.1030ms
2024-09-23 11:12:52.570 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 11:12:52.713 +07:00 [DBG] Hosting starting
2024-09-23 11:12:52.856 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 11:12:52.887 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 11:12:52.887 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 11:12:52.887 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 11:12:52.888 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 11:12:52.888 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 11:12:52.888 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 11:12:52.889 +07:00 [INF] Hosting environment: Development
2024-09-23 11:12:52.890 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 11:12:52.890 +07:00 [DBG] Hosting started
2024-09-23 11:12:53.334 +07:00 [DBG] Connection id "0HN6RGNVEAJGT" received FIN.
2024-09-23 11:12:53.334 +07:00 [DBG] Connection id "0HN6RGNVEAJGU" received FIN.
2024-09-23 11:12:53.342 +07:00 [DBG] Connection id "0HN6RGNVEAJGU" accepted.
2024-09-23 11:12:53.342 +07:00 [DBG] Connection id "0HN6RGNVEAJGT" accepted.
2024-09-23 11:12:53.345 +07:00 [DBG] Connection id "0HN6RGNVEAJGU" started.
2024-09-23 11:12:53.345 +07:00 [DBG] Connection id "0HN6RGNVEAJGT" started.
2024-09-23 11:12:53.360 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 11:12:53.360 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 11:12:53.389 +07:00 [DBG] Connection id "0HN6RGNVEAJGT" stopped.
2024-09-23 11:12:53.389 +07:00 [DBG] Connection id "0HN6RGNVEAJGU" stopped.
2024-09-23 11:12:53.391 +07:00 [DBG] Connection id "0HN6RGNVEAJGT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 11:12:53.391 +07:00 [DBG] Connection id "0HN6RGNVEAJGU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 11:12:53.542 +07:00 [DBG] Connection id "0HN6RGNVEAJGV" accepted.
2024-09-23 11:12:53.543 +07:00 [DBG] Connection id "0HN6RGNVEAJGV" started.
2024-09-23 11:12:53.583 +07:00 [DBG] Connection 0HN6RGNVEAJGV established using the following protocol: "Tls12"
2024-09-23 11:12:53.650 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 11:12:53.685 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 11:12:53.889 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 11:12:53.993 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 11:12:54.001 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 355.3367ms
2024-09-23 11:12:54.004 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 11:12:54.004 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 11:12:54.021 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 16.7565ms
2024-09-23 11:12:54.050 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 46.1055ms
2024-09-23 11:12:54.074 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 11:12:54.215 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 140.6294ms
2024-09-23 11:13:39.007 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 11:13:39.101 +07:00 [DBG] Hosting starting
2024-09-23 11:13:39.247 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 11:13:39.279 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 11:13:39.281 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 11:13:39.281 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 11:13:39.282 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 11:13:39.282 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 11:13:39.283 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 11:13:39.284 +07:00 [INF] Hosting environment: Development
2024-09-23 11:13:39.284 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 11:13:39.284 +07:00 [DBG] Hosting started
2024-09-23 11:13:39.634 +07:00 [DBG] Connection id "0HN6RGOD7RBAH" accepted.
2024-09-23 11:13:39.634 +07:00 [DBG] Connection id "0HN6RGOD7RBAI" accepted.
2024-09-23 11:13:39.642 +07:00 [DBG] Connection id "0HN6RGOD7RBAH" started.
2024-09-23 11:13:39.642 +07:00 [DBG] Connection id "0HN6RGOD7RBAI" started.
2024-09-23 11:13:39.643 +07:00 [DBG] Connection id "0HN6RGOD7RBAI" received FIN.
2024-09-23 11:13:39.643 +07:00 [DBG] Connection id "0HN6RGOD7RBAH" received FIN.
2024-09-23 11:13:39.666 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 11:13:39.666 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 11:13:39.695 +07:00 [DBG] Connection id "0HN6RGOD7RBAI" stopped.
2024-09-23 11:13:39.696 +07:00 [DBG] Connection id "0HN6RGOD7RBAH" stopped.
2024-09-23 11:13:39.699 +07:00 [DBG] Connection id "0HN6RGOD7RBAI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 11:13:39.699 +07:00 [DBG] Connection id "0HN6RGOD7RBAH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 11:13:39.760 +07:00 [DBG] Connection id "0HN6RGOD7RBAJ" accepted.
2024-09-23 11:13:39.761 +07:00 [DBG] Connection id "0HN6RGOD7RBAJ" started.
2024-09-23 11:13:39.824 +07:00 [DBG] Connection 0HN6RGOD7RBAJ established using the following protocol: "Tls12"
2024-09-23 11:13:39.885 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 11:13:39.922 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 11:13:40.108 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 11:13:40.212 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 11:13:40.220 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 339.2491ms
2024-09-23 11:13:40.221 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 11:13:40.221 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 11:13:40.237 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 15.3981ms
2024-09-23 11:13:40.252 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 31.1208ms
2024-09-23 11:13:40.285 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 11:13:40.421 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 135.4141ms
2024-09-23 11:13:46.022 +07:00 [DBG] Connection id "0HN6RGOD7RBAK" accepted.
2024-09-23 11:13:46.024 +07:00 [DBG] Connection id "0HN6RGOD7RBAK" received FIN.
2024-09-23 11:13:46.024 +07:00 [DBG] Connection id "0HN6RGOD7RBAK" started.
2024-09-23 11:13:46.026 +07:00 [DBG] Connection id "0HN6RGOD7RBAL" accepted.
2024-09-23 11:13:46.033 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 11:13:46.034 +07:00 [DBG] Connection id "0HN6RGOD7RBAL" started.
2024-09-23 11:13:46.039 +07:00 [DBG] Connection id "0HN6RGOD7RBAK" stopped.
2024-09-23 11:13:46.040 +07:00 [DBG] Connection id "0HN6RGOD7RBAK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 11:13:46.045 +07:00 [DBG] Connection 0HN6RGOD7RBAL established using the following protocol: "Tls12"
2024-09-23 11:13:46.053 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - -
2024-09-23 11:13:46.055 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 11:13:46.072 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 11:13:46.076 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 11:13:46.079 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 11:13:46.082 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 11:13:46.115 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 11:13:46.117 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 11:13:46.118 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 11:13:46.118 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 11:13:46.119 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 11:13:46.120 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 11:13:46.121 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 11:13:46.223 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 11:13:46.340 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 11:13:46.349 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 11:13:46.351 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 11:13:46.352 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 11:13:46.353 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 11:13:46.354 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 11:13:46.355 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 11:13:46.357 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 11:13:46.357 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 11:13:46.358 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 11:13:46.358 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 11:13:46.359 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 11:13:46.359 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 11:13:46.974 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 11:13:47.012 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-09-23 11:13:47.206 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 11:13:47.249 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 11:13:47.291 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (39ms).
2024-09-23 11:13:47.303 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:13:47.315 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:13:47.326 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 11:13:47.347 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 11:13:47.356 +07:00 [DBG] A data reader was disposed.
2024-09-23 11:13:47.364 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:13:47.369 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:13:47.372 +07:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2024-09-23 11:13:47.401 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required, 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 11:13:47.411 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 11:13:47.411 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 11:13:47.412 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:13:47.413 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:13:47.414 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 11:13:47.416 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 11:13:47.427 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:13:47.446 +07:00 [DBG] A data reader was disposed.
2024-09-23 11:13:47.446 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:13:47.447 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:13:47.456 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 11:13:47.460 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 11:13:47.460 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 11:13:47.460 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 11:13:47.461 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 11:13:47.462 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-09-23 11:13:47.557 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 1433.107ms
2024-09-23 11:13:47.559 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 11:13:47.560 +07:00 [DBG] Connection id "0HN6RGOD7RBAL" completed keep alive response.
2024-09-23 11:13:47.565 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 11:13:47.569 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - - - 200 121 application/json;+charset=utf-8 1515.8043ms
2024-09-23 11:13:50.559 +07:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7139/api/cities/1/pointsofinterest/1 - -
2024-09-23 11:13:50.561 +07:00 [DBG] DELETE requests are not supported
2024-09-23 11:13:50.564 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 11:13:50.568 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 11:13:50.570 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-09-23 11:13:50.572 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-09-23 11:13:50.576 +07:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 11:13:50.577 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 11:13:50.577 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 11:13:50.578 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 11:13:50.579 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 11:13:50.581 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 11:13:50.585 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 11:13:50.591 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 11:13:50.591 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 11:13:50.592 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 11:13:50.592 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 11:13:50.593 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 11:13:50.593 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 11:13:50.594 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 11:13:50.594 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 11:13:50.595 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 11:13:50.596 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 11:13:50.599 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 11:13:50.600 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 11:13:50.600 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 11:13:50.603 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 11:13:50.606 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 11:13:50.607 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 11:13:50.607 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:13:50.608 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:13:50.608 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 11:13:50.609 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 11:13:50.610 +07:00 [DBG] A data reader was disposed.
2024-09-23 11:13:50.611 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:13:50.611 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:13:50.612 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 11:13:50.615 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-23 11:13:50.616 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:13:50.616 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:13:50.617 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 11:13:50.618 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 11:13:50.619 +07:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:13:50.620 +07:00 [DBG] A data reader was disposed.
2024-09-23 11:13:50.620 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:13:50.621 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:13:50.634 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:13:50.643 +07:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-09-23 11:13:50.645 +07:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-09-23 11:13:50.658 +07:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-09-23 11:13:50.675 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:13:50.675 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:13:50.678 +07:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-23 11:13:50.684 +07:00 [DBG] Began transaction with isolation level 'Serializable'.
2024-09-23 11:13:50.724 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 11:13:50.725 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 11:13:50.726 +07:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointOfInterests"
WHERE "Id" = @p0;
SELECT changes();
2024-09-23 11:13:50.727 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "PointOfInterests"
WHERE "Id" = @p0;
SELECT changes();
2024-09-23 11:13:50.734 +07:00 [DBG] A data reader was disposed.
2024-09-23 11:13:50.738 +07:00 [DBG] Committing transaction.
2024-09-23 11:13:50.771 +07:00 [DBG] Committed transaction.
2024-09-23 11:13:50.776 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:13:50.776 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:13:50.780 +07:00 [DBG] Disposing transaction.
2024-09-23 11:13:50.786 +07:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:13:50.790 +07:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-09-23 11:13:50.794 +07:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-09-23 11:13:50.795 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.DeletePointOfInterest (CityInfo.API) in 209.8729ms
2024-09-23 11:13:50.795 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-09-23 11:13:50.797 +07:00 [DBG] Connection id "0HN6RGOD7RBAL" completed keep alive response.
2024-09-23 11:13:50.797 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 11:13:50.798 +07:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7139/api/cities/1/pointsofinterest/1 - - - 204 - - 239.3927ms
2024-09-23 11:13:53.393 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - -
2024-09-23 11:13:53.394 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 11:13:53.394 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 11:13:53.395 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointsofinterestId}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2024-09-23 11:13:53.396 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 11:13:53.398 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 11:13:53.400 +07:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API).
2024-09-23 11:13:53.405 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 11:13:53.409 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 11:13:53.411 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 11:13:53.415 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 11:13:53.417 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 11:13:53.418 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 11:13:53.420 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointOfInterestController (CityInfo.API)
2024-09-23 11:13:53.421 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-09-23 11:13:53.422 +07:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-09-23 11:13:53.422 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 11:13:53.424 +07:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-09-23 11:13:53.425 +07:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-09-23 11:13:53.425 +07:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-09-23 11:13:53.426 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 11:13:53.426 +07:00 [DBG] Attempting to bind parameter 'pointsofinterestId' of type 'System.Int32' using the name 'pointsofinterestId' in request data ...
2024-09-23 11:13:53.427 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 11:13:53.427 +07:00 [DBG] Done attempting to bind parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 11:13:53.428 +07:00 [DBG] Attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32' ...
2024-09-23 11:13:53.428 +07:00 [DBG] Done attempting to validate the bound parameter 'pointsofinterestId' of type 'System.Int32'.
2024-09-23 11:13:53.465 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 11:13:53.467 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 11:13:53.468 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 11:13:53.468 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:13:53.469 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:13:53.469 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 11:13:53.471 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2024-09-23 11:13:53.472 +07:00 [DBG] A data reader was disposed.
2024-09-23 11:13:53.472 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:13:53.473 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:13:53.474 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 11:13:53.474 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 11:13:53.475 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:13:53.475 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:13:53.476 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 11:13:53.477 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterests" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2024-09-23 11:13:53.478 +07:00 [DBG] A data reader was disposed.
2024-09-23 11:13:53.478 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:13:53.479 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:13:53.482 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 11:13:53.484 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 11:13:53.485 +07:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-23 11:13:53.488 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-23 11:13:53.488 +07:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-23 11:13:53.518 +07:00 [INF] Executed action CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API) in 100.0357ms
2024-09-23 11:13:53.519 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-09-23 11:13:53.520 +07:00 [DBG] Connection id "0HN6RGOD7RBAL" completed keep alive response.
2024-09-23 11:13:53.520 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 11:13:53.521 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1/pointsofinterest/1 - - - 404 161 application/problem+json;+charset=utf-8 127.6428ms
2024-09-23 11:16:39.882 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 11:16:40.023 +07:00 [DBG] Hosting starting
2024-09-23 11:16:40.195 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 11:16:40.248 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 11:16:40.257 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 11:16:40.258 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 11:16:40.259 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 11:16:40.259 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 11:16:40.260 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 11:16:40.262 +07:00 [INF] Hosting environment: Development
2024-09-23 11:16:40.263 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 11:16:40.264 +07:00 [DBG] Hosting started
2024-09-23 11:16:40.650 +07:00 [DBG] Connection id "0HN6RGQ3660FT" received FIN.
2024-09-23 11:16:40.660 +07:00 [DBG] Connection id "0HN6RGQ3660FT" accepted.
2024-09-23 11:16:40.661 +07:00 [DBG] Connection id "0HN6RGQ3660FT" started.
2024-09-23 11:16:40.680 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 11:16:40.715 +07:00 [DBG] Connection id "0HN6RGQ3660FT" stopped.
2024-09-23 11:16:40.719 +07:00 [DBG] Connection id "0HN6RGQ3660FT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 11:16:40.821 +07:00 [DBG] Connection id "0HN6RGQ3660FU" accepted.
2024-09-23 11:16:40.822 +07:00 [DBG] Connection id "0HN6RGQ3660FU" started.
2024-09-23 11:16:40.900 +07:00 [DBG] Connection 0HN6RGQ3660FU established using the following protocol: "Tls12"
2024-09-23 11:16:40.959 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 11:16:40.994 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 11:16:41.187 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 11:16:41.297 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 11:16:41.310 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 354.5025ms
2024-09-23 11:16:41.312 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 11:16:41.312 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 11:16:41.327 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 14.1902ms
2024-09-23 11:16:41.348 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 35.4634ms
2024-09-23 11:16:41.373 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 11:16:41.524 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 150.5235ms
2024-09-23 11:16:43.121 +07:00 [DBG] Connection id "0HN6RGQ3660FV" accepted.
2024-09-23 11:16:43.121 +07:00 [DBG] Connection id "0HN6RGQ3660FV" started.
2024-09-23 11:16:43.121 +07:00 [DBG] Connection id "0HN6RGQ3660FV" received FIN.
2024-09-23 11:16:43.122 +07:00 [DBG] Connection id "0HN6RGQ3660G0" accepted.
2024-09-23 11:16:43.123 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 11:16:43.123 +07:00 [DBG] Connection id "0HN6RGQ3660G0" started.
2024-09-23 11:16:43.126 +07:00 [DBG] Connection id "0HN6RGQ3660FV" stopped.
2024-09-23 11:16:43.127 +07:00 [DBG] Connection id "0HN6RGQ3660FV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 11:16:43.130 +07:00 [DBG] Connection 0HN6RGQ3660G0 established using the following protocol: "Tls12"
2024-09-23 11:16:43.139 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities - -
2024-09-23 11:16:43.141 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 11:16:43.158 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 11:16:43.163 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 11:16:43.165 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 11:16:43.168 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 11:16:43.192 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 11:16:43.194 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 11:16:43.194 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 11:16:43.195 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 11:16:43.198 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 11:16:43.198 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 11:16:43.199 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 11:16:43.305 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 11:16:43.425 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 11:16:44.066 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 11:16:44.107 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-09-23 11:16:44.328 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 11:16:44.363 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 11:16:44.408 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (42ms).
2024-09-23 11:16:44.416 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:16:44.430 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:16:44.439 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-23 11:16:44.456 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-23 11:16:44.472 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:16:44.489 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:16:44.490 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:16:44.496 +07:00 [DBG] A data reader was disposed.
2024-09-23 11:16:44.502 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:16:44.506 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:16:44.521 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 11:16:44.527 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 11:16:44.527 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 11:16:44.527 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 11:16:44.528 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 11:16:44.529 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 11:16:44.642 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1439.3751ms
2024-09-23 11:16:44.643 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 11:16:44.644 +07:00 [DBG] Connection id "0HN6RGQ3660G0" completed keep alive response.
2024-09-23 11:16:44.647 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 11:16:44.650 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities - - - 200 380 application/json;+charset=utf-8 1510.2537ms
2024-09-23 11:16:50.627 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities?id=1 - -
2024-09-23 11:16:50.627 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 11:16:50.628 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 11:16:50.628 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 11:16:50.629 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 11:16:50.630 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 11:16:50.630 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 11:16:50.631 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 11:16:50.632 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 11:16:50.632 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 11:16:50.633 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 11:16:50.634 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 11:16:50.635 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 11:16:50.642 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 11:16:50.643 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 11:16:50.647 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 11:16:50.648 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 11:16:50.648 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:16:50.649 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:16:50.649 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-23 11:16:50.650 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-23 11:16:50.656 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:16:50.657 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:16:50.659 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:16:50.661 +07:00 [DBG] A data reader was disposed.
2024-09-23 11:16:50.661 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:16:50.662 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:16:50.664 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 11:16:50.665 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 11:16:50.666 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 11:16:50.666 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 11:16:50.667 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 11:16:50.671 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 11:16:50.672 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 36.7287ms
2024-09-23 11:16:50.672 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 11:16:50.672 +07:00 [DBG] Connection id "0HN6RGQ3660G0" completed keep alive response.
2024-09-23 11:16:50.673 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 11:16:50.673 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities?id=1 - - - 200 380 application/json;+charset=utf-8 46.7370ms
2024-09-23 11:17:23.331 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities?id=1 - -
2024-09-23 11:17:23.332 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 11:17:23.333 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 11:17:23.334 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 11:17:23.336 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 11:17:23.339 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 11:17:23.340 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 11:17:23.341 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 11:17:23.343 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 11:17:23.343 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 11:17:23.345 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 11:17:23.345 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 11:17:23.346 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 11:17:23.348 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 11:17:23.385 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 11:17:23.388 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 11:17:23.388 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 11:17:23.389 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:17:23.389 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:17:23.390 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-23 11:17:23.391 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-23 11:17:23.392 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:17:23.392 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:17:23.393 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:17:23.394 +07:00 [DBG] A data reader was disposed.
2024-09-23 11:17:23.394 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:17:23.395 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:17:23.395 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 11:17:23.396 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 11:17:23.396 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 11:17:23.397 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 11:17:23.397 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 11:17:23.398 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 11:17:23.399 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 52.5638ms
2024-09-23 11:17:23.399 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 11:17:23.399 +07:00 [DBG] Connection id "0HN6RGQ3660G0" completed keep alive response.
2024-09-23 11:17:23.400 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 11:17:23.401 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities?id=1 - - - 200 380 application/json;+charset=utf-8 70.0519ms
2024-09-23 11:17:37.692 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities?name=New%20york%20City - -
2024-09-23 11:17:37.693 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 11:17:37.694 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 11:17:37.695 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 11:17:37.696 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 11:17:37.697 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 11:17:37.697 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 11:17:37.699 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 11:17:37.699 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 11:17:37.700 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 11:17:37.700 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 11:17:37.701 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 11:17:37.702 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 11:17:37.703 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 11:17:37.705 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 11:17:37.706 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 11:17:37.706 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 11:17:37.707 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:17:37.707 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:17:37.708 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-23 11:17:37.709 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-23 11:17:37.710 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:17:37.710 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:17:37.711 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:17:37.712 +07:00 [DBG] A data reader was disposed.
2024-09-23 11:17:37.712 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:17:37.714 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:17:37.715 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 11:17:37.716 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 11:17:37.716 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 11:17:37.717 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 11:17:37.717 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 11:17:37.718 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 11:17:37.719 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 17.1885ms
2024-09-23 11:17:37.720 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 11:17:37.721 +07:00 [DBG] Connection id "0HN6RGQ3660G0" completed keep alive response.
2024-09-23 11:17:37.722 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 11:17:37.722 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities?name=New%20york%20City - - - 200 380 application/json;+charset=utf-8 30.1780ms
2024-09-23 11:17:42.027 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities?name=New%20york%20City3 - -
2024-09-23 11:17:42.028 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 11:17:42.028 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 11:17:42.029 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 11:17:42.029 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 11:17:42.030 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 11:17:42.030 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 11:17:42.031 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 11:17:42.032 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 11:17:42.032 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 11:17:42.033 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 11:17:42.034 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 11:17:42.034 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 11:17:42.035 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 11:17:42.036 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 11:17:42.039 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 11:17:42.039 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 11:17:42.039 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:17:42.042 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:17:42.042 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-23 11:17:42.043 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2024-09-23 11:17:42.044 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:17:42.045 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:17:42.045 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 11:17:42.046 +07:00 [DBG] A data reader was disposed.
2024-09-23 11:17:42.046 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 11:17:42.047 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 11:17:42.047 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 11:17:42.049 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 11:17:42.049 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 11:17:42.049 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 11:17:42.050 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 11:17:42.050 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 11:17:42.051 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 16.6495ms
2024-09-23 11:17:42.051 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 11:17:42.052 +07:00 [DBG] Connection id "0HN6RGQ3660G0" completed keep alive response.
2024-09-23 11:17:42.053 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 11:17:42.054 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities?name=New%20york%20City3 - - - 200 380 application/json;+charset=utf-8 26.9396ms
2024-09-23 13:08:41.827 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 13:08:41.922 +07:00 [DBG] Hosting starting
2024-09-23 13:08:42.042 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 13:08:42.065 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 13:08:42.065 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 13:08:42.066 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 13:08:42.066 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 13:08:42.066 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 13:08:42.067 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 13:08:42.068 +07:00 [INF] Hosting environment: Development
2024-09-23 13:08:42.068 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 13:08:42.068 +07:00 [DBG] Hosting started
2024-09-23 13:08:42.570 +07:00 [DBG] Connection id "0HN6RIOMFD6CP" received FIN.
2024-09-23 13:08:42.570 +07:00 [DBG] Connection id "0HN6RIOMFD6CO" received FIN.
2024-09-23 13:08:42.580 +07:00 [DBG] Connection id "0HN6RIOMFD6CO" accepted.
2024-09-23 13:08:42.580 +07:00 [DBG] Connection id "0HN6RIOMFD6CP" accepted.
2024-09-23 13:08:42.581 +07:00 [DBG] Connection id "0HN6RIOMFD6CO" started.
2024-09-23 13:08:42.581 +07:00 [DBG] Connection id "0HN6RIOMFD6CP" started.
2024-09-23 13:08:42.594 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 13:08:42.594 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 13:08:42.623 +07:00 [DBG] Connection id "0HN6RIOMFD6CP" stopped.
2024-09-23 13:08:42.623 +07:00 [DBG] Connection id "0HN6RIOMFD6CO" stopped.
2024-09-23 13:08:42.629 +07:00 [DBG] Connection id "0HN6RIOMFD6CO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 13:08:42.629 +07:00 [DBG] Connection id "0HN6RIOMFD6CP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 13:08:42.848 +07:00 [DBG] Connection id "0HN6RIOMFD6CQ" accepted.
2024-09-23 13:08:42.849 +07:00 [DBG] Connection id "0HN6RIOMFD6CQ" started.
2024-09-23 13:08:42.917 +07:00 [DBG] Connection 0HN6RIOMFD6CQ established using the following protocol: "Tls12"
2024-09-23 13:08:42.973 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 13:08:43.020 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 13:08:43.202 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 13:08:43.310 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 13:08:43.315 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 348.2556ms
2024-09-23 13:08:43.325 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 13:08:43.330 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 4.8878ms
2024-09-23 13:08:43.355 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 13:08:43.378 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 23.2861ms
2024-09-23 13:08:43.407 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 13:08:43.545 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 138.0696ms
2024-09-23 13:08:50.190 +07:00 [DBG] Connection id "0HN6RIOMFD6CR" accepted.
2024-09-23 13:08:50.191 +07:00 [DBG] Connection id "0HN6RIOMFD6CR" received FIN.
2024-09-23 13:08:50.192 +07:00 [DBG] Connection id "0HN6RIOMFD6CR" started.
2024-09-23 13:08:50.192 +07:00 [DBG] Connection id "0HN6RIOMFD6CS" accepted.
2024-09-23 13:08:50.199 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 13:08:50.199 +07:00 [DBG] Connection id "0HN6RIOMFD6CS" started.
2024-09-23 13:08:50.203 +07:00 [DBG] Connection id "0HN6RIOMFD6CR" stopped.
2024-09-23 13:08:50.204 +07:00 [DBG] Connection id "0HN6RIOMFD6CR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 13:08:50.207 +07:00 [DBG] Connection 0HN6RIOMFD6CS established using the following protocol: "Tls12"
2024-09-23 13:08:50.217 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities?name=New%20york%20City3 - -
2024-09-23 13:08:50.218 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 13:08:50.236 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 13:08:50.241 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 13:08:50.242 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:08:50.246 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:08:50.277 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 13:08:50.280 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 13:08:50.281 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 13:08:50.281 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 13:08:50.282 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 13:08:50.283 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 13:08:50.284 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:08:50.392 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 13:08:50.506 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:08:50.520 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 13:08:50.522 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2024-09-23 13:08:50.523 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:08:50.523 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:08:50.524 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 13:08:50.526 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 13:08:51.125 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 13:08:51.169 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .OrderBy(c => c.Name)'
2024-09-23 13:08:51.404 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE c.Name == @__name_0
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 13:08:51.446 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 13:08:51.517 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (68ms).
2024-09-23 13:08:51.529 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:08:51.541 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:08:51.555 +07:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2024-09-23 13:08:51.582 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[@__name_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2024-09-23 13:08:51.599 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 13:08:51.621 +07:00 [DBG] A data reader was disposed.
2024-09-23 13:08:51.628 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:08:51.632 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:08:51.646 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 13:08:51.650 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 13:08:51.650 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 13:08:51.651 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 13:08:51.652 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 13:08:51.652 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 13:08:51.766 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1478.8312ms
2024-09-23 13:08:51.768 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:08:51.768 +07:00 [DBG] Connection id "0HN6RIOMFD6CS" completed keep alive response.
2024-09-23 13:08:51.772 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 13:08:51.774 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities?name=New%20york%20City3 - - - 200 128 application/json;+charset=utf-8 1557.5261ms
2024-09-23 13:08:55.989 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities?name=New%20york%20City2 - -
2024-09-23 13:08:55.989 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 13:08:55.990 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 13:08:55.990 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 13:08:55.991 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:08:55.991 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:08:55.992 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 13:08:55.993 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 13:08:55.993 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 13:08:55.995 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 13:08:55.997 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 13:08:55.999 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 13:08:56.000 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:08:56.005 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:08:56.006 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 13:08:56.006 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2024-09-23 13:08:56.007 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:08:56.007 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:08:56.008 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 13:08:56.008 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 13:08:56.010 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 13:08:56.054 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 13:08:56.054 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 13:08:56.055 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:08:56.056 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:08:56.056 +07:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2024-09-23 13:08:56.057 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
2024-09-23 13:08:56.058 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 13:08:56.059 +07:00 [DBG] A data reader was disposed.
2024-09-23 13:08:56.059 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:08:56.060 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:08:56.063 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 13:08:56.064 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 13:08:56.065 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 13:08:56.065 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 13:08:56.066 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 13:08:56.066 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 13:08:56.067 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 67.3096ms
2024-09-23 13:08:56.067 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:08:56.068 +07:00 [DBG] Connection id "0HN6RIOMFD6CS" completed keep alive response.
2024-09-23 13:08:56.069 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 13:08:56.070 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities?name=New%20york%20City2 - - - 200 128 application/json;+charset=utf-8 81.5131ms
2024-09-23 13:09:21.865 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 13:09:21.955 +07:00 [DBG] Hosting starting
2024-09-23 13:09:22.134 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 13:09:22.157 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 13:09:22.158 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 13:09:22.158 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 13:09:22.158 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 13:09:22.159 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 13:09:22.159 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 13:09:22.160 +07:00 [INF] Hosting environment: Development
2024-09-23 13:09:22.160 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 13:09:22.161 +07:00 [DBG] Hosting started
2024-09-23 13:09:22.572 +07:00 [DBG] Connection id "0HN6RIP2CSB8T" accepted.
2024-09-23 13:09:22.572 +07:00 [DBG] Connection id "0HN6RIP2CSB8U" accepted.
2024-09-23 13:09:22.574 +07:00 [DBG] Connection id "0HN6RIP2CSB8U" started.
2024-09-23 13:09:22.574 +07:00 [DBG] Connection id "0HN6RIP2CSB8T" started.
2024-09-23 13:09:22.584 +07:00 [DBG] Connection id "0HN6RIP2CSB8T" received FIN.
2024-09-23 13:09:22.584 +07:00 [DBG] Connection id "0HN6RIP2CSB8U" received FIN.
2024-09-23 13:09:22.603 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 13:09:22.603 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 13:09:22.639 +07:00 [DBG] Connection id "0HN6RIP2CSB8U" stopped.
2024-09-23 13:09:22.639 +07:00 [DBG] Connection id "0HN6RIP2CSB8T" stopped.
2024-09-23 13:09:22.641 +07:00 [DBG] Connection id "0HN6RIP2CSB8U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 13:09:22.641 +07:00 [DBG] Connection id "0HN6RIP2CSB8T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 13:09:22.675 +07:00 [DBG] Connection id "0HN6RIP2CSB8V" accepted.
2024-09-23 13:09:22.676 +07:00 [DBG] Connection id "0HN6RIP2CSB8V" started.
2024-09-23 13:09:22.737 +07:00 [DBG] Connection 0HN6RIP2CSB8V established using the following protocol: "Tls12"
2024-09-23 13:09:22.821 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 13:09:22.860 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 13:09:23.053 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 13:09:23.152 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 13:09:23.158 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 13:09:23.158 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 13:09:23.160 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 345.5666ms
2024-09-23 13:09:23.166 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 7.7335ms
2024-09-23 13:09:23.195 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.0698ms
2024-09-23 13:09:23.226 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 13:09:23.368 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 142.0981ms
2024-09-23 13:09:28.352 +07:00 [DBG] Connection id "0HN6RIP2CSB90" accepted.
2024-09-23 13:09:28.352 +07:00 [DBG] Connection id "0HN6RIP2CSB90" received FIN.
2024-09-23 13:09:28.354 +07:00 [DBG] Connection id "0HN6RIP2CSB90" started.
2024-09-23 13:09:28.355 +07:00 [DBG] Connection id "0HN6RIP2CSB91" accepted.
2024-09-23 13:09:28.357 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 13:09:28.357 +07:00 [DBG] Connection id "0HN6RIP2CSB91" started.
2024-09-23 13:09:28.359 +07:00 [DBG] Connection id "0HN6RIP2CSB90" stopped.
2024-09-23 13:09:28.360 +07:00 [DBG] Connection id "0HN6RIP2CSB90" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 13:09:28.365 +07:00 [DBG] Connection 0HN6RIP2CSB91 established using the following protocol: "Tls12"
2024-09-23 13:09:28.372 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities?name=New%20york%20CITY2 - -
2024-09-23 13:09:28.374 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 13:09:28.391 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 13:09:28.398 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 13:09:28.399 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:09:28.401 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:09:28.432 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 13:09:28.433 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 13:09:28.434 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 13:09:28.434 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 13:09:28.435 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 13:09:28.436 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 13:09:28.437 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:09:28.536 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 13:09:28.666 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:09:28.678 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 13:09:28.681 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2024-09-23 13:09:28.682 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:09:28.683 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:09:28.683 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 13:09:28.685 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 13:09:29.273 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 13:09:29.317 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __ToLower_0)
    .OrderBy(c => c.Name)'
2024-09-23 13:09:29.550 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE c.Name == @__ToLower_0
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 13:09:29.592 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 13:09:29.637 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (42ms).
2024-09-23 13:09:29.650 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:09:29.662 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:09:29.674 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__ToLower_0
ORDER BY "c"."Name"
2024-09-23 13:09:29.694 +07:00 [INF] Executed DbCommand (23ms) [Parameters=[@__ToLower_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__ToLower_0
ORDER BY "c"."Name"
2024-09-23 13:09:29.704 +07:00 [DBG] A data reader was disposed.
2024-09-23 13:09:29.709 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:09:29.715 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:09:29.729 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 13:09:29.734 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 13:09:29.734 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 13:09:29.735 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 13:09:29.736 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 13:09:29.737 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 13:09:29.829 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1386.5543ms
2024-09-23 13:09:29.831 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:09:29.832 +07:00 [DBG] Connection id "0HN6RIP2CSB91" completed keep alive response.
2024-09-23 13:09:29.837 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 13:09:29.840 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities?name=New%20york%20CITY2 - - - 200 2 application/json;+charset=utf-8 1467.3504ms
2024-09-23 13:09:39.660 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities?name=New%20york - -
2024-09-23 13:09:39.661 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 13:09:39.667 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 13:09:39.669 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 13:09:39.670 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:09:39.670 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:09:39.671 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 13:09:39.674 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 13:09:39.675 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 13:09:39.675 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 13:09:39.676 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 13:09:39.676 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 13:09:39.677 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:09:39.685 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:09:39.686 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 13:09:39.688 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2024-09-23 13:09:39.688 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:09:39.689 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:09:39.689 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 13:09:39.690 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 13:09:39.691 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 13:09:39.695 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 13:09:39.696 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 13:09:39.696 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:09:39.697 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:09:39.697 +07:00 [DBG] Executing DbCommand [Parameters=[@__ToLower_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__ToLower_0
ORDER BY "c"."Name"
2024-09-23 13:09:39.698 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?' (Size = 8)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__ToLower_0
ORDER BY "c"."Name"
2024-09-23 13:09:39.700 +07:00 [DBG] A data reader was disposed.
2024-09-23 13:09:39.700 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:09:39.700 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:09:39.701 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 13:09:39.704 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 13:09:39.704 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 13:09:39.705 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 13:09:39.705 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 13:09:39.706 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 13:09:39.706 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 29.2131ms
2024-09-23 13:09:39.707 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:09:39.707 +07:00 [DBG] Connection id "0HN6RIP2CSB91" completed keep alive response.
2024-09-23 13:09:39.708 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 13:09:39.708 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities?name=New%20york - - - 200 2 application/json;+charset=utf-8 48.1115ms
2024-09-23 13:26:51.491 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 13:26:51.596 +07:00 [DBG] Hosting starting
2024-09-23 13:26:51.736 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 13:26:51.759 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 13:26:51.760 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 13:26:51.761 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 13:26:51.761 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 13:26:51.762 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 13:26:51.763 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 13:26:51.764 +07:00 [INF] Hosting environment: Development
2024-09-23 13:26:51.764 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 13:26:51.765 +07:00 [DBG] Hosting started
2024-09-23 13:26:51.896 +07:00 [DBG] Connection id "0HN6RJ2R412J5" received FIN.
2024-09-23 13:26:51.896 +07:00 [DBG] Connection id "0HN6RJ2R412J6" received FIN.
2024-09-23 13:26:51.910 +07:00 [DBG] Connection id "0HN6RJ2R412J5" accepted.
2024-09-23 13:26:51.910 +07:00 [DBG] Connection id "0HN6RJ2R412J6" accepted.
2024-09-23 13:26:51.911 +07:00 [DBG] Connection id "0HN6RJ2R412J6" started.
2024-09-23 13:26:51.911 +07:00 [DBG] Connection id "0HN6RJ2R412J5" started.
2024-09-23 13:26:51.926 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 13:26:51.926 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 13:26:51.960 +07:00 [DBG] Connection id "0HN6RJ2R412J6" stopped.
2024-09-23 13:26:51.960 +07:00 [DBG] Connection id "0HN6RJ2R412J5" stopped.
2024-09-23 13:26:51.968 +07:00 [DBG] Connection id "0HN6RJ2R412J5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 13:26:51.968 +07:00 [DBG] Connection id "0HN6RJ2R412J6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 13:26:51.985 +07:00 [DBG] Connection id "0HN6RJ2R412J7" accepted.
2024-09-23 13:26:51.986 +07:00 [DBG] Connection id "0HN6RJ2R412J7" started.
2024-09-23 13:26:52.027 +07:00 [DBG] Connection 0HN6RJ2R412J7 established using the following protocol: "Tls12"
2024-09-23 13:26:52.103 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 13:26:52.139 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 13:26:52.339 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 13:26:52.457 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 13:26:52.460 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 13:26:52.460 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 13:26:52.463 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 364.3113ms
2024-09-23 13:26:52.486 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 25.4149ms
2024-09-23 13:26:52.503 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 42.6186ms
2024-09-23 13:26:52.536 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 13:26:52.691 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 155.1772ms
2024-09-23 13:26:57.025 +07:00 [DBG] Connection id "0HN6RJ2R412J8" accepted.
2024-09-23 13:26:57.026 +07:00 [DBG] Connection id "0HN6RJ2R412J8" received FIN.
2024-09-23 13:26:57.027 +07:00 [DBG] Connection id "0HN6RJ2R412J8" started.
2024-09-23 13:26:57.028 +07:00 [DBG] Connection id "0HN6RJ2R412J9" accepted.
2024-09-23 13:26:57.029 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 13:26:57.029 +07:00 [DBG] Connection id "0HN6RJ2R412J9" started.
2024-09-23 13:26:57.032 +07:00 [DBG] Connection id "0HN6RJ2R412J8" stopped.
2024-09-23 13:26:57.037 +07:00 [DBG] Connection id "0HN6RJ2R412J8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 13:26:57.040 +07:00 [DBG] Connection 0HN6RJ2R412J9 established using the following protocol: "Tls12"
2024-09-23 13:26:57.050 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities?name=Antwerp&searchQuery=the - -
2024-09-23 13:26:57.054 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 13:26:57.076 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 13:26:57.082 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 13:26:57.084 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:26:57.087 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:26:57.161 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 13:26:57.164 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 13:26:57.165 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 13:26:57.166 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 13:26:57.167 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 13:26:57.168 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 13:26:57.170 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:26:57.411 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 13:26:57.546 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:26:57.568 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 13:26:57.570 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2024-09-23 13:26:57.571 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:26:57.571 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:26:57.572 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 13:26:57.575 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 13:26:57.576 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:26:57.577 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2024-09-23 13:26:57.577 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:26:57.578 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:26:57.580 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:26:57.582 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:26:58.264 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 13:26:58.319 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .Where(c => c.Name.Contains(__searchQuery_1) || c.Description != null && c.Description.Contains(__searchQuery_1))
    .OrderBy(c => c.Name)'
2024-09-23 13:26:58.621 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE (c.Name == @__name_0) && (((@__searchQuery_1 == '') || (instr(c.Name, @__searchQuery_1) > 0)) || ((c.Description != NULL) && ((@__searchQuery_1 == '') || (instr(c.Description, @__searchQuery_1) > 0))))
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 13:26:58.695 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 13:26:58.821 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (142ms).
2024-09-23 13:26:58.833 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:26:58.851 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:26:58.864 +07:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 7), @__searchQuery_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ("c"."Name" = @__name_0) AND (((@__searchQuery_1 = '') OR (instr("c"."Name", @__searchQuery_1) > 0)) OR ("c"."Description" IS NOT NULL AND ((@__searchQuery_1 = '') OR (instr("c"."Description", @__searchQuery_1) > 0))))
ORDER BY "c"."Name"
2024-09-23 13:26:58.888 +07:00 [INF] Executed DbCommand (27ms) [Parameters=[@__name_0='?' (Size = 7), @__searchQuery_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ("c"."Name" = @__name_0) AND (((@__searchQuery_1 = '') OR (instr("c"."Name", @__searchQuery_1) > 0)) OR ("c"."Description" IS NOT NULL AND ((@__searchQuery_1 = '') OR (instr("c"."Description", @__searchQuery_1) > 0))))
ORDER BY "c"."Name"
2024-09-23 13:26:58.896 +07:00 [DBG] A data reader was disposed.
2024-09-23 13:26:58.909 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:26:58.914 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:26:58.931 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 13:26:58.936 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 13:26:58.937 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 13:26:58.938 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 13:26:58.940 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 13:26:58.941 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 13:26:59.074 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1901.3787ms
2024-09-23 13:26:59.075 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:26:59.076 +07:00 [DBG] Connection id "0HN6RJ2R412J9" completed keep alive response.
2024-09-23 13:26:59.080 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 13:26:59.085 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities?name=Antwerp&searchQuery=the - - - 200 2 application/json;+charset=utf-8 2034.9623ms
2024-09-23 13:26:59.959 +07:00 [DBG] Connection id "0HN6RJ2R412J7" received FIN.
2024-09-23 13:26:59.962 +07:00 [DBG] Connection id "0HN6RJ2R412J7" is closed. The last processed stream ID was 7.
2024-09-23 13:26:59.966 +07:00 [DBG] Connection id "0HN6RJ2R412J7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 13:26:59.986 +07:00 [DBG] Connection id "0HN6RJ2R412J7" stopped.
2024-09-23 13:27:11.447 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities/1 - -
2024-09-23 13:27:11.451 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 13:27:11.456 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2024-09-23 13:27:11.459 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2024-09-23 13:27:11.464 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-23 13:27:11.467 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-23 13:27:11.470 +07:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 13:27:11.473 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 13:27:11.473 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 13:27:11.474 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 13:27:11.475 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 13:27:11.476 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 13:27:11.477 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:27:11.484 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:27:11.484 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-23 13:27:11.485 +07:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-23 13:27:11.487 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-23 13:27:11.488 +07:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-23 13:27:11.488 +07:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-23 13:27:11.489 +07:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-23 13:27:11.489 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-23 13:27:11.490 +07:00 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name '' in request data ...
2024-09-23 13:27:11.490 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-23 13:27:11.491 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-23 13:27:11.492 +07:00 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-23 13:27:11.492 +07:00 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2024-09-23 13:27:11.493 +07:00 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2024-09-23 13:27:11.495 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 13:27:11.502 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-09-23 13:27:11.506 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 13:27:11.510 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 13:27:11.510 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 13:27:11.511 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:27:11.511 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:27:11.512 +07:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-23 13:27:11.513 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2024-09-23 13:27:11.529 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 13:27:11.573 +07:00 [DBG] A data reader was disposed.
2024-09-23 13:27:11.574 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:27:11.575 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:27:11.577 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 13:27:11.578 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 13:27:11.579 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 13:27:11.581 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 13:27:11.582 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 13:27:11.584 +07:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2024-09-23 13:27:11.601 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 124.3466ms
2024-09-23 13:27:11.602 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-09-23 13:27:11.602 +07:00 [DBG] Connection id "0HN6RJ2R412J9" completed keep alive response.
2024-09-23 13:27:11.603 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 13:27:11.603 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities/1 - - - 200 74 application/json;+charset=utf-8 156.5097ms
2024-09-23 13:27:19.594 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities?name=New%20york%20City&searchQuery=the - -
2024-09-23 13:27:19.595 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 13:27:19.595 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 13:27:19.596 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 13:27:19.597 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:27:19.597 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:27:19.598 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 13:27:19.600 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 13:27:19.602 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 13:27:19.602 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 13:27:19.603 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 13:27:19.604 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 13:27:19.605 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:27:19.607 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:27:19.608 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 13:27:19.609 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2024-09-23 13:27:19.610 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:27:19.610 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:27:19.612 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 13:27:19.612 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 13:27:19.613 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:27:19.614 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2024-09-23 13:27:19.617 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:27:19.618 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:27:19.619 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:27:19.620 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:27:19.655 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 13:27:19.658 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 13:27:19.659 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 13:27:19.659 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:27:19.660 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:27:19.660 +07:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 13), @__searchQuery_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ("c"."Name" = @__name_0) AND (((@__searchQuery_1 = '') OR (instr("c"."Name", @__searchQuery_1) > 0)) OR ("c"."Description" IS NOT NULL AND ((@__searchQuery_1 = '') OR (instr("c"."Description", @__searchQuery_1) > 0))))
ORDER BY "c"."Name"
2024-09-23 13:27:19.661 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?' (Size = 13), @__searchQuery_1='?' (Size = 3)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ("c"."Name" = @__name_0) AND (((@__searchQuery_1 = '') OR (instr("c"."Name", @__searchQuery_1) > 0)) OR ("c"."Description" IS NOT NULL AND ((@__searchQuery_1 = '') OR (instr("c"."Description", @__searchQuery_1) > 0))))
ORDER BY "c"."Name"
2024-09-23 13:27:19.663 +07:00 [DBG] A data reader was disposed.
2024-09-23 13:27:19.663 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:27:19.663 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:27:19.664 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 13:27:19.666 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 13:27:19.666 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 13:27:19.667 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 13:27:19.667 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 13:27:19.668 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 13:27:19.668 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 63.6673ms
2024-09-23 13:27:19.669 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:27:19.669 +07:00 [DBG] Connection id "0HN6RJ2R412J9" completed keep alive response.
2024-09-23 13:27:19.672 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 13:27:19.672 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities?name=New%20york%20City&searchQuery=the - - - 200 2 application/json;+charset=utf-8 78.1260ms
2024-09-23 13:27:45.027 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities?name=New%20york%20City&searchQuery=that - -
2024-09-23 13:27:45.029 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 13:27:45.029 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 13:27:45.030 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 13:27:45.034 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:27:45.036 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:27:45.037 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 13:27:45.039 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 13:27:45.040 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 13:27:45.040 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 13:27:45.041 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 13:27:45.042 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 13:27:45.043 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:27:45.044 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:27:45.045 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 13:27:45.046 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2024-09-23 13:27:45.046 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:27:45.047 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:27:45.048 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 13:27:45.054 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 13:27:45.055 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:27:45.056 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2024-09-23 13:27:45.057 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:27:45.057 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:27:45.058 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:27:45.059 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:27:45.060 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 13:27:45.061 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 13:27:45.062 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 13:27:45.062 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:27:45.063 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:27:45.066 +07:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 13), @__searchQuery_1='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ("c"."Name" = @__name_0) AND (((@__searchQuery_1 = '') OR (instr("c"."Name", @__searchQuery_1) > 0)) OR ("c"."Description" IS NOT NULL AND ((@__searchQuery_1 = '') OR (instr("c"."Description", @__searchQuery_1) > 0))))
ORDER BY "c"."Name"
2024-09-23 13:27:45.069 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__name_0='?' (Size = 13), @__searchQuery_1='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ("c"."Name" = @__name_0) AND (((@__searchQuery_1 = '') OR (instr("c"."Name", @__searchQuery_1) > 0)) OR ("c"."Description" IS NOT NULL AND ((@__searchQuery_1 = '') OR (instr("c"."Description", @__searchQuery_1) > 0))))
ORDER BY "c"."Name"
2024-09-23 13:27:45.071 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 13:27:45.073 +07:00 [DBG] A data reader was disposed.
2024-09-23 13:27:45.073 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:27:45.073 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:27:45.074 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 13:27:45.075 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 13:27:45.076 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 13:27:45.076 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 13:27:45.077 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 13:27:45.077 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 13:27:45.081 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 37.693ms
2024-09-23 13:27:45.083 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:27:45.084 +07:00 [DBG] Connection id "0HN6RJ2R412J9" completed keep alive response.
2024-09-23 13:27:45.084 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 13:27:45.085 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities?name=New%20york%20City&searchQuery=that - - - 200 126 application/json;+charset=utf-8 58.0859ms
2024-09-23 13:43:29.711 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 13:43:29.791 +07:00 [DBG] Hosting starting
2024-09-23 13:43:29.927 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 13:43:29.954 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 13:43:29.954 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 13:43:29.955 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 13:43:29.955 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 13:43:29.955 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 13:43:29.956 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 13:43:29.956 +07:00 [INF] Hosting environment: Development
2024-09-23 13:43:29.957 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 13:43:29.958 +07:00 [DBG] Hosting started
2024-09-23 13:43:30.131 +07:00 [DBG] Connection id "0HN6RJC4JTM7O" accepted.
2024-09-23 13:43:30.131 +07:00 [DBG] Connection id "0HN6RJC4JTM7N" accepted.
2024-09-23 13:43:30.139 +07:00 [DBG] Connection id "0HN6RJC4JTM7O" started.
2024-09-23 13:43:30.139 +07:00 [DBG] Connection id "0HN6RJC4JTM7N" started.
2024-09-23 13:43:30.156 +07:00 [DBG] Connection id "0HN6RJC4JTM7O" received FIN.
2024-09-23 13:43:30.156 +07:00 [DBG] Connection id "0HN6RJC4JTM7N" received FIN.
2024-09-23 13:43:30.189 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 13:43:30.189 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 13:43:30.246 +07:00 [DBG] Connection id "0HN6RJC4JTM7N" stopped.
2024-09-23 13:43:30.246 +07:00 [DBG] Connection id "0HN6RJC4JTM7O" stopped.
2024-09-23 13:43:30.252 +07:00 [DBG] Connection id "0HN6RJC4JTM7N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 13:43:30.253 +07:00 [DBG] Connection id "0HN6RJC4JTM7O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 13:43:30.287 +07:00 [DBG] Connection id "0HN6RJC4JTM7P" accepted.
2024-09-23 13:43:30.295 +07:00 [DBG] Connection id "0HN6RJC4JTM7P" started.
2024-09-23 13:43:30.405 +07:00 [DBG] Connection 0HN6RJC4JTM7P established using the following protocol: "Tls12"
2024-09-23 13:43:30.463 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 13:43:30.505 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 13:43:30.710 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 13:43:30.824 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 13:43:30.829 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 370.2491ms
2024-09-23 13:43:30.832 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 13:43:30.832 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 13:43:30.856 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 23.9619ms
2024-09-23 13:43:30.876 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 44.1286ms
2024-09-23 13:43:30.904 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 13:43:31.060 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 156.3885ms
2024-09-23 13:43:31.572 +07:00 [DBG] Connection id "0HN6RJC4JTM7P" received FIN.
2024-09-23 13:43:31.596 +07:00 [DBG] Connection id "0HN6RJC4JTM7P" is closed. The last processed stream ID was 7.
2024-09-23 13:43:31.601 +07:00 [DBG] Connection id "0HN6RJC4JTM7P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 13:43:31.617 +07:00 [DBG] Connection id "0HN6RJC4JTM7P" stopped.
2024-09-23 13:43:35.677 +07:00 [DBG] Connection id "0HN6RJC4JTM7Q" accepted.
2024-09-23 13:43:35.677 +07:00 [DBG] Connection id "0HN6RJC4JTM7Q" received FIN.
2024-09-23 13:43:35.678 +07:00 [DBG] Connection id "0HN6RJC4JTM7Q" started.
2024-09-23 13:43:35.679 +07:00 [DBG] Connection id "0HN6RJC4JTM7R" accepted.
2024-09-23 13:43:35.681 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 13:43:35.681 +07:00 [DBG] Connection id "0HN6RJC4JTM7R" started.
2024-09-23 13:43:35.686 +07:00 [DBG] Connection id "0HN6RJC4JTM7Q" stopped.
2024-09-23 13:43:35.687 +07:00 [DBG] Connection id "0HN6RJC4JTM7Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 13:43:35.690 +07:00 [DBG] Connection 0HN6RJC4JTM7R established using the following protocol: "Tls12"
2024-09-23 13:43:35.697 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=1&pageNumber=2 - -
2024-09-23 13:43:35.699 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 13:43:35.718 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 13:43:35.722 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 13:43:35.723 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:43:35.725 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:43:35.757 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 13:43:35.759 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 13:43:35.759 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 13:43:35.760 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 13:43:35.761 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 13:43:35.762 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 13:43:35.763 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:43:35.867 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 13:43:35.988 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:43:35.998 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 13:43:36.002 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-09-23 13:43:36.003 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-09-23 13:43:36.004 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:43:36.004 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:43:36.005 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 13:43:36.006 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 13:43:36.008 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:43:36.008 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-09-23 13:43:36.009 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:43:36.009 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:43:36.010 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:43:36.010 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:43:36.012 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:43:36.013 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 13:43:36.013 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-09-23 13:43:36.014 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:43:36.015 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:43:36.015 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 13:43:36.018 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:43:36.018 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 13:43:36.019 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-23 13:43:36.019 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:43:36.020 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:43:36.020 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 13:43:36.021 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:43:36.608 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 13:43:36.654 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_0)'
2024-09-23 13:43:36.870 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 13:43:36.904 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 13:43:36.943 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (39ms).
2024-09-23 13:43:36.954 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:43:36.966 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:43:36.978 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2024-09-23 13:43:37.041 +07:00 [INF] Executed DbCommand (66ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2024-09-23 13:43:37.058 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 13:43:37.081 +07:00 [DBG] A data reader was disposed.
2024-09-23 13:43:37.089 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:43:37.093 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:43:37.108 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 13:43:37.112 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 13:43:37.113 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 13:43:37.113 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 13:43:37.114 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 13:43:37.115 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 13:43:37.219 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1451.9764ms
2024-09-23 13:43:37.221 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:43:37.222 +07:00 [DBG] Connection id "0HN6RJC4JTM7R" completed keep alive response.
2024-09-23 13:43:37.226 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 13:43:37.228 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=1&pageNumber=2 - - - 200 128 application/json;+charset=utf-8 1530.8100ms
2024-09-23 13:43:52.447 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities - -
2024-09-23 13:43:52.447 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 13:43:52.448 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 13:43:52.449 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 13:43:52.450 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:43:52.453 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:43:52.456 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 13:43:52.463 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 13:43:52.464 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 13:43:52.465 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 13:43:52.467 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 13:43:52.469 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 13:43:52.471 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:43:52.478 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:43:52.479 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 13:43:52.480 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-09-23 13:43:52.481 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-09-23 13:43:52.482 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:43:52.483 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:43:52.484 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 13:43:52.485 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 13:43:52.486 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:43:52.486 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-09-23 13:43:52.488 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:43:52.489 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:43:52.490 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:43:52.490 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:43:52.491 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:43:52.491 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 13:43:52.492 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2024-09-23 13:43:52.492 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:43:52.493 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:43:52.494 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:43:52.494 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 13:43:52.495 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:43:52.495 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 13:43:52.496 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2024-09-23 13:43:52.496 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:43:52.497 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:43:52.497 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:43:52.498 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 13:43:52.498 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:43:52.506 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 13:43:52.507 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2024-09-23 13:43:52.510 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 13:43:52.511 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 13:43:52.512 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 13:43:52.512 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:43:52.513 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:43:52.513 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 13:43:52.515 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 13:43:52.517 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 13:43:52.520 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 13:43:52.521 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 13:43:52.522 +07:00 [DBG] A data reader was disposed.
2024-09-23 13:43:52.522 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:43:52.522 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:43:52.523 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 13:43:52.524 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 13:43:52.525 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 13:43:52.525 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 13:43:52.526 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 13:43:52.526 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 13:43:52.527 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 56.5032ms
2024-09-23 13:43:52.527 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:43:52.528 +07:00 [DBG] Connection id "0HN6RJC4JTM7R" completed keep alive response.
2024-09-23 13:43:52.528 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 13:43:52.529 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities - - - 200 380 application/json;+charset=utf-8 82.1642ms
2024-09-23 13:44:01.856 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=1&pageNumber=1 - -
2024-09-23 13:44:01.857 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 13:44:01.858 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 13:44:01.859 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 13:44:01.861 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:44:01.862 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:44:01.863 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 13:44:01.865 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 13:44:01.866 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 13:44:01.867 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 13:44:01.872 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 13:44:01.872 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 13:44:01.873 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:44:01.875 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:44:01.875 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 13:44:01.876 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-09-23 13:44:01.876 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-09-23 13:44:01.877 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:44:01.877 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:44:01.878 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 13:44:01.878 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 13:44:01.879 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:44:01.881 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-09-23 13:44:01.882 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:44:01.883 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:44:01.883 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:44:01.884 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:44:01.886 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:44:01.886 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 13:44:01.887 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-09-23 13:44:01.888 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:44:01.888 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:44:01.889 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 13:44:01.889 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:44:01.890 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 13:44:01.890 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-23 13:44:01.891 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:44:01.891 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:44:01.892 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 13:44:01.892 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:44:01.929 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 13:44:01.932 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 13:44:01.933 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 13:44:01.933 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:44:01.934 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:44:01.935 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 13:44:01.936 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 13:44:01.937 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 13:44:01.938 +07:00 [DBG] A data reader was disposed.
2024-09-23 13:44:01.938 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:44:01.939 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:44:01.939 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 13:44:01.940 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 13:44:01.941 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 13:44:01.941 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 13:44:01.942 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 13:44:01.946 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 13:44:01.947 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 73.7973ms
2024-09-23 13:44:01.948 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:44:01.948 +07:00 [DBG] Connection id "0HN6RJC4JTM7R" completed keep alive response.
2024-09-23 13:44:01.949 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 13:44:01.951 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=1&pageNumber=1 - - - 200 126 application/json;+charset=utf-8 94.7623ms
2024-09-23 13:44:05.291 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=1&pageNumber=3 - -
2024-09-23 13:44:05.292 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 13:44:05.293 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 13:44:05.293 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 13:44:05.294 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:44:05.295 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:44:05.295 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 13:44:05.296 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 13:44:05.297 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 13:44:05.297 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 13:44:05.298 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 13:44:05.299 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 13:44:05.301 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:44:05.302 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:44:05.304 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 13:44:05.304 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-09-23 13:44:05.305 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-09-23 13:44:05.305 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:44:05.306 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:44:05.306 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 13:44:05.306 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 13:44:05.307 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:44:05.307 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-09-23 13:44:05.308 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:44:05.309 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:44:05.309 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:44:05.310 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:44:05.310 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:44:05.311 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 13:44:05.311 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-09-23 13:44:05.312 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:44:05.312 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:44:05.313 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 13:44:05.313 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:44:05.314 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 13:44:05.316 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-23 13:44:05.318 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:44:05.318 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:44:05.319 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 13:44:05.320 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:44:05.321 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 13:44:05.322 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 13:44:05.322 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 13:44:05.323 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:44:05.323 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:44:05.323 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 13:44:05.324 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 13:44:05.326 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 13:44:05.326 +07:00 [DBG] A data reader was disposed.
2024-09-23 13:44:05.326 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:44:05.327 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:44:05.327 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 13:44:05.329 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 13:44:05.329 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 13:44:05.329 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 13:44:05.330 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 13:44:05.332 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 13:44:05.333 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 32.6883ms
2024-09-23 13:44:05.334 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:44:05.335 +07:00 [DBG] Connection id "0HN6RJC4JTM7R" completed keep alive response.
2024-09-23 13:44:05.335 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 13:44:05.336 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=1&pageNumber=3 - - - 200 128 application/json;+charset=utf-8 44.7266ms
2024-09-23 13:44:14.489 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=2&pageNumber=3 - -
2024-09-23 13:44:14.490 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 13:44:14.491 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 13:44:14.492 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 13:44:14.493 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:44:14.493 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:44:14.494 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 13:44:14.495 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 13:44:14.496 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 13:44:14.496 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 13:44:14.497 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 13:44:14.498 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 13:44:14.498 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:44:14.502 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:44:14.504 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 13:44:14.504 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-09-23 13:44:14.505 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-09-23 13:44:14.506 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:44:14.506 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:44:14.507 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 13:44:14.507 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 13:44:14.508 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:44:14.508 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-09-23 13:44:14.509 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:44:14.510 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:44:14.510 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:44:14.511 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:44:14.511 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:44:14.512 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 13:44:14.512 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-09-23 13:44:14.513 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:44:14.513 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:44:14.515 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 13:44:14.516 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:44:14.517 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 13:44:14.518 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-23 13:44:14.519 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:44:14.520 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:44:14.520 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 13:44:14.521 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:44:14.521 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 13:44:14.522 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 13:44:14.523 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 13:44:14.523 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:44:14.524 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:44:14.524 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 13:44:14.525 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 13:44:14.526 +07:00 [DBG] A data reader was disposed.
2024-09-23 13:44:14.527 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:44:14.527 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:44:14.528 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 13:44:14.529 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 13:44:14.529 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 13:44:14.530 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 13:44:14.531 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 13:44:14.532 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 13:44:14.533 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 34.9326ms
2024-09-23 13:44:14.534 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:44:14.534 +07:00 [DBG] Connection id "0HN6RJC4JTM7R" completed keep alive response.
2024-09-23 13:44:14.535 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 13:44:14.535 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=2&pageNumber=3 - - - 200 2 application/json;+charset=utf-8 46.1531ms
2024-09-23 13:44:19.105 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=2&pageNumber=1 - -
2024-09-23 13:44:19.106 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 13:44:19.106 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 13:44:19.107 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 13:44:19.107 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:44:19.108 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:44:19.109 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 13:44:19.110 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 13:44:19.110 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 13:44:19.111 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 13:44:19.113 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 13:44:19.113 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 13:44:19.114 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:44:19.115 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:44:19.116 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 13:44:19.116 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-09-23 13:44:19.117 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-09-23 13:44:19.120 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:44:19.120 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:44:19.121 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 13:44:19.121 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 13:44:19.122 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:44:19.122 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-09-23 13:44:19.123 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:44:19.123 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:44:19.124 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:44:19.124 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:44:19.125 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:44:19.125 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 13:44:19.126 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-09-23 13:44:19.126 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:44:19.127 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:44:19.127 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 13:44:19.128 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:44:19.128 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 13:44:19.128 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-23 13:44:19.129 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:44:19.130 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:44:19.130 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 13:44:19.131 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:44:19.131 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 13:44:19.132 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 13:44:19.132 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 13:44:19.137 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:44:19.137 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:44:19.138 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 13:44:19.139 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 13:44:19.140 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 13:44:19.140 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 13:44:19.141 +07:00 [DBG] A data reader was disposed.
2024-09-23 13:44:19.141 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:44:19.142 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:44:19.142 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 13:44:19.143 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 13:44:19.144 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 13:44:19.144 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 13:44:19.145 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 13:44:19.145 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 13:44:19.146 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 31.6341ms
2024-09-23 13:44:19.146 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:44:19.147 +07:00 [DBG] Connection id "0HN6RJC4JTM7R" completed keep alive response.
2024-09-23 13:44:19.147 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 13:44:19.148 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=2&pageNumber=1 - - - 200 253 application/json;+charset=utf-8 42.5504ms
2024-09-23 13:44:23.324 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=2&pageNumber=2 - -
2024-09-23 13:44:23.325 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 13:44:23.326 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 13:44:23.327 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 13:44:23.328 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:44:23.329 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:44:23.329 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 13:44:23.331 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 13:44:23.339 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 13:44:23.340 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 13:44:23.341 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 13:44:23.343 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 13:44:23.344 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:44:23.345 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:44:23.347 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 13:44:23.348 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-09-23 13:44:23.350 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-09-23 13:44:23.354 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:44:23.355 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:44:23.357 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 13:44:23.358 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 13:44:23.358 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:44:23.359 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-09-23 13:44:23.359 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:44:23.360 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:44:23.361 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:44:23.361 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:44:23.362 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:44:23.362 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 13:44:23.362 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-09-23 13:44:23.363 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:44:23.364 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:44:23.364 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 13:44:23.365 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:44:23.365 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 13:44:23.368 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-23 13:44:23.369 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:44:23.370 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:44:23.370 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 13:44:23.371 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:44:23.371 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 13:44:23.372 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 13:44:23.373 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 13:44:23.373 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:44:23.374 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:44:23.374 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2024-09-23 13:44:23.375 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2024-09-23 13:44:23.376 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 13:44:23.377 +07:00 [DBG] A data reader was disposed.
2024-09-23 13:44:23.377 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:44:23.378 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:44:23.378 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 13:44:23.379 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 13:44:23.380 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 13:44:23.380 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 13:44:23.381 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 13:44:23.384 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 13:44:23.386 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 41.6003ms
2024-09-23 13:44:23.386 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:44:23.387 +07:00 [DBG] Connection id "0HN6RJC4JTM7R" completed keep alive response.
2024-09-23 13:44:23.387 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 13:44:23.388 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=2&pageNumber=2 - - - 200 128 application/json;+charset=utf-8 63.4018ms
2024-09-23 13:48:38.864 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 13:48:38.966 +07:00 [DBG] Hosting starting
2024-09-23 13:48:39.069 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 13:48:39.102 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 13:48:39.103 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 13:48:39.103 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 13:48:39.104 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 13:48:39.106 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 13:48:39.109 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 13:48:39.110 +07:00 [INF] Hosting environment: Development
2024-09-23 13:48:39.110 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 13:48:39.111 +07:00 [DBG] Hosting started
2024-09-23 13:48:39.264 +07:00 [DBG] Connection id "0HN6RJF0O1ST2" received FIN.
2024-09-23 13:48:39.264 +07:00 [DBG] Connection id "0HN6RJF0O1ST3" received FIN.
2024-09-23 13:48:39.280 +07:00 [DBG] Connection id "0HN6RJF0O1ST2" accepted.
2024-09-23 13:48:39.280 +07:00 [DBG] Connection id "0HN6RJF0O1ST3" accepted.
2024-09-23 13:48:39.281 +07:00 [DBG] Connection id "0HN6RJF0O1ST3" started.
2024-09-23 13:48:39.281 +07:00 [DBG] Connection id "0HN6RJF0O1ST2" started.
2024-09-23 13:48:39.301 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 13:48:39.301 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 13:48:39.364 +07:00 [DBG] Connection id "0HN6RJF0O1ST2" stopped.
2024-09-23 13:48:39.364 +07:00 [DBG] Connection id "0HN6RJF0O1ST3" stopped.
2024-09-23 13:48:39.369 +07:00 [DBG] Connection id "0HN6RJF0O1ST3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 13:48:39.369 +07:00 [DBG] Connection id "0HN6RJF0O1ST2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 13:48:39.402 +07:00 [DBG] Connection id "0HN6RJF0O1ST4" accepted.
2024-09-23 13:48:39.406 +07:00 [DBG] Connection id "0HN6RJF0O1ST4" started.
2024-09-23 13:48:39.498 +07:00 [DBG] Connection 0HN6RJF0O1ST4 established using the following protocol: "Tls12"
2024-09-23 13:48:39.582 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 13:48:39.642 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 13:48:39.838 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 13:48:39.993 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 13:48:40.029 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 13:48:40.029 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 13:48:40.033 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 457.9941ms
2024-09-23 13:48:40.048 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 19.0279ms
2024-09-23 13:48:40.070 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 41.0428ms
2024-09-23 13:48:40.099 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 13:48:40.242 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 143.1833ms
2024-09-23 13:48:42.053 +07:00 [DBG] Connection id "0HN6RJF0O1ST4" received FIN.
2024-09-23 13:48:42.065 +07:00 [DBG] Connection id "0HN6RJF0O1ST4" is closed. The last processed stream ID was 7.
2024-09-23 13:48:42.066 +07:00 [DBG] Connection id "0HN6RJF0O1ST4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 13:48:42.084 +07:00 [DBG] Connection id "0HN6RJF0O1ST4" stopped.
2024-09-23 13:48:43.697 +07:00 [DBG] Connection id "0HN6RJF0O1ST5" accepted.
2024-09-23 13:48:43.698 +07:00 [DBG] Connection id "0HN6RJF0O1ST5" received FIN.
2024-09-23 13:48:43.700 +07:00 [DBG] Connection id "0HN6RJF0O1ST5" started.
2024-09-23 13:48:43.701 +07:00 [DBG] Connection id "0HN6RJF0O1ST6" accepted.
2024-09-23 13:48:43.707 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 13:48:43.709 +07:00 [DBG] Connection id "0HN6RJF0O1ST6" started.
2024-09-23 13:48:43.716 +07:00 [DBG] Connection id "0HN6RJF0O1ST5" stopped.
2024-09-23 13:48:43.719 +07:00 [DBG] Connection id "0HN6RJF0O1ST5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 13:48:43.729 +07:00 [DBG] Connection 0HN6RJF0O1ST6 established using the following protocol: "Tls12"
2024-09-23 13:48:43.737 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=2&pageNumber=2 - -
2024-09-23 13:48:43.740 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 13:48:43.757 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 13:48:43.761 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 13:48:43.762 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:48:43.764 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:48:43.795 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 13:48:43.797 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 13:48:43.798 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 13:48:43.798 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 13:48:43.799 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 13:48:43.800 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 13:48:43.801 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:48:43.903 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 13:48:44.017 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:48:44.029 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 13:48:44.030 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-09-23 13:48:44.032 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-09-23 13:48:44.033 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:48:44.033 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:48:44.034 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 13:48:44.035 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 13:48:44.037 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:48:44.037 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-09-23 13:48:44.038 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:48:44.039 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:48:44.039 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:48:44.040 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:48:44.040 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:48:44.041 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 13:48:44.041 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-09-23 13:48:44.042 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:48:44.043 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:48:44.043 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 13:48:44.044 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:48:44.045 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 13:48:44.045 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-23 13:48:44.046 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:48:44.046 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:48:44.049 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 13:48:44.049 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:49:06.001 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 13:49:06.048 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_0)'
2024-09-23 13:49:06.283 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 13:49:06.336 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 13:49:06.388 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (52ms).
2024-09-23 13:49:06.403 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:49:06.418 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:49:06.434 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2024-09-23 13:49:06.460 +07:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2024-09-23 13:49:06.478 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 13:49:06.501 +07:00 [DBG] A data reader was disposed.
2024-09-23 13:49:06.507 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:49:06.512 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:54:46.732 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 13:54:46.834 +07:00 [DBG] Hosting starting
2024-09-23 13:54:46.942 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 13:54:46.967 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 13:54:46.968 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 13:54:46.968 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 13:54:46.969 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 13:54:46.969 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 13:54:46.970 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 13:54:46.971 +07:00 [INF] Hosting environment: Development
2024-09-23 13:54:46.971 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 13:54:46.972 +07:00 [DBG] Hosting started
2024-09-23 13:54:47.370 +07:00 [DBG] Connection id "0HN6RJIEEIVNS" received FIN.
2024-09-23 13:54:47.370 +07:00 [DBG] Connection id "0HN6RJIEEIVNT" received FIN.
2024-09-23 13:54:47.374 +07:00 [DBG] Connection id "0HN6RJIEEIVNS" accepted.
2024-09-23 13:54:47.374 +07:00 [DBG] Connection id "0HN6RJIEEIVNT" accepted.
2024-09-23 13:54:47.375 +07:00 [DBG] Connection id "0HN6RJIEEIVNT" started.
2024-09-23 13:54:47.375 +07:00 [DBG] Connection id "0HN6RJIEEIVNS" started.
2024-09-23 13:54:47.397 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 13:54:47.397 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 13:54:47.443 +07:00 [DBG] Connection id "0HN6RJIEEIVNS" stopped.
2024-09-23 13:54:47.443 +07:00 [DBG] Connection id "0HN6RJIEEIVNT" stopped.
2024-09-23 13:54:47.447 +07:00 [DBG] Connection id "0HN6RJIEEIVNS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 13:54:47.447 +07:00 [DBG] Connection id "0HN6RJIEEIVNT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 13:54:47.460 +07:00 [DBG] Connection id "0HN6RJIEEIVNU" accepted.
2024-09-23 13:54:47.470 +07:00 [DBG] Connection id "0HN6RJIEEIVNU" started.
2024-09-23 13:54:47.529 +07:00 [DBG] Connection 0HN6RJIEEIVNU established using the following protocol: "Tls12"
2024-09-23 13:54:47.588 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 13:54:47.626 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 13:54:47.815 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 13:54:47.923 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 13:54:47.924 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 13:54:47.924 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 13:54:47.938 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 14.2191ms
2024-09-23 13:54:47.938 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 347.4791ms
2024-09-23 13:54:47.954 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.1276ms
2024-09-23 13:54:47.986 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 13:54:48.142 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 155.7170ms
2024-09-23 13:54:54.213 +07:00 [DBG] Connection id "0HN6RJIEEIVNV" accepted.
2024-09-23 13:54:54.214 +07:00 [DBG] Connection id "0HN6RJIEEIVNV" received FIN.
2024-09-23 13:54:54.216 +07:00 [DBG] Connection id "0HN6RJIEEIVNV" started.
2024-09-23 13:54:54.217 +07:00 [DBG] Connection id "0HN6RJIEEIVO0" accepted.
2024-09-23 13:54:54.220 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 13:54:54.221 +07:00 [DBG] Connection id "0HN6RJIEEIVO0" started.
2024-09-23 13:54:54.225 +07:00 [DBG] Connection id "0HN6RJIEEIVNV" stopped.
2024-09-23 13:54:54.226 +07:00 [DBG] Connection id "0HN6RJIEEIVNV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 13:54:54.232 +07:00 [DBG] Connection 0HN6RJIEEIVO0 established using the following protocol: "Tls12"
2024-09-23 13:54:54.240 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=1&pageNumber=1 - -
2024-09-23 13:54:54.242 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 13:54:54.258 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 13:54:54.263 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 13:54:54.264 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:54:54.266 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:54:54.296 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 13:54:54.298 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 13:54:54.299 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 13:54:54.300 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 13:54:54.301 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 13:54:54.301 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 13:54:54.302 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:54:54.406 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 13:54:54.521 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:54:54.533 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 13:54:54.536 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-09-23 13:54:54.537 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-09-23 13:54:54.537 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:54:54.538 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:54:54.538 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 13:54:54.539 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 13:54:54.541 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:54:54.541 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-09-23 13:54:54.542 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:54:54.542 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:54:54.543 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:54:54.543 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:54:54.544 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:54:54.545 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 13:54:54.546 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-09-23 13:54:54.549 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:54:54.551 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:54:54.552 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 13:54:54.554 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:54:54.555 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 13:54:54.556 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-23 13:54:54.558 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:54:54.558 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:54:54.559 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 13:54:54.560 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:54:55.163 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 13:54:55.207 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Take(__p_0)'
2024-09-23 13:54:55.427 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT TOP(@__p_0) c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 13:54:55.464 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 13:54:55.512 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (44ms).
2024-09-23 13:54:55.523 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:54:55.536 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:54:55.549 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0
2024-09-23 13:54:55.570 +07:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0
2024-09-23 13:54:55.590 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 13:54:55.614 +07:00 [DBG] A data reader was disposed.
2024-09-23 13:54:55.620 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:54:55.624 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:54:55.639 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 13:54:55.643 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 13:54:55.643 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 13:54:55.644 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 13:54:55.646 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 13:54:55.648 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 13:54:55.756 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1450.4506ms
2024-09-23 13:54:55.758 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:54:55.758 +07:00 [DBG] Connection id "0HN6RJIEEIVO0" completed keep alive response.
2024-09-23 13:54:55.762 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 13:54:55.765 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=1&pageNumber=1 - - - 200 126 application/json;+charset=utf-8 1524.9144ms
2024-09-23 13:54:57.731 +07:00 [DBG] Connection id "0HN6RJIEEIVNU" received FIN.
2024-09-23 13:54:57.735 +07:00 [DBG] Connection id "0HN6RJIEEIVNU" is closed. The last processed stream ID was 7.
2024-09-23 13:54:57.738 +07:00 [DBG] Connection id "0HN6RJIEEIVNU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 13:54:57.747 +07:00 [DBG] Connection id "0HN6RJIEEIVNU" stopped.
2024-09-23 13:55:02.446 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=1&pageNumber=2 - -
2024-09-23 13:55:02.449 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 13:55:02.453 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 13:55:02.457 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 13:55:02.460 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:55:02.460 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:55:02.463 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 13:55:02.469 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 13:55:02.470 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 13:55:02.470 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 13:55:02.471 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 13:55:02.472 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 13:55:02.472 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:55:02.478 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 13:55:02.479 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 13:55:02.480 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-09-23 13:55:02.480 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-09-23 13:55:02.484 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:55:02.485 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 13:55:02.485 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 13:55:02.486 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 13:55:02.486 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:55:02.487 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-09-23 13:55:02.487 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:55:02.488 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:55:02.488 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:55:02.489 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 13:55:02.489 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 13:55:02.490 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 13:55:02.490 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-09-23 13:55:02.491 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:55:02.492 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:55:02.492 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 13:55:02.493 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 13:55:02.493 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 13:55:02.494 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-23 13:55:02.494 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:55:02.495 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:55:02.496 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 13:55:02.496 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-23 13:55:02.500 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 13:55:02.505 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 13:55:02.506 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 13:55:02.506 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:55:02.507 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:55:02.507 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0
2024-09-23 13:55:02.508 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0
2024-09-23 13:55:02.509 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 13:55:02.510 +07:00 [DBG] A data reader was disposed.
2024-09-23 13:55:02.510 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 13:55:02.511 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 13:55:02.512 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 13:55:02.515 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 13:55:02.515 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 13:55:02.516 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 13:55:02.516 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 13:55:02.517 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 13:55:02.518 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 45.4377ms
2024-09-23 13:55:02.518 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 13:55:02.519 +07:00 [DBG] Connection id "0HN6RJIEEIVO0" completed keep alive response.
2024-09-23 13:55:02.519 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 13:55:02.520 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=1&pageNumber=2 - - - 200 126 application/json;+charset=utf-8 73.8522ms
2024-09-23 14:39:50.696 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 14:39:50.796 +07:00 [DBG] Hosting starting
2024-09-23 14:39:50.923 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 14:39:50.951 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 14:39:50.952 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 14:39:50.952 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 14:39:50.952 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 14:39:50.953 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 14:39:50.953 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 14:39:50.954 +07:00 [INF] Hosting environment: Development
2024-09-23 14:39:50.954 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 14:39:50.955 +07:00 [DBG] Hosting started
2024-09-23 14:39:51.002 +07:00 [DBG] Connection id "0HN6RKBK6DIUE" accepted.
2024-09-23 14:39:51.002 +07:00 [DBG] Connection id "0HN6RKBK6DIUF" accepted.
2024-09-23 14:39:51.004 +07:00 [DBG] Connection id "0HN6RKBK6DIUE" started.
2024-09-23 14:39:51.004 +07:00 [DBG] Connection id "0HN6RKBK6DIUF" started.
2024-09-23 14:39:51.022 +07:00 [DBG] Connection id "0HN6RKBK6DIUE" received FIN.
2024-09-23 14:39:51.022 +07:00 [DBG] Connection id "0HN6RKBK6DIUF" received FIN.
2024-09-23 14:39:51.043 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 14:39:51.044 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 14:39:51.101 +07:00 [DBG] Connection id "0HN6RKBK6DIUE" stopped.
2024-09-23 14:39:51.101 +07:00 [DBG] Connection id "0HN6RKBK6DIUF" stopped.
2024-09-23 14:39:51.106 +07:00 [DBG] Connection id "0HN6RKBK6DIUE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 14:39:51.106 +07:00 [DBG] Connection id "0HN6RKBK6DIUF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 14:39:51.164 +07:00 [DBG] Connection id "0HN6RKBK6DIUG" accepted.
2024-09-23 14:39:51.166 +07:00 [DBG] Connection id "0HN6RKBK6DIUG" started.
2024-09-23 14:39:51.296 +07:00 [DBG] Connection 0HN6RKBK6DIUG established using the following protocol: "Tls12"
2024-09-23 14:39:51.400 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 14:39:51.443 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 14:39:51.638 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 14:39:51.759 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 14:39:51.766 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 374.0781ms
2024-09-23 14:39:51.768 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 14:39:51.768 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 14:39:51.788 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 19.3817ms
2024-09-23 14:39:51.807 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 38.4763ms
2024-09-23 14:39:51.849 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 14:39:52.010 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 160.6563ms
2024-09-23 14:40:27.666 +07:00 [DBG] Connection id "0HN6RKBK6DIUH" accepted.
2024-09-23 14:40:27.669 +07:00 [DBG] Connection id "0HN6RKBK6DIUH" received FIN.
2024-09-23 14:40:27.669 +07:00 [DBG] Connection id "0HN6RKBK6DIUH" started.
2024-09-23 14:40:27.670 +07:00 [DBG] Connection id "0HN6RKBK6DIUI" accepted.
2024-09-23 14:40:27.672 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 14:40:27.672 +07:00 [DBG] Connection id "0HN6RKBK6DIUI" started.
2024-09-23 14:40:27.675 +07:00 [DBG] Connection id "0HN6RKBK6DIUH" stopped.
2024-09-23 14:40:27.680 +07:00 [DBG] Connection id "0HN6RKBK6DIUH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 14:40:27.686 +07:00 [DBG] Connection 0HN6RKBK6DIUI established using the following protocol: "Tls12"
2024-09-23 14:40:27.697 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=1&pageNumber=2 - -
2024-09-23 14:40:27.699 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 14:40:27.723 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 14:40:27.731 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 14:40:27.733 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 14:40:27.736 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 14:40:27.807 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 14:40:27.809 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 14:40:27.810 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 14:40:27.810 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 14:40:27.811 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 14:40:27.812 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 14:40:27.814 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 14:40:28.089 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 14:40:28.221 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 14:40:28.243 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 14:40:28.245 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-09-23 14:40:28.246 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-09-23 14:40:28.247 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 14:40:28.247 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 14:40:28.248 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 14:40:28.250 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 14:40:28.252 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 14:40:28.253 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-09-23 14:40:28.253 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-09-23 14:40:28.254 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 14:40:28.255 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 14:40:28.255 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 14:40:28.256 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 14:40:28.256 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 14:40:28.257 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-09-23 14:40:28.260 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 14:40:28.261 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 14:40:28.261 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 14:40:28.263 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 14:40:28.263 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 14:40:28.264 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-23 14:40:28.264 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 14:40:28.265 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 14:40:28.265 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 14:40:28.266 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-23 14:40:28.975 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 14:40:29.008 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2024-09-23 14:40:29.185 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 14:40:29.224 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 14:40:29.341 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (114ms).
2024-09-23 14:40:29.351 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 14:40:29.370 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 14:40:29.381 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-09-23 14:40:29.400 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-09-23 14:40:29.411 +07:00 [DBG] A data reader was disposed.
2024-09-23 14:40:29.427 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 14:40:29.433 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 14:40:29.444 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_0)'
2024-09-23 14:40:29.500 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 14:40:29.509 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 14:40:29.509 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 14:40:29.512 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 14:40:29.512 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 14:40:29.517 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2024-09-23 14:40:29.522 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2024-09-23 14:40:29.536 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 14:40:29.568 +07:00 [DBG] A data reader was disposed.
2024-09-23 14:40:29.569 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 14:40:29.569 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 14:40:29.682 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1865.5633ms
2024-09-23 14:40:29.684 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 14:40:29.685 +07:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
ValueTuple`2 -> IEnumerable`1
System.ValueTuple`2[[System.Collections.Generic.IEnumerable`1[[CityInfo.API.Entities.City, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=6.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[CityInfo.API.Models.Services.PaginationMetadata, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IEnumerable`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method59(Closure , Object , IEnumerable`1 , ResolutionContext )
   at CityInfo.API.Controllers.CitiesController.GetCities(String name, String searchQuery, Int32 pageNumber, Int32 pageSize) in D:\C#-Project\CityInfo\CityInfo.API\Controllers\CitiesController.cs:line 29
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2024-09-23 14:40:29.739 +07:00 [DBG] Connection id "0HN6RKBK6DIUI" completed keep alive response.
2024-09-23 14:40:29.744 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 14:40:29.747 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=1&pageNumber=2 - - - 500 - text/plain;+charset=utf-8 2050.0616ms
2024-09-23 14:43:25.065 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 14:43:25.195 +07:00 [DBG] Hosting starting
2024-09-23 14:43:25.316 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 14:43:25.341 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 14:43:25.341 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 14:43:25.342 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 14:43:25.342 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 14:43:25.342 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 14:43:25.343 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 14:43:25.345 +07:00 [INF] Hosting environment: Development
2024-09-23 14:43:25.345 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 14:43:25.346 +07:00 [DBG] Hosting started
2024-09-23 14:43:25.717 +07:00 [DBG] Connection id "0HN6RKDK63BFU" accepted.
2024-09-23 14:43:25.717 +07:00 [DBG] Connection id "0HN6RKDK63BFT" accepted.
2024-09-23 14:43:25.718 +07:00 [DBG] Connection id "0HN6RKDK63BFT" started.
2024-09-23 14:43:25.718 +07:00 [DBG] Connection id "0HN6RKDK63BFU" started.
2024-09-23 14:43:25.736 +07:00 [DBG] Connection id "0HN6RKDK63BFT" received FIN.
2024-09-23 14:43:25.736 +07:00 [DBG] Connection id "0HN6RKDK63BFU" received FIN.
2024-09-23 14:43:25.747 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 14:43:25.747 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 14:43:25.776 +07:00 [DBG] Connection id "0HN6RKDK63BFT" stopped.
2024-09-23 14:43:25.776 +07:00 [DBG] Connection id "0HN6RKDK63BFU" stopped.
2024-09-23 14:43:25.778 +07:00 [DBG] Connection id "0HN6RKDK63BFU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 14:43:25.778 +07:00 [DBG] Connection id "0HN6RKDK63BFT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 14:43:25.976 +07:00 [DBG] Connection id "0HN6RKDK63BFV" accepted.
2024-09-23 14:43:25.981 +07:00 [DBG] Connection id "0HN6RKDK63BFV" started.
2024-09-23 14:43:26.020 +07:00 [DBG] Connection 0HN6RKDK63BFV established using the following protocol: "Tls12"
2024-09-23 14:43:26.099 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 14:43:26.136 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 14:43:26.325 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 14:43:26.432 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 14:43:26.438 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 344.7169ms
2024-09-23 14:43:26.440 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 14:43:26.440 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 14:43:26.454 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 13.6660ms
2024-09-23 14:43:26.469 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 28.8389ms
2024-09-23 14:43:26.505 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 14:43:26.646 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.0537ms
2024-09-23 14:43:29.384 +07:00 [DBG] Connection id "0HN6RKDK63BG0" accepted.
2024-09-23 14:43:29.384 +07:00 [DBG] Connection id "0HN6RKDK63BG0" received FIN.
2024-09-23 14:43:29.386 +07:00 [DBG] Connection id "0HN6RKDK63BG0" started.
2024-09-23 14:43:29.386 +07:00 [DBG] Connection id "0HN6RKDK63BG1" accepted.
2024-09-23 14:43:29.388 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 14:43:29.388 +07:00 [DBG] Connection id "0HN6RKDK63BG1" started.
2024-09-23 14:43:29.391 +07:00 [DBG] Connection id "0HN6RKDK63BG0" stopped.
2024-09-23 14:43:29.392 +07:00 [DBG] Connection id "0HN6RKDK63BG0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 14:43:29.399 +07:00 [DBG] Connection 0HN6RKDK63BG1 established using the following protocol: "Tls12"
2024-09-23 14:43:29.406 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=1&pageNumber=2 - -
2024-09-23 14:43:29.409 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 14:43:29.427 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 14:43:29.432 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 14:43:29.434 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 14:43:29.436 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 14:43:29.469 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 14:43:29.471 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 14:43:29.472 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 14:43:29.473 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 14:43:29.474 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 14:43:29.474 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 14:43:29.475 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 14:43:29.577 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 14:43:29.698 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 14:43:29.709 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 14:43:29.712 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-09-23 14:43:29.713 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-09-23 14:43:29.714 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 14:43:29.714 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 14:43:29.715 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 14:43:29.716 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 14:43:29.717 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 14:43:29.718 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-09-23 14:43:29.718 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-09-23 14:43:29.720 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 14:43:29.722 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 14:43:29.722 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 14:43:29.723 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 14:43:29.723 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 14:43:29.724 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-09-23 14:43:29.725 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 14:43:29.725 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 14:43:29.726 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 14:43:29.727 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 14:43:29.728 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 14:43:29.729 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-23 14:43:29.730 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 14:43:29.731 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 14:43:29.731 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 14:43:29.732 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-23 14:43:30.353 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 14:43:30.384 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2024-09-23 14:43:30.551 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 14:43:30.587 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 14:43:30.631 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (40ms).
2024-09-23 14:43:30.639 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 14:43:30.651 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 14:43:30.659 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-09-23 14:43:30.676 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-09-23 14:43:30.687 +07:00 [DBG] A data reader was disposed.
2024-09-23 14:43:30.692 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 14:43:30.697 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 14:43:30.706 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_0)'
2024-09-23 14:43:30.756 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 14:43:30.767 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 14:43:30.768 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 14:43:30.770 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 14:43:30.771 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 14:43:30.774 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2024-09-23 14:43:30.779 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2024-09-23 14:43:30.794 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 14:43:30.812 +07:00 [DBG] A data reader was disposed.
2024-09-23 14:43:30.813 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 14:43:30.814 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 14:43:30.835 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 14:43:30.839 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 14:43:30.840 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 14:43:30.840 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 14:43:30.841 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 14:43:30.842 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 14:43:30.994 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1515.3639ms
2024-09-23 14:43:30.996 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 14:43:30.997 +07:00 [DBG] Connection id "0HN6RKDK63BG1" completed keep alive response.
2024-09-23 14:43:31.001 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 14:43:31.005 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=1&pageNumber=2 - - - 200 128 application/json;+charset=utf-8 1598.1692ms
2024-09-23 14:43:54.921 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=2&pageNumber=2 - -
2024-09-23 14:43:54.921 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 14:43:54.922 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 14:43:54.923 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 14:43:54.924 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 14:43:54.925 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 14:43:54.925 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 14:43:54.926 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 14:43:54.927 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 14:43:54.927 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 14:43:54.930 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 14:43:54.933 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 14:43:54.933 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 14:43:54.939 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 14:43:54.943 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 14:43:54.944 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-09-23 14:43:54.945 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-09-23 14:43:54.946 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 14:43:54.948 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 14:43:54.949 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 14:43:54.950 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 14:43:54.950 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 14:43:54.951 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-09-23 14:43:54.951 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-09-23 14:43:54.952 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 14:43:54.952 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 14:43:54.953 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 14:43:54.953 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 14:43:54.954 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 14:43:54.954 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-09-23 14:43:54.955 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 14:43:54.955 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 14:43:54.956 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 14:43:54.956 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 14:43:54.957 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 14:43:54.957 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-23 14:43:54.958 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 14:43:54.959 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 14:43:54.959 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 14:43:54.959 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-23 14:43:54.970 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 14:43:54.972 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 14:43:54.973 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 14:43:54.973 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 14:43:54.974 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 14:43:54.974 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-09-23 14:43:54.975 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-09-23 14:43:54.976 +07:00 [DBG] A data reader was disposed.
2024-09-23 14:43:54.976 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 14:43:54.977 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 14:43:54.980 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 14:43:54.981 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 14:43:54.981 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 14:43:54.982 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 14:43:54.982 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2024-09-23 14:43:54.983 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2024-09-23 14:43:54.984 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 14:43:54.985 +07:00 [DBG] A data reader was disposed.
2024-09-23 14:43:54.985 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 14:43:54.986 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 14:43:54.986 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 14:43:54.987 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 14:43:54.988 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 14:43:54.988 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 14:43:54.989 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 14:43:54.989 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 14:43:54.990 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 56.8885ms
2024-09-23 14:43:54.990 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 14:43:54.991 +07:00 [DBG] Connection id "0HN6RKDK63BG1" completed keep alive response.
2024-09-23 14:43:54.991 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 14:43:54.992 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=2&pageNumber=2 - - - 200 128 application/json;+charset=utf-8 71.3476ms
2024-09-23 15:50:51.447 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 15:50:51.570 +07:00 [DBG] Hosting starting
2024-09-23 15:50:51.793 +07:00 [DBG] Using development certificate: CN=localhost (Thumbprint: F30F5807C929FA31C95EE47CAB7AC245E9AA8827)
2024-09-23 15:50:51.818 +07:00 [INF] Now listening on: https://localhost:7139
2024-09-23 15:50:51.819 +07:00 [INF] Now listening on: http://localhost:5200
2024-09-23 15:50:51.819 +07:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-09-23 15:50:51.819 +07:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-23 15:50:51.820 +07:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-23 15:50:51.820 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 15:50:51.821 +07:00 [INF] Hosting environment: Development
2024-09-23 15:50:51.822 +07:00 [INF] Content root path: D:\C#-Project\CityInfo\CityInfo.API\
2024-09-23 15:50:51.822 +07:00 [DBG] Hosting started
2024-09-23 15:50:52.292 +07:00 [DBG] Connection id "0HN6RLJA57M4U" accepted.
2024-09-23 15:50:52.293 +07:00 [DBG] Connection id "0HN6RLJA57M4U" started.
2024-09-23 15:50:52.295 +07:00 [DBG] Connection id "0HN6RLJA57M4V" accepted.
2024-09-23 15:50:52.296 +07:00 [DBG] Connection id "0HN6RLJA57M4V" started.
2024-09-23 15:50:52.455 +07:00 [DBG] Connection id "0HN6RLJA57M50" accepted.
2024-09-23 15:50:52.458 +07:00 [DBG] Connection id "0HN6RLJA57M50" started.
2024-09-23 15:50:52.459 +07:00 [DBG] Connection id "0HN6RLJA57M51" accepted.
2024-09-23 15:50:52.465 +07:00 [DBG] Connection id "0HN6RLJA57M51" started.
2024-09-23 15:50:52.490 +07:00 [DBG] Connection id "0HN6RLJA57M50" received FIN.
2024-09-23 15:50:52.500 +07:00 [DBG] Connection 0HN6RLJA57M51 established using the following protocol: "Tls12"
2024-09-23 15:50:52.500 +07:00 [DBG] Connection 0HN6RLJA57M50 established using the following protocol: "Tls12"
2024-09-23 15:50:52.516 +07:00 [DBG] Connection id "0HN6RLJA57M50" is closed. The last processed stream ID was 0.
2024-09-23 15:50:52.518 +07:00 [DBG] Connection id "0HN6RLJA57M50" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 15:50:52.522 +07:00 [DBG] Connection id "0HN6RLJA57M50" stopped.
2024-09-23 15:50:52.555 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger - -
2024-09-23 15:50:52.594 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 15:50:52.687 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger - - - 301 0 - 136.6673ms
2024-09-23 15:50:52.688 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/index.html - -
2024-09-23 15:50:52.850 +07:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-23 15:50:52.985 +07:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-23 15:50:52.987 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/index.html - - - 200 - text/html;charset=utf-8 298.8592ms
2024-09-23 15:50:52.990 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/swagger-ui-standalone-preset.js - -
2024-09-23 15:50:52.990 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/swagger-ui-bundle.js - -
2024-09-23 15:50:52.990 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/swagger-ui.css - -
2024-09-23 15:50:52.990 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - -
2024-09-23 15:50:52.990 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/_vs/browserLink - -
2024-09-23 15:50:53.000 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 10.0222ms
2024-09-23 15:50:53.026 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 35.6710ms
2024-09-23 15:50:53.045 +07:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-09-23 15:50:53.045 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/swagger-ui.css - - - 200 144929 text/css 55.2291ms
2024-09-23 15:50:53.051 +07:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-09-23 15:50:53.052 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/swagger-ui-standalone-preset.js - - - 200 312163 application/javascript 61.6349ms
2024-09-23 15:50:53.062 +07:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-09-23 15:50:53.062 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/swagger-ui-bundle.js - - - 200 1061536 application/javascript 71.9659ms
2024-09-23 15:50:53.168 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - -
2024-09-23 15:50:53.198 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/swagger/favicon-32x32.png - -
2024-09-23 15:50:53.198 +07:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-09-23 15:50:53.199 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/favicon-32x32.png - - - 200 628 image/png 1.6057ms
2024-09-23 15:50:53.336 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 167.9028ms
2024-09-23 15:51:02.324 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2024-09-23 15:51:02.324 +07:00 [DBG] Authentication of the HTTPS connection timed out.
2024-09-23 15:51:02.325 +07:00 [DBG] Connection id "0HN6RLJA57M4U" stopped.
2024-09-23 15:51:02.327 +07:00 [DBG] Connection id "0HN6RLJA57M4V" stopped.
2024-09-23 15:51:02.328 +07:00 [DBG] Connection id "0HN6RLJA57M4U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 15:51:02.329 +07:00 [DBG] Connection id "0HN6RLJA57M4V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 15:51:41.437 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/api/cities?pageNumber=1&pageSize=10 - -
2024-09-23 15:51:41.437 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 15:51:41.457 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 15:51:41.462 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 15:51:41.463 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:51:41.465 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:51:41.499 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 15:51:41.501 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 15:51:41.501 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 15:51:41.502 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 15:51:41.502 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 15:51:41.503 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 15:51:41.504 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 15:51:41.719 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-23 15:51:41.845 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 15:51:41.861 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 15:51:41.863 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-09-23 15:51:41.865 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-09-23 15:51:41.866 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 15:51:41.867 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 15:51:41.867 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 15:51:41.868 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 15:51:41.870 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 15:51:41.870 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-09-23 15:51:41.871 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:51:41.871 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:51:41.872 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:51:41.872 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 15:51:41.873 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:51:41.873 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 15:51:41.873 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-09-23 15:51:41.874 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:51:41.874 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:51:41.875 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 15:51:41.876 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:51:41.876 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 15:51:41.876 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-23 15:51:41.877 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:51:41.877 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:51:41.878 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 15:51:41.878 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:51:42.488 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 15:51:42.516 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2024-09-23 15:51:42.672 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 15:51:42.707 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 15:51:42.818 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (111ms).
2024-09-23 15:51:42.826 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:51:42.841 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:51:42.850 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-09-23 15:51:42.885 +07:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-09-23 15:51:42.898 +07:00 [DBG] A data reader was disposed.
2024-09-23 15:51:42.912 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:51:42.916 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:51:42.925 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2024-09-23 15:51:42.969 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 15:51:42.977 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 15:51:42.977 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 15:51:42.979 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:51:42.980 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:51:42.984 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 15:51:42.988 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 15:51:43.001 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 15:51:43.024 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 15:51:43.025 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 15:51:43.026 +07:00 [DBG] A data reader was disposed.
2024-09-23 15:51:43.026 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:51:43.027 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:51:43.039 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 15:51:43.042 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-23 15:51:43.043 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-23 15:51:43.044 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-09-23 15:51:43.048 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1540.9241ms
2024-09-23 15:51:43.049 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:51:43.053 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 15:51:43.057 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/api/cities?pageNumber=1&pageSize=10 - - - 406 0 - 1620.6245ms
2024-09-23 15:51:57.559 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/api/cities - -
2024-09-23 15:51:57.559 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 15:51:57.560 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 15:51:57.560 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 15:51:57.561 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:51:57.561 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:51:57.562 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 15:51:57.562 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 15:51:57.563 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 15:51:57.564 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 15:51:57.564 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 15:51:57.565 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 15:51:57.565 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 15:51:57.572 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 15:51:57.575 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 15:51:57.576 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-09-23 15:51:57.576 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-09-23 15:51:57.577 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 15:51:57.577 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 15:51:57.578 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 15:51:57.578 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 15:51:57.578 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 15:51:57.579 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-09-23 15:51:57.579 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:51:57.580 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:51:57.581 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:51:57.581 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 15:51:57.581 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:51:57.582 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 15:51:57.582 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2024-09-23 15:51:57.583 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:51:57.584 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:51:57.584 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:51:57.585 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 15:51:57.585 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:51:57.585 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 15:51:57.586 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2024-09-23 15:51:57.586 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:51:57.587 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:51:57.587 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:51:57.588 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 15:51:57.588 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:51:57.593 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 15:51:57.600 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 15:51:57.600 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 15:51:57.601 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:51:57.601 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:51:57.602 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-09-23 15:51:57.602 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-09-23 15:51:57.603 +07:00 [DBG] A data reader was disposed.
2024-09-23 15:51:57.603 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:51:57.604 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:51:57.605 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 15:51:57.605 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 15:51:57.606 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:51:57.606 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:51:57.607 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 15:51:57.607 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 15:51:57.608 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 15:51:57.609 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 15:51:57.609 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 15:51:57.609 +07:00 [DBG] A data reader was disposed.
2024-09-23 15:51:57.610 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:51:57.610 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:51:57.611 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 15:51:57.612 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-23 15:51:57.612 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-23 15:51:57.612 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-09-23 15:51:57.613 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 47.6282ms
2024-09-23 15:51:57.613 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:51:57.614 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 15:51:57.614 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/api/cities - - - 406 0 - 55.5838ms
2024-09-23 15:52:34.175 +07:00 [DBG] Connection id "0HN6RLJA57M52" accepted.
2024-09-23 15:52:34.176 +07:00 [DBG] Connection id "0HN6RLJA57M52" started.
2024-09-23 15:52:34.182 +07:00 [DBG] Connection id "0HN6RLJA57M52" received FIN.
2024-09-23 15:52:34.182 +07:00 [DBG] Connection id "0HN6RLJA57M53" accepted.
2024-09-23 15:52:34.190 +07:00 [DBG] Connection id "0HN6RLJA57M53" started.
2024-09-23 15:52:34.191 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.<FillHandshakeBufferAsync>g__InternalFillHandshakeBufferAsync|189_0[TIOAdapter](TIOAdapter adap, ValueTask`1 task, Int32 minSize)
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 15:52:34.196 +07:00 [DBG] Connection 0HN6RLJA57M53 established using the following protocol: "Tls12"
2024-09-23 15:52:34.251 +07:00 [DBG] Connection id "0HN6RLJA57M52" stopped.
2024-09-23 15:52:34.252 +07:00 [DBG] Connection id "0HN6RLJA57M52" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 15:52:34.259 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities - -
2024-09-23 15:52:34.259 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 15:52:34.259 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 15:52:34.260 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 15:52:34.260 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:52:34.261 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:52:34.261 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 15:52:34.262 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 15:52:34.262 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 15:52:34.263 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 15:52:34.264 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 15:52:34.264 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 15:52:34.265 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 15:52:34.268 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 15:52:34.269 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 15:52:34.269 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-09-23 15:52:34.270 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-09-23 15:52:34.270 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 15:52:34.271 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 15:52:34.271 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 15:52:34.272 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 15:52:34.272 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 15:52:34.272 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-09-23 15:52:34.273 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:52:34.273 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:52:34.274 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:52:34.274 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 15:52:34.274 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:52:34.275 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 15:52:34.275 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2024-09-23 15:52:34.276 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:52:34.276 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:52:34.277 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:52:34.277 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 15:52:34.278 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:52:34.278 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 15:52:34.278 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2024-09-23 15:52:34.279 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:52:34.279 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:52:34.280 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:52:34.281 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 15:52:34.281 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:52:34.316 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 15:52:34.317 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 15:52:34.318 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 15:52:34.318 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:52:34.319 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:52:34.319 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-09-23 15:52:34.320 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-09-23 15:52:34.320 +07:00 [DBG] A data reader was disposed.
2024-09-23 15:52:34.321 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:52:34.321 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:52:34.321 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 15:52:34.322 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 15:52:34.322 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:52:34.323 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:52:34.323 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 15:52:34.324 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 15:52:34.324 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 15:52:34.325 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 15:52:34.325 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 15:52:34.326 +07:00 [DBG] A data reader was disposed.
2024-09-23 15:52:34.326 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:52:34.327 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:52:34.327 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 15:52:34.328 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 15:52:34.329 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 15:52:34.329 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 15:52:34.330 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 15:52:34.332 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 15:52:34.474 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 209.1522ms
2024-09-23 15:52:34.475 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:52:34.475 +07:00 [DBG] Connection id "0HN6RLJA57M53" completed keep alive response.
2024-09-23 15:52:34.476 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 15:52:34.476 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities - - - 200 380 application/json;+charset=utf-8 217.2495ms
2024-09-23 15:52:59.304 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/api/cities?pageNumber=1&pageSize=1 - -
2024-09-23 15:52:59.304 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 15:52:59.305 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 15:52:59.306 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 15:52:59.306 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:52:59.307 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:52:59.307 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 15:52:59.308 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 15:52:59.309 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 15:52:59.310 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 15:52:59.311 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 15:52:59.312 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 15:52:59.312 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 15:52:59.313 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 15:52:59.314 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 15:52:59.315 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-09-23 15:52:59.316 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-09-23 15:52:59.317 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 15:52:59.318 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 15:52:59.318 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 15:52:59.319 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 15:52:59.319 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 15:52:59.320 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-09-23 15:52:59.320 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:52:59.321 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:52:59.321 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:52:59.322 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 15:52:59.322 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:52:59.322 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 15:52:59.323 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-09-23 15:52:59.323 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:52:59.324 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:52:59.324 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 15:52:59.325 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:52:59.325 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 15:52:59.325 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-23 15:52:59.326 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:52:59.326 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:52:59.327 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 15:52:59.327 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:52:59.328 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 15:52:59.329 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 15:52:59.329 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 15:52:59.330 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:52:59.330 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:52:59.331 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-09-23 15:52:59.332 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-09-23 15:52:59.333 +07:00 [DBG] A data reader was disposed.
2024-09-23 15:52:59.333 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:52:59.333 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:52:59.334 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 15:52:59.334 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 15:52:59.334 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:52:59.335 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:52:59.335 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 15:52:59.336 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 15:52:59.337 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 15:52:59.337 +07:00 [DBG] A data reader was disposed.
2024-09-23 15:52:59.337 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:52:59.338 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:52:59.338 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 15:52:59.339 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-23 15:52:59.340 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-23 15:52:59.340 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-09-23 15:52:59.340 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 28.1145ms
2024-09-23 15:52:59.341 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:52:59.341 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 15:52:59.342 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/api/cities?pageNumber=1&pageSize=1 - - - 406 0 - 37.7098ms
2024-09-23 15:53:12.440 +07:00 [INF] Request starting HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=2&pageNumber=2 - -
2024-09-23 15:53:12.441 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 15:53:12.443 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 15:53:12.444 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 15:53:12.446 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:53:12.448 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:53:12.451 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 15:53:12.452 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 15:53:12.453 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 15:53:12.453 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 15:53:12.454 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 15:53:12.455 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 15:53:12.455 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 15:53:12.456 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 15:53:12.456 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 15:53:12.457 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-09-23 15:53:12.457 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-09-23 15:53:12.458 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 15:53:12.458 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 15:53:12.458 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 15:53:12.459 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 15:53:12.459 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 15:53:12.460 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-09-23 15:53:12.460 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:53:12.461 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:53:12.461 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:53:12.461 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 15:53:12.462 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:53:12.462 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 15:53:12.463 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-09-23 15:53:12.463 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:53:12.464 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:53:12.464 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 15:53:12.465 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:53:12.465 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 15:53:12.466 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-23 15:53:12.467 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:53:12.467 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:53:12.468 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 15:53:12.468 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:53:12.469 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 15:53:12.469 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 15:53:12.470 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 15:53:12.470 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:53:12.471 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:53:12.471 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-09-23 15:53:12.472 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-09-23 15:53:12.472 +07:00 [DBG] A data reader was disposed.
2024-09-23 15:53:12.472 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:53:12.473 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:53:12.474 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)
    .Skip(__p_0)
    .Take(__p_0)'
2024-09-23 15:53:12.476 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 15:53:12.476 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 15:53:12.477 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 15:53:12.477 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:53:12.478 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:53:12.478 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2024-09-23 15:53:12.479 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_0 OFFSET @__p_0
2024-09-23 15:53:12.480 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 15:53:12.481 +07:00 [DBG] A data reader was disposed.
2024-09-23 15:53:12.481 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:53:12.482 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:53:12.482 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 15:53:12.483 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 15:53:12.483 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 15:53:12.484 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 15:53:12.484 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 15:53:12.484 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 15:53:12.485 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 29.7912ms
2024-09-23 15:53:12.486 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:53:12.486 +07:00 [DBG] Connection id "0HN6RLJA57M53" completed keep alive response.
2024-09-23 15:53:12.486 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 15:53:12.487 +07:00 [INF] Request finished HTTP/1.1 GET https://localhost:7139/api/cities?pageSize=2&pageNumber=2 - - - 200 128 application/json;+charset=utf-8 46.9080ms
2024-09-23 15:53:58.425 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/api/cities?name=New%20york%20City3&pageNumber=1&pageSize=1 - -
2024-09-23 15:53:58.461 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 15:53:58.461 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 15:53:58.461 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 15:53:58.462 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:53:58.462 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:53:58.463 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 15:53:58.464 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 15:53:58.466 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 15:53:58.466 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 15:53:58.467 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 15:53:58.467 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 15:53:58.468 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 15:53:58.468 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 15:53:58.469 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 15:53:58.469 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2024-09-23 15:53:58.470 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 15:53:58.470 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 15:53:58.471 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 15:53:58.471 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 15:53:58.471 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 15:53:58.472 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-09-23 15:53:58.472 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:53:58.473 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:53:58.473 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:53:58.474 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 15:53:58.474 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:53:58.474 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 15:53:58.475 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-09-23 15:53:58.475 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:53:58.476 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:53:58.476 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 15:53:58.477 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:53:58.477 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 15:53:58.477 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-23 15:53:58.478 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:53:58.478 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:53:58.479 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 15:53:58.479 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:53:58.480 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 15:53:58.483 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .Count()'
2024-09-23 15:53:58.499 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c
            WHERE c.Name == @__name_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 15:53:58.505 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 15:53:58.505 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 15:53:58.505 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:53:58.506 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:53:58.506 +07:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
2024-09-23 15:53:58.508 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__name_0='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
2024-09-23 15:53:58.509 +07:00 [DBG] A data reader was disposed.
2024-09-23 15:53:58.509 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:53:58.510 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:53:58.510 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .OrderBy(c => c.Name)
    .Skip(__p_1)
    .Take(__p_2)'
2024-09-23 15:53:58.512 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE c.Name == @__name_0
        ORDER BY c.Name ASC
        OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 15:53:58.513 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 15:53:58.513 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 15:53:58.514 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:53:58.514 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:53:58.515 +07:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 14), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2024-09-23 15:53:58.515 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?' (Size = 14), @__p_2='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Name" = @__name_0
ORDER BY "c"."Name"
LIMIT @__p_2 OFFSET @__p_1
2024-09-23 15:53:58.516 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 15:53:58.517 +07:00 [DBG] A data reader was disposed.
2024-09-23 15:53:58.517 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:53:58.518 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:53:58.518 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 15:53:58.519 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-23 15:53:58.519 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-23 15:53:58.520 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-09-23 15:53:58.520 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 52.1614ms
2024-09-23 15:53:58.520 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:53:58.521 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 15:53:58.521 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/api/cities?name=New%20york%20City3&pageNumber=1&pageSize=1 - - - 406 0 - 96.5559ms
2024-09-23 15:54:19.738 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/api/cities?name=New%20york%20City3&searchQuery=that&pageNumber=1&pageSize=1 - -
2024-09-23 15:54:19.742 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 15:54:19.742 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 15:54:19.743 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 15:54:19.744 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:54:19.744 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:54:19.745 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 15:54:19.746 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 15:54:19.746 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 15:54:19.747 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 15:54:19.748 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 15:54:19.749 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 15:54:19.749 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 15:54:19.750 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 15:54:19.751 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 15:54:19.751 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name 'name' in request data ...
2024-09-23 15:54:19.751 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 15:54:19.752 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 15:54:19.752 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 15:54:19.753 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 15:54:19.753 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 15:54:19.753 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name 'searchQuery' in request data ...
2024-09-23 15:54:19.754 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:54:19.754 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:54:19.755 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 15:54:19.755 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:54:19.755 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 15:54:19.756 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-09-23 15:54:19.756 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:54:19.757 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:54:19.757 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 15:54:19.758 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:54:19.758 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 15:54:19.758 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-23 15:54:19.759 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:54:19.759 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:54:19.760 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 15:54:19.760 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:54:19.761 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 15:54:19.763 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .Where(c => c.Name.Contains(__searchQuery_1) || c.Description != null && c.Description.Contains(__searchQuery_1))
    .Count()'
2024-09-23 15:54:19.788 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c
            WHERE (c.Name == @__name_0) && (((@__searchQuery_1 == '') || (instr(c.Name, @__searchQuery_1) > 0)) || ((c.Description != NULL) && ((@__searchQuery_1 == '') || (instr(c.Description, @__searchQuery_1) > 0))))), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 15:54:19.794 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 15:54:19.794 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 15:54:19.795 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:54:19.795 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:54:19.796 +07:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 14), @__searchQuery_1='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE ("c"."Name" = @__name_0) AND (((@__searchQuery_1 = '') OR (instr("c"."Name", @__searchQuery_1) > 0)) OR ("c"."Description" IS NOT NULL AND ((@__searchQuery_1 = '') OR (instr("c"."Description", @__searchQuery_1) > 0))))
2024-09-23 15:54:19.797 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?' (Size = 14), @__searchQuery_1='?' (Size = 4)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
WHERE ("c"."Name" = @__name_0) AND (((@__searchQuery_1 = '') OR (instr("c"."Name", @__searchQuery_1) > 0)) OR ("c"."Description" IS NOT NULL AND ((@__searchQuery_1 = '') OR (instr("c"."Description", @__searchQuery_1) > 0))))
2024-09-23 15:54:19.798 +07:00 [DBG] A data reader was disposed.
2024-09-23 15:54:19.798 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:54:19.799 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:54:19.799 +07:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Name == __name_0)
    .Where(c => c.Name.Contains(__searchQuery_1) || c.Description != null && c.Description.Contains(__searchQuery_1))
    .OrderBy(c => c.Name)
    .Skip(__p_2)
    .Take(__p_3)'
2024-09-23 15:54:19.801 +07:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        WHERE (c.Name == @__name_0) && (((@__searchQuery_1 == '') || (instr(c.Name, @__searchQuery_1) > 0)) || ((c.Description != NULL) && ((@__searchQuery_1 == '') || (instr(c.Description, @__searchQuery_1) > 0))))
        ORDER BY c.Name ASC
        OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-09-23 15:54:19.802 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 15:54:19.802 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 15:54:19.803 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:54:19.803 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:54:19.803 +07:00 [DBG] Executing DbCommand [Parameters=[@__name_0='?' (Size = 14), @__searchQuery_1='?' (Size = 4), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ("c"."Name" = @__name_0) AND (((@__searchQuery_1 = '') OR (instr("c"."Name", @__searchQuery_1) > 0)) OR ("c"."Description" IS NOT NULL AND ((@__searchQuery_1 = '') OR (instr("c"."Description", @__searchQuery_1) > 0))))
ORDER BY "c"."Name"
LIMIT @__p_3 OFFSET @__p_2
2024-09-23 15:54:19.804 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__name_0='?' (Size = 14), @__searchQuery_1='?' (Size = 4), @__p_3='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE ("c"."Name" = @__name_0) AND (((@__searchQuery_1 = '') OR (instr("c"."Name", @__searchQuery_1) > 0)) OR ("c"."Description" IS NOT NULL AND ((@__searchQuery_1 = '') OR (instr("c"."Description", @__searchQuery_1) > 0))))
ORDER BY "c"."Name"
LIMIT @__p_3 OFFSET @__p_2
2024-09-23 15:54:19.805 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 15:54:19.806 +07:00 [DBG] A data reader was disposed.
2024-09-23 15:54:19.806 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:54:19.806 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:54:19.807 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 15:54:19.808 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-23 15:54:19.809 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-23 15:54:19.809 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-09-23 15:54:19.810 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 60.7414ms
2024-09-23 15:54:19.810 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:54:19.811 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 15:54:19.811 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/api/cities?name=New%20york%20City3&searchQuery=that&pageNumber=1&pageSize=1 - - - 406 0 - 73.5518ms
2024-09-23 15:54:45.785 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/api/cities?pageNumber=1&pageSize=1 - -
2024-09-23 15:54:45.789 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 15:54:45.789 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 15:54:45.790 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 15:54:45.791 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:54:45.792 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:54:45.793 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 15:54:45.794 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 15:54:45.794 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 15:54:45.795 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 15:54:45.795 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 15:54:45.796 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 15:54:45.796 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 15:54:45.797 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 15:54:45.798 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 15:54:45.798 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-09-23 15:54:45.799 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-09-23 15:54:45.799 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 15:54:45.800 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 15:54:45.800 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 15:54:45.801 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 15:54:45.801 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 15:54:45.802 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-09-23 15:54:45.802 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:54:45.802 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:54:45.803 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:54:45.803 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 15:54:45.804 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:54:45.804 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 15:54:45.804 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-09-23 15:54:45.805 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:54:45.805 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:54:45.806 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 15:54:45.806 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:54:45.807 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 15:54:45.807 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-23 15:54:45.808 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:54:45.808 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:54:45.808 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 15:54:45.809 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:54:45.810 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 15:54:45.810 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 15:54:45.811 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 15:54:45.811 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:54:45.811 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:54:45.812 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-09-23 15:54:45.812 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-09-23 15:54:45.813 +07:00 [DBG] A data reader was disposed.
2024-09-23 15:54:45.814 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:54:45.814 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:54:45.815 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 15:54:45.815 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 15:54:45.816 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:54:45.816 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:54:45.816 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 15:54:45.817 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 15:54:45.818 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 15:54:45.818 +07:00 [DBG] A data reader was disposed.
2024-09-23 15:54:45.819 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:54:45.819 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:54:45.820 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 15:54:45.820 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-23 15:54:45.821 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-23 15:54:45.821 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-09-23 15:54:45.822 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 25.4393ms
2024-09-23 15:54:45.822 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:54:45.823 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 15:54:45.823 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/api/cities?pageNumber=1&pageSize=1 - - - 406 0 - 38.1811ms
2024-09-23 15:54:50.366 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/api/cities?pageNumber=1&pageSize=1 - -
2024-09-23 15:54:50.366 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 15:54:50.367 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 15:54:50.368 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 15:54:50.369 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:54:50.369 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:54:50.370 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 15:54:50.371 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 15:54:50.372 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 15:54:50.373 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 15:54:50.373 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 15:54:50.374 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 15:54:50.375 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 15:54:50.376 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 15:54:50.376 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 15:54:50.377 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-09-23 15:54:50.377 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-09-23 15:54:50.378 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 15:54:50.378 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 15:54:50.379 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 15:54:50.380 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 15:54:50.380 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 15:54:50.381 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-09-23 15:54:50.382 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:54:50.383 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:54:50.383 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:54:50.384 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 15:54:50.384 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:54:50.385 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 15:54:50.386 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-09-23 15:54:50.386 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:54:50.387 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:54:50.387 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 15:54:50.388 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:54:50.388 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 15:54:50.389 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-23 15:54:50.389 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:54:50.390 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:54:50.390 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 15:54:50.391 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:54:50.391 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 15:54:50.392 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 15:54:50.392 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 15:54:50.393 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:54:50.393 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:54:50.394 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-09-23 15:54:50.394 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-09-23 15:54:50.395 +07:00 [DBG] A data reader was disposed.
2024-09-23 15:54:50.395 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:54:50.396 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:54:50.396 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 15:54:50.397 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 15:54:50.397 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:54:50.398 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:54:50.398 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 15:54:50.400 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 15:54:50.401 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 15:54:50.401 +07:00 [DBG] A data reader was disposed.
2024-09-23 15:54:50.401 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:54:50.402 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:54:50.402 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 15:54:50.404 +07:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 15:54:50.404 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 15:54:50.404 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 15:54:50.405 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 15:54:50.405 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 15:54:50.406 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 31.1002ms
2024-09-23 15:54:50.406 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:54:50.409 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 15:54:50.410 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/api/cities?pageNumber=1&pageSize=1 - - - 200 126 application/json;+charset=utf-8 44.6847ms
2024-09-23 15:54:50.429 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/favicon.ico - -
2024-09-23 15:54:50.432 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 15:54:50.434 +07:00 [DBG] No candidates found for the request path '/favicon.ico'
2024-09-23 15:54:50.436 +07:00 [DBG] Request did not match any endpoints
2024-09-23 15:54:50.437 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/favicon.ico - - - 404 0 - 7.3282ms
2024-09-23 15:55:00.916 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/api/cities?pageNumber=1&pageSize=1 - -
2024-09-23 15:55:00.916 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 15:55:00.917 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 15:55:00.917 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 15:55:00.918 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:55:00.919 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:55:00.919 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 15:55:00.920 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 15:55:00.921 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 15:55:00.922 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 15:55:00.923 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 15:55:00.924 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 15:55:00.925 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 15:55:00.925 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 15:55:00.926 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 15:55:00.927 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-09-23 15:55:00.928 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-09-23 15:55:00.928 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 15:55:00.929 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 15:55:00.929 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 15:55:00.930 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 15:55:00.930 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 15:55:00.931 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-09-23 15:55:00.932 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:55:00.932 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:55:00.933 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:55:00.933 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 15:55:00.934 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:55:00.934 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 15:55:00.935 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-09-23 15:55:00.935 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:55:00.935 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:55:00.936 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 15:55:00.936 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:55:00.937 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 15:55:00.937 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-23 15:55:00.938 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:55:00.938 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:55:00.938 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 15:55:00.939 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:55:00.939 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 15:55:00.940 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 15:55:00.940 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 15:55:00.941 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:55:00.941 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:55:00.942 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-09-23 15:55:00.942 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-09-23 15:55:00.943 +07:00 [DBG] A data reader was disposed.
2024-09-23 15:55:00.943 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:55:00.944 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:55:00.944 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 15:55:00.945 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 15:55:00.945 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:55:00.945 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:55:00.946 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 15:55:00.947 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 15:55:00.948 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 15:55:00.948 +07:00 [DBG] A data reader was disposed.
2024-09-23 15:55:00.949 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:55:00.949 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:55:00.949 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 15:55:00.950 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["application/json"]'.
2024-09-23 15:55:00.951 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 15:55:00.951 +07:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 15:55:00.952 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 27.113ms
2024-09-23 15:55:00.952 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:55:00.953 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 15:55:00.953 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/api/cities?pageNumber=1&pageSize=1 - - - 200 126 application/json;+charset=utf-8 37.4641ms
2024-09-23 15:55:08.394 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7139/api/cities?pageNumber=1&pageSize=1 - -
2024-09-23 15:55:08.395 +07:00 [DBG] The request path  does not match the path filter
2024-09-23 15:55:08.395 +07:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-09-23 15:55:08.395 +07:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-09-23 15:55:08.396 +07:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:55:08.397 +07:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:55:08.397 +07:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-09-23 15:55:08.399 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 15:55:08.399 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 15:55:08.400 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 15:55:08.401 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 15:55:08.401 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 15:55:08.402 +07:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 15:55:08.403 +07:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-09-23 15:55:08.404 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2024-09-23 15:55:08.405 +07:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2024-09-23 15:55:08.405 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2024-09-23 15:55:08.406 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 15:55:08.407 +07:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2024-09-23 15:55:08.407 +07:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2024-09-23 15:55:08.408 +07:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2024-09-23 15:55:08.408 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2024-09-23 15:55:08.409 +07:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2024-09-23 15:55:08.409 +07:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:55:08.410 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:55:08.410 +07:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:55:08.410 +07:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2024-09-23 15:55:08.411 +07:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2024-09-23 15:55:08.411 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 15:55:08.412 +07:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name 'pageNumber' in request data ...
2024-09-23 15:55:08.412 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:55:08.412 +07:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:55:08.413 +07:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2024-09-23 15:55:08.413 +07:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2024-09-23 15:55:08.414 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 15:55:08.414 +07:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name 'pageSize' in request data ...
2024-09-23 15:55:08.415 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:55:08.416 +07:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:55:08.416 +07:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2024-09-23 15:55:08.417 +07:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2024-09-23 15:55:08.418 +07:00 [INF] Entity Framework Core 6.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.0' with options: None
2024-09-23 15:55:08.418 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 15:55:08.419 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 15:55:08.419 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:55:08.419 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:55:08.420 +07:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-09-23 15:55:08.420 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM "Cities" AS "c"
2024-09-23 15:55:08.421 +07:00 [DBG] A data reader was disposed.
2024-09-23 15:55:08.421 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:55:08.422 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:55:08.422 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 15:55:08.423 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 15:55:08.423 +07:00 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:55:08.423 +07:00 [DBG] Opened connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:55:08.424 +07:00 [DBG] Executing DbCommand [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 15:55:08.425 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
LIMIT @__p_1 OFFSET @__p_0
2024-09-23 15:55:08.425 +07:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-23 15:55:08.426 +07:00 [DBG] A data reader was disposed.
2024-09-23 15:55:08.426 +07:00 [DBG] Closing connection to database 'main' on server 'D:\C#-Project\CityInfo\CityInfo.API\CityInfo.db'.
2024-09-23 15:55:08.426 +07:00 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2024-09-23 15:55:08.427 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-09-23 15:55:08.428 +07:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-09-23 15:55:08.428 +07:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-09-23 15:55:08.429 +07:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-09-23 15:55:08.429 +07:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 26.6894ms
2024-09-23 15:55:08.429 +07:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-09-23 15:55:08.430 +07:00 [DBG] 'CityInfoContext' disposed.
2024-09-23 15:55:08.430 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7139/api/cities?pageNumber=1&pageSize=1 - - - 406 0 - 36.2201ms
2024-09-23 15:56:35.107 +07:00 [DBG] Connection id "0HN6RLJA57M54" accepted.
2024-09-23 15:56:35.112 +07:00 [DBG] Connection id "0HN6RLJA57M54" received FIN.
2024-09-23 15:56:35.112 +07:00 [DBG] Connection id "0HN6RLJA57M54" started.
2024-09-23 15:56:35.113 +07:00 [DBG] Connection id "0HN6RLJA57M55" accepted.
2024-09-23 15:56:35.122 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 15:56:35.122 +07:00 [DBG] Connection id "0HN6RLJA57M55" started.
2024-09-23 15:56:35.123 +07:00 [DBG] Connection id "0HN6RLJA57M54" stopped.
2024-09-23 15:56:35.124 +07:00 [DBG] Connection id "0HN6RLJA57M54" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 15:56:35.128 +07:00 [DBG] Connection 0HN6RLJA57M55 established using the following protocol: "Tls12"
2024-09-23 15:56:35.129 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7139/api/authentication/authenticate application/json 114
2024-09-23 15:56:35.129 +07:00 [DBG] POST requests are not supported
2024-09-23 15:56:35.129 +07:00 [DBG] No candidates found for the request path '/api/authentication/authenticate'
2024-09-23 15:56:35.130 +07:00 [DBG] Request did not match any endpoints
2024-09-23 15:56:35.131 +07:00 [DBG] Connection id "0HN6RLJA57M55" completed keep alive response.
2024-09-23 15:56:35.132 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7139/api/authentication/authenticate application/json 114 - 404 0 - 3.4789ms
2024-09-23 15:56:35.133 +07:00 [DBG] Connection id "0HN6RLJA57M55", Request id "0HN6RLJA57M55:00000002": started reading request body.
2024-09-23 15:56:35.134 +07:00 [DBG] Connection id "0HN6RLJA57M55", Request id "0HN6RLJA57M55:00000002": done reading request body.
2024-09-23 15:58:13.334 +07:00 [DBG] Connection id "0HN6RLJA57M56" accepted.
2024-09-23 15:58:13.338 +07:00 [DBG] Connection id "0HN6RLJA57M56" received FIN.
2024-09-23 15:58:13.339 +07:00 [DBG] Connection id "0HN6RLJA57M56" started.
2024-09-23 15:58:13.339 +07:00 [DBG] Connection id "0HN6RLJA57M57" accepted.
2024-09-23 15:58:13.346 +07:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-23 15:58:13.346 +07:00 [DBG] Connection id "0HN6RLJA57M57" started.
2024-09-23 15:58:13.348 +07:00 [DBG] Connection id "0HN6RLJA57M56" stopped.
2024-09-23 15:58:13.348 +07:00 [DBG] Connection id "0HN6RLJA57M56" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 15:58:13.354 +07:00 [DBG] Connection 0HN6RLJA57M57 established using the following protocol: "Tls12"
2024-09-23 15:58:13.355 +07:00 [INF] Request starting HTTP/1.1 POST https://localhost:7139/api/authentication/authenticate application/json 114
2024-09-23 15:58:13.355 +07:00 [DBG] POST requests are not supported
2024-09-23 15:58:13.355 +07:00 [DBG] No candidates found for the request path '/api/authentication/authenticate'
2024-09-23 15:58:13.356 +07:00 [DBG] Request did not match any endpoints
2024-09-23 15:58:13.356 +07:00 [DBG] Connection id "0HN6RLJA57M57" completed keep alive response.
2024-09-23 15:58:13.356 +07:00 [INF] Request finished HTTP/1.1 POST https://localhost:7139/api/authentication/authenticate application/json 114 - 404 0 - 1.7589ms
2024-09-23 15:58:13.357 +07:00 [DBG] Connection id "0HN6RLJA57M57", Request id "0HN6RLJA57M57:00000002": started reading request body.
2024-09-23 15:58:13.357 +07:00 [DBG] Connection id "0HN6RLJA57M57", Request id "0HN6RLJA57M57:00000002": done reading request body.
